/*! PolySonic 2016-03-14 */
function md5cycle(a,b){var c=a[0],d=a[1],e=a[2],f=a[3];c=ff(c,d,e,f,b[0],7,-680876936),f=ff(f,c,d,e,b[1],12,-389564586),e=ff(e,f,c,d,b[2],17,606105819),d=ff(d,e,f,c,b[3],22,-1044525330),c=ff(c,d,e,f,b[4],7,-176418897),f=ff(f,c,d,e,b[5],12,1200080426),e=ff(e,f,c,d,b[6],17,-1473231341),d=ff(d,e,f,c,b[7],22,-45705983),c=ff(c,d,e,f,b[8],7,1770035416),f=ff(f,c,d,e,b[9],12,-1958414417),e=ff(e,f,c,d,b[10],17,-42063),d=ff(d,e,f,c,b[11],22,-1990404162),c=ff(c,d,e,f,b[12],7,1804603682),f=ff(f,c,d,e,b[13],12,-40341101),e=ff(e,f,c,d,b[14],17,-1502002290),d=ff(d,e,f,c,b[15],22,1236535329),c=gg(c,d,e,f,b[1],5,-165796510),f=gg(f,c,d,e,b[6],9,-1069501632),e=gg(e,f,c,d,b[11],14,643717713),d=gg(d,e,f,c,b[0],20,-373897302),c=gg(c,d,e,f,b[5],5,-701558691),f=gg(f,c,d,e,b[10],9,38016083),e=gg(e,f,c,d,b[15],14,-660478335),d=gg(d,e,f,c,b[4],20,-405537848),c=gg(c,d,e,f,b[9],5,568446438),f=gg(f,c,d,e,b[14],9,-1019803690),e=gg(e,f,c,d,b[3],14,-187363961),d=gg(d,e,f,c,b[8],20,1163531501),c=gg(c,d,e,f,b[13],5,-1444681467),f=gg(f,c,d,e,b[2],9,-51403784),e=gg(e,f,c,d,b[7],14,1735328473),d=gg(d,e,f,c,b[12],20,-1926607734),c=hh(c,d,e,f,b[5],4,-378558),f=hh(f,c,d,e,b[8],11,-2022574463),e=hh(e,f,c,d,b[11],16,1839030562),d=hh(d,e,f,c,b[14],23,-35309556),c=hh(c,d,e,f,b[1],4,-1530992060),f=hh(f,c,d,e,b[4],11,1272893353),e=hh(e,f,c,d,b[7],16,-155497632),d=hh(d,e,f,c,b[10],23,-1094730640),c=hh(c,d,e,f,b[13],4,681279174),f=hh(f,c,d,e,b[0],11,-358537222),e=hh(e,f,c,d,b[3],16,-722521979),d=hh(d,e,f,c,b[6],23,76029189),c=hh(c,d,e,f,b[9],4,-640364487),f=hh(f,c,d,e,b[12],11,-421815835),e=hh(e,f,c,d,b[15],16,530742520),d=hh(d,e,f,c,b[2],23,-995338651),c=ii(c,d,e,f,b[0],6,-198630844),f=ii(f,c,d,e,b[7],10,1126891415),e=ii(e,f,c,d,b[14],15,-1416354905),d=ii(d,e,f,c,b[5],21,-57434055),c=ii(c,d,e,f,b[12],6,1700485571),f=ii(f,c,d,e,b[3],10,-1894986606),e=ii(e,f,c,d,b[10],15,-1051523),d=ii(d,e,f,c,b[1],21,-2054922799),c=ii(c,d,e,f,b[8],6,1873313359),f=ii(f,c,d,e,b[15],10,-30611744),e=ii(e,f,c,d,b[6],15,-1560198380),d=ii(d,e,f,c,b[13],21,1309151649),c=ii(c,d,e,f,b[4],6,-145523070),f=ii(f,c,d,e,b[11],10,-1120210379),e=ii(e,f,c,d,b[2],15,718787259),d=ii(d,e,f,c,b[9],21,-343485551),a[0]=add32(c,a[0]),a[1]=add32(d,a[1]),a[2]=add32(e,a[2]),a[3]=add32(f,a[3])}function cmn(a,b,c,d,e,f){return b=add32(add32(b,a),add32(d,f)),add32(b<<e|b>>>32-e,c)}function ff(a,b,c,d,e,f,g){return cmn(b&c|~b&d,a,b,e,f,g)}function gg(a,b,c,d,e,f,g){return cmn(b&d|c&~d,a,b,e,f,g)}function hh(a,b,c,d,e,f,g){return cmn(b^c^d,a,b,e,f,g)}function ii(a,b,c,d,e,f,g){return cmn(c^(b|~d),a,b,e,f,g)}function md51(a){txt="";var b,c=a.length,d=[1732584193,-271733879,-1732584194,271733878];for(b=64;b<=a.length;b+=64)md5cycle(d,md5blk(a.substring(b-64,b)));a=a.substring(b-64);var e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(b=0;b<a.length;b++)e[b>>2]|=a.charCodeAt(b)<<(b%4<<3);if(e[b>>2]|=128<<(b%4<<3),b>55)for(md5cycle(d,e),b=0;16>b;b++)e[b]=0;return e[14]=8*c,md5cycle(d,e),d}function md5blk(a){var b,c=[];for(b=0;64>b;b+=4)c[b>>2]=a.charCodeAt(b)+(a.charCodeAt(b+1)<<8)+(a.charCodeAt(b+2)<<16)+(a.charCodeAt(b+3)<<24);return c}function rhex(a){for(var b="",c=0;4>c;c++)b+=hex_chr[a>>8*c+4&15]+hex_chr[a>>8*c&15];return b}function hex(a){for(var b=0;b<a.length;b++)a[b]=rhex(a[b]);return a.join("")}function md5(a){return hex(md51(a))}function add32(a,b){return a+b&4294967295}function add32(a,b){var c=(65535&a)+(65535&b),d=(a>>16)+(b>>16)+(c>>16);return d<<16|65535&c}function versionCompare(a,b,c){function d(a){return(e?/^\d+[A-Za-z]*$/:/^\d+$/).test(a)}var e=c&&c.lexicographical,f=c&&c.zeroExtend,g=a.split("."),h=b.split(".");if(!g.every(d)||!h.every(d))return NaN;if(f){for(;g.length<h.length;)g.push("0");for(;h.length<g.length;)h.push("0")}e||(g=g.map(Number),h=h.map(Number));for(var i=0;i<g.length;++i){if(h.length==i)return 1;if(g[i]!=h[i])return g[i]>h[i]?1:-1}return g.length!=h.length?-1:0}window.PolymerGestures={},function(a){var b=!1,c=document.createElement("meta");if(c.createShadowRoot){var d=c.createShadowRoot(),e=document.createElement("span");d.appendChild(e),c.addEventListener("testpath",function(a){a.path&&(b=a.path[0]===e),a.stopPropagation()});var f=new CustomEvent("testpath",{bubbles:!0});document.head.appendChild(c),e.dispatchEvent(f),c.parentNode.removeChild(c),d=e=null}c=null;var g={shadow:function(a){return a?a.shadowRoot||a.webkitShadowRoot:void 0},canTarget:function(a){return a&&Boolean(a.elementFromPoint)},targetingShadow:function(a){var b=this.shadow(a);return this.canTarget(b)?b:void 0},olderShadow:function(a){var b=a.olderShadowRoot;if(!b){var c=a.querySelector("shadow");c&&(b=c.olderShadowRoot)}return b},allShadows:function(a){for(var b=[],c=this.shadow(a);c;)b.push(c),c=this.olderShadow(c);return b},searchRoot:function(a,b,c){var d,e;return a?(d=a.elementFromPoint(b,c),d?e=this.targetingShadow(d):a!==document&&(e=this.olderShadow(a)),this.searchRoot(e,b,c)||d):void 0},owner:function(a){if(!a)return document;for(var b=a;b.parentNode;)b=b.parentNode;return b.nodeType!=Node.DOCUMENT_NODE&&b.nodeType!=Node.DOCUMENT_FRAGMENT_NODE&&(b=document),b},findTarget:function(a){if(b&&a.path&&a.path.length)return a.path[0];var c=a.clientX,d=a.clientY,e=this.owner(a.target);return e.elementFromPoint(c,d)||(e=document),this.searchRoot(e,c,d)},findTouchAction:function(a){var c;if(b&&a.path&&a.path.length){for(var d=a.path,e=0;e<d.length;e++)if(c=d[e],c.nodeType===Node.ELEMENT_NODE&&c.hasAttribute("touch-action"))return c.getAttribute("touch-action")}else for(c=a.target;c;){if(c.nodeType===Node.ELEMENT_NODE&&c.hasAttribute("touch-action"))return c.getAttribute("touch-action");c=c.parentNode||c.host}return"auto"},LCA:function(a,b){if(a===b)return a;if(a&&!b)return a;if(b&&!a)return b;if(!b&&!a)return document;if(a.contains&&a.contains(b))return a;if(b.contains&&b.contains(a))return b;var c=this.depth(a),d=this.depth(b),e=c-d;for(e>=0?a=this.walk(a,e):b=this.walk(b,-e);a&&b&&a!==b;)a=a.parentNode||a.host,b=b.parentNode||b.host;return a},walk:function(a,b){for(var c=0;a&&b>c;c++)a=a.parentNode||a.host;return a},depth:function(a){for(var b=0;a;)b++,a=a.parentNode||a.host;return b},deepContains:function(a,b){var c=this.LCA(a,b);return c===a},insideNode:function(a,b,c){var d=a.getBoundingClientRect();return d.left<=b&&b<=d.right&&d.top<=c&&c<=d.bottom},path:function(a){var c;if(b&&a.path&&a.path.length)c=a.path;else{c=[];for(var d=this.findTarget(a);d;)c.push(d),d=d.parentNode||d.host}return c}};a.targetFinding=g,a.findTarget=g.findTarget.bind(g),a.deepContains=g.deepContains.bind(g),a.insideNode=g.insideNode}(window.PolymerGestures),function(){function a(a){return"html /deep/ "+b(a)}function b(a){return'[touch-action="'+a+'"]'}function c(a){return"{ -ms-touch-action: "+a+"; touch-action: "+a+";}"}var d=["none","auto","pan-x","pan-y",{rule:"pan-x pan-y",selectors:["pan-x pan-y","pan-y pan-x"]},"manipulation"],e="",f="string"==typeof document.head.style.touchAction,g=!window.ShadowDOMPolyfill&&document.head.createShadowRoot;if(f){d.forEach(function(d){String(d)===d?(e+=b(d)+c(d)+"\n",g&&(e+=a(d)+c(d)+"\n")):(e+=d.selectors.map(b)+c(d.rule)+"\n",g&&(e+=d.selectors.map(a)+c(d.rule)+"\n"))});var h=document.createElement("style");h.textContent=e,document.head.appendChild(h)}}(),function(a){var b=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","pageX","pageY"],c=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0],d=function(){return function(){}},e={preventTap:d,makeBaseEvent:function(a,b){var c=document.createEvent("Event");return c.initEvent(a,b.bubbles||!1,b.cancelable||!1),c.preventTap=e.preventTap(c),c},makeGestureEvent:function(a,b){b=b||Object.create(null);for(var c,d=this.makeBaseEvent(a,b),e=0,f=Object.keys(b);e<f.length;e++)c=f[e],"bubbles"!==c&&"cancelable"!==c&&(d[c]=b[c]);return d},makePointerEvent:function(a,d){d=d||Object.create(null);for(var e,f=this.makeBaseEvent(a,d),g=2;g<b.length;g++)e=b[g],f[e]=d[e]||c[g];f.buttons=d.buttons||0;var h=0;return h=d.pressure?d.pressure:f.buttons?.5:0,f.x=f.clientX,f.y=f.clientY,f.pointerId=d.pointerId||0,f.width=d.width||0,f.height=d.height||0,f.pressure=h,f.tiltX=d.tiltX||0,f.tiltY=d.tiltY||0,f.pointerType=d.pointerType||"",f.hwTimestamp=d.hwTimestamp||0,f.isPrimary=d.isPrimary||!1,f._source=d._source||"",f}};a.eventFactory=e}(window.PolymerGestures),function(a){function b(){if(c){var a=new Map;return a.pointers=d,a}this.keys=[],this.values=[]}var c=window.Map&&window.Map.prototype.forEach,d=function(){return this.size};b.prototype={set:function(a,b){var c=this.keys.indexOf(a);c>-1?this.values[c]=b:(this.keys.push(a),this.values.push(b))},has:function(a){return this.keys.indexOf(a)>-1},"delete":function(a){var b=this.keys.indexOf(a);b>-1&&(this.keys.splice(b,1),this.values.splice(b,1))},get:function(a){var b=this.keys.indexOf(a);return this.values[b]},clear:function(){this.keys.length=0,this.values.length=0},forEach:function(a,b){this.values.forEach(function(c,d){a.call(b,c,this.keys[d],this)},this)},pointers:function(){return this.keys.length}},a.PointerMap=b}(window.PolymerGestures),function(a){var b,c=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","buttons","pointerId","width","height","pressure","tiltX","tiltY","pointerType","hwTimestamp","isPrimary","type","target","currentTarget","which","pageX","pageY","timeStamp","preventTap","tapPrevented","_source"],d=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0,0,0,0,0,0,"",0,!1,"",null,null,0,0,0,0,function(){},!1],e="undefined"!=typeof SVGElementInstance,f=a.eventFactory,g={IS_IOS:!1,pointermap:new a.PointerMap,requiredGestures:new a.PointerMap,eventMap:Object.create(null),eventSources:Object.create(null),eventSourceList:[],gestures:[],dependencyMap:{down:{listeners:0,index:-1},up:{listeners:0,index:-1}},gestureQueue:[],registerSource:function(a,b){var c=b,d=c.events;d&&(d.forEach(function(a){c[a]&&(this.eventMap[a]=c[a].bind(c))},this),this.eventSources[a]=c,this.eventSourceList.push(c))},registerGesture:function(a,b){var c=Object.create(null);c.listeners=0,c.index=this.gestures.length;for(var d,e=0;e<b.exposes.length;e++)d=b.exposes[e].toLowerCase(),this.dependencyMap[d]=c;this.gestures.push(b)},register:function(a,b){for(var c,d=this.eventSourceList.length,e=0;d>e&&(c=this.eventSourceList[e]);e++)c.register.call(c,a,b)},unregister:function(a){for(var b,c=this.eventSourceList.length,d=0;c>d&&(b=this.eventSourceList[d]);d++)b.unregister.call(b,a)},down:function(a){this.requiredGestures.set(a.pointerId,b),this.fireEvent("down",a)},move:function(a){a.type="move",this.fillGestureQueue(a)},up:function(a){this.fireEvent("up",a),this.requiredGestures["delete"](a.pointerId)},cancel:function(a){a.tapPrevented=!0,this.fireEvent("up",a),this.requiredGestures["delete"](a.pointerId)},addGestureDependency:function(a,b){var c=a._pgEvents;if(c&&b)for(var d,e,f,g=Object.keys(c),h=0;h<g.length;h++)f=g[h],c[f]>0&&(d=this.dependencyMap[f],e=d?d.index:-1,b[e]=!0)},eventHandler:function(c){var d=c.type;if("touchstart"===d||"mousedown"===d||"pointerdown"===d||"MSPointerDown"===d)if(c._handledByPG||(b={}),this.IS_IOS){var e=c;if("touchstart"===d){var f=c.changedTouches[0];e={target:c.target,clientX:f.clientX,clientY:f.clientY,path:c.path}}for(var g,h=c.path||a.targetFinding.path(e),i=0;i<h.length;i++)g=h[i],this.addGestureDependency(g,b)}else this.addGestureDependency(c.currentTarget,b);if(!c._handledByPG){var j=this.eventMap&&this.eventMap[d];j&&j(c),c._handledByPG=!0}},listen:function(a,b){for(var c,d=0,e=b.length;e>d&&(c=b[d]);d++)this.addEvent(a,c)},unlisten:function(a,b){for(var c,d=0,e=b.length;e>d&&(c=b[d]);d++)this.removeEvent(a,c)},addEvent:function(a,b){a.addEventListener(b,this.boundHandler)},removeEvent:function(a,b){a.removeEventListener(b,this.boundHandler)},makeEvent:function(a,b){var c=f.makePointerEvent(a,b);return c.preventDefault=b.preventDefault,c.tapPrevented=b.tapPrevented,c._target=c._target||b.target,c},fireEvent:function(a,b){var c=this.makeEvent(a,b);return this.dispatchEvent(c)},cloneEvent:function(a){for(var b,f=Object.create(null),g=0;g<c.length;g++)b=c[g],f[b]=a[b]||d[g],("target"===b||"relatedTarget"===b)&&e&&f[b]instanceof SVGElementInstance&&(f[b]=f[b].correspondingUseElement);return f.preventDefault=function(){a.preventDefault()},f},dispatchEvent:function(a){var b=a._target;if(b){b.dispatchEvent(a);var c=this.cloneEvent(a);c.target=b,this.fillGestureQueue(c)}},gestureTrigger:function(){for(var a,b,c=0;c<this.gestureQueue.length;c++)if(a=this.gestureQueue[c],b=a._requiredGestures)for(var d,e,f=0;f<this.gestures.length;f++)b[f]&&(d=this.gestures[f],e=d[a.type],e&&e.call(d,a));this.gestureQueue.length=0},fillGestureQueue:function(a){this.gestureQueue.length||requestAnimationFrame(this.boundGestureTrigger),a._requiredGestures=this.requiredGestures.get(a.pointerId),this.gestureQueue.push(a)}};g.boundHandler=g.eventHandler.bind(g),g.boundGestureTrigger=g.gestureTrigger.bind(g),a.dispatcher=g,a.activateGesture=function(a,b){var c=b.toLowerCase(),d=g.dependencyMap[c];if(d){var e=g.gestures[d.index];if(a._pgListeners||(g.register(a),a._pgListeners=0),e){var f,h=e.defaultActions&&e.defaultActions[c];switch(a.nodeType){case Node.ELEMENT_NODE:f=a;break;case Node.DOCUMENT_FRAGMENT_NODE:f=a.host;break;default:f=null}h&&f&&!f.hasAttribute("touch-action")&&f.setAttribute("touch-action",h)}a._pgEvents||(a._pgEvents={}),a._pgEvents[c]=(a._pgEvents[c]||0)+1,a._pgListeners++}return Boolean(d)},a.addEventListener=function(b,c,d,e){d&&(a.activateGesture(b,c),b.addEventListener(c,d,e))},a.deactivateGesture=function(a,b){var c=b.toLowerCase(),d=g.dependencyMap[c];return d&&(a._pgListeners>0&&a._pgListeners--,0===a._pgListeners&&g.unregister(a),a._pgEvents&&(a._pgEvents[c]>0?a._pgEvents[c]--:a._pgEvents[c]=0)),Boolean(d)},a.removeEventListener=function(b,c,d,e){d&&(a.deactivateGesture(b,c),b.removeEventListener(c,d,e))}}(window.PolymerGestures),function(a){var b=a.dispatcher,c=b.pointermap,d=25,e=[0,1,4,2],f=0,g=/Linux.*Firefox\//i,h=function(){if(g.test(navigator.userAgent))return!1;try{return 1===new MouseEvent("test",{buttons:1}).buttons}catch(a){return!1}}(),i={POINTER_ID:1,POINTER_TYPE:"mouse",events:["mousedown","mousemove","mouseup"],exposes:["down","up","move"],register:function(a){b.listen(a,this.events)},unregister:function(a){a.nodeType!==Node.DOCUMENT_NODE&&b.unlisten(a,this.events)},lastTouches:[],isEventSimulatedFromTouch:function(a){for(var b,c=this.lastTouches,e=a.clientX,f=a.clientY,g=0,h=c.length;h>g&&(b=c[g]);g++){var i=Math.abs(e-b.x),j=Math.abs(f-b.y);if(d>=i&&d>=j)return!0}},prepareEvent:function(a){var c=b.cloneEvent(a);if(c.pointerId=this.POINTER_ID,c.isPrimary=!0,c.pointerType=this.POINTER_TYPE,c._source="mouse",!h){var d=a.type,g=e[a.which]||0;"mousedown"===d?f|=g:"mouseup"===d&&(f&=~g),c.buttons=f}return c},mousedown:function(d){if(!this.isEventSimulatedFromTouch(d)){var e=(c.has(this.POINTER_ID),this.prepareEvent(d));e.target=a.findTarget(d),c.set(this.POINTER_ID,e.target),b.down(e)}},mousemove:function(a){if(!this.isEventSimulatedFromTouch(a)){var d=c.get(this.POINTER_ID);if(d){var e=this.prepareEvent(a);e.target=d,0===(h?e.buttons:e.which)?(h||(f=e.buttons=0),b.cancel(e),this.cleanupMouse(e.buttons)):b.move(e)}}},mouseup:function(d){if(!this.isEventSimulatedFromTouch(d)){var e=this.prepareEvent(d);e.relatedTarget=a.findTarget(d),e.target=c.get(this.POINTER_ID),b.up(e),this.cleanupMouse(e.buttons)}},cleanupMouse:function(a){0===a&&c["delete"](this.POINTER_ID)}};a.mouseEvents=i}(window.PolymerGestures),function(a){var b=a.dispatcher,c=(a.targetFinding.allShadows.bind(a.targetFinding),b.pointermap),d=(Array.prototype.map.call.bind(Array.prototype.map),2500),e=25,f=200,g=20,h=!1,i={IS_IOS:!1,events:["touchstart","touchmove","touchend","touchcancel"],exposes:["down","up","move"],register:function(a,c){(this.IS_IOS?c:!c)&&b.listen(a,this.events)},unregister:function(a){this.IS_IOS||b.unlisten(a,this.events)},scrollTypes:{EMITTER:"none",XSCROLLER:"pan-x",YSCROLLER:"pan-y"},touchActionToScrollType:function(a){var b=a,c=this.scrollTypes;return b===c.EMITTER?"none":b===c.XSCROLLER?"X":b===c.YSCROLLER?"Y":"XY"},POINTER_TYPE:"touch",firstTouch:null,isPrimaryTouch:function(a){return this.firstTouch===a.identifier},setPrimaryTouch:function(a){(0===c.pointers()||1===c.pointers()&&c.has(1))&&(this.firstTouch=a.identifier,this.firstXY={X:a.clientX,Y:a.clientY},this.firstTarget=a.target,this.scrolling=null,this.cancelResetClickCount())},removePrimaryPointer:function(a){a.isPrimary&&(this.firstTouch=null,this.firstXY=null,this.resetClickCount())},clickCount:0,resetId:null,resetClickCount:function(){var a=function(){this.clickCount=0,this.resetId=null}.bind(this);this.resetId=setTimeout(a,f)},cancelResetClickCount:function(){this.resetId&&clearTimeout(this.resetId)},typeToButtons:function(a){var b=0;return("touchstart"===a||"touchmove"===a)&&(b=1),b},findTarget:function(b,d){if("touchstart"===this.currentTouchEvent.type){if(this.isPrimaryTouch(b)){var e={clientX:b.clientX,clientY:b.clientY,path:this.currentTouchEvent.path,target:this.currentTouchEvent.target};return a.findTarget(e)}return a.findTarget(b)}return c.get(d)},touchToPointer:function(a){var c=this.currentTouchEvent,d=b.cloneEvent(a),e=d.pointerId=a.identifier+2;d.target=this.findTarget(a,e),d.bubbles=!0,d.cancelable=!0,d.detail=this.clickCount,d.buttons=this.typeToButtons(c.type),d.width=a.webkitRadiusX||a.radiusX||0,d.height=a.webkitRadiusY||a.radiusY||0,d.pressure=a.webkitForce||a.force||.5,d.isPrimary=this.isPrimaryTouch(a),d.pointerType=this.POINTER_TYPE,d._source="touch";var f=this;return d.preventDefault=function(){f.scrolling=!1,f.firstXY=null,c.preventDefault()},d},processTouches:function(a,b){var d=a.changedTouches;this.currentTouchEvent=a;for(var e,f,g=0;g<d.length;g++)e=d[g],f=this.touchToPointer(e),"touchstart"===a.type&&c.set(f.pointerId,f.target),c.has(f.pointerId)&&b.call(this,f),("touchend"===a.type||a._cancel)&&this.cleanUpPointer(f)},shouldScroll:function(b){if(this.firstXY){var c,d=a.targetFinding.findTouchAction(b),e=this.touchActionToScrollType(d);if("none"===e)c=!1;else if("XY"===e)c=!0;else{var f=b.changedTouches[0],g=e,h="Y"===e?"X":"Y",i=Math.abs(f["client"+g]-this.firstXY[g]),j=Math.abs(f["client"+h]-this.firstXY[h]);c=i>=j}return c}},findTouch:function(a,b){for(var c,d=0,e=a.length;e>d&&(c=a[d]);d++)if(c.identifier===b)return!0},vacuumTouches:function(a){var b=a.touches;if(c.pointers()>=b.length){var d=[];c.forEach(function(a,c){if(1!==c&&!this.findTouch(b,c-2)){var e=a;d.push(e)}},this),d.forEach(function(a){this.cancel(a),c["delete"](a.pointerId)},this)}},touchstart:function(a){this.vacuumTouches(a),this.setPrimaryTouch(a.changedTouches[0]),this.dedupSynthMouse(a),this.scrolling||(this.clickCount++,this.processTouches(a,this.down))},down:function(a){b.down(a)},touchmove:function(a){if(h)a.cancelable&&this.processTouches(a,this.move);else if(this.scrolling){if(this.firstXY){var b=a.changedTouches[0],c=b.clientX-this.firstXY.X,d=b.clientY-this.firstXY.Y,e=Math.sqrt(c*c+d*d);e>=g&&(this.touchcancel(a),this.scrolling=!0,this.firstXY=null)}}else null===this.scrolling&&this.shouldScroll(a)?this.scrolling=!0:(this.scrolling=!1,a.preventDefault(),this.processTouches(a,this.move))},move:function(a){b.move(a)},touchend:function(a){this.dedupSynthMouse(a),this.processTouches(a,this.up)},up:function(c){c.relatedTarget=a.findTarget(c),b.up(c)},cancel:function(a){b.cancel(a)},touchcancel:function(a){a._cancel=!0,this.processTouches(a,this.cancel)},cleanUpPointer:function(a){c["delete"](a.pointerId),this.removePrimaryPointer(a)},dedupSynthMouse:function(b){var c=a.mouseEvents.lastTouches,e=b.changedTouches[0];if(this.isPrimaryTouch(e)){var f={x:e.clientX,y:e.clientY};c.push(f);var g=function(a,b){var c=a.indexOf(b);c>-1&&a.splice(c,1)}.bind(null,c,f);setTimeout(g,d)}}},j=Event.prototype.stopImmediatePropagation||Event.prototype.stopPropagation;document.addEventListener("click",function(b){var c=b.clientX,d=b.clientY,f=function(a){var b=Math.abs(c-a.x),f=Math.abs(d-a.y);return e>=b&&e>=f},g=a.mouseEvents.lastTouches.some(f),h=a.targetFinding.path(b);if(g){for(var k=0;k<h.length;k++)if(h[k]===i.firstTarget)return;b.preventDefault(),j.call(b)}},!0),a.touchEvents=i}(window.PolymerGestures),function(a){var b=a.dispatcher,c=b.pointermap,d=window.MSPointerEvent&&"number"==typeof window.MSPointerEvent.MSPOINTER_TYPE_MOUSE,e={events:["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerCancel"],register:function(a){b.listen(a,this.events)},unregister:function(a){a.nodeType!==Node.DOCUMENT_NODE&&b.unlisten(a,this.events)},POINTER_TYPES:["","unavailable","touch","pen","mouse"],prepareEvent:function(a){var c=a;return c=b.cloneEvent(a),d&&(c.pointerType=this.POINTER_TYPES[a.pointerType]),c._source="ms",c},cleanup:function(a){c["delete"](a)},MSPointerDown:function(d){var e=this.prepareEvent(d);e.target=a.findTarget(d),c.set(d.pointerId,e.target),b.down(e)},MSPointerMove:function(a){var d=c.get(a.pointerId);if(d){var e=this.prepareEvent(a);e.target=d,b.move(e)}},MSPointerUp:function(d){var e=this.prepareEvent(d);e.relatedTarget=a.findTarget(d),e.target=c.get(e.pointerId),b.up(e),this.cleanup(d.pointerId)},MSPointerCancel:function(d){var e=this.prepareEvent(d);e.relatedTarget=a.findTarget(d),e.target=c.get(e.pointerId),b.cancel(e),this.cleanup(d.pointerId)}};a.msEvents=e}(window.PolymerGestures),function(a){var b=a.dispatcher,c=b.pointermap,d={events:["pointerdown","pointermove","pointerup","pointercancel"],prepareEvent:function(a){var c=b.cloneEvent(a);return c._source="pointer",c},register:function(a){b.listen(a,this.events)},unregister:function(a){a.nodeType!==Node.DOCUMENT_NODE&&b.unlisten(a,this.events)},cleanup:function(a){c["delete"](a)},pointerdown:function(d){var e=this.prepareEvent(d);e.target=a.findTarget(d),c.set(e.pointerId,e.target),b.down(e)},pointermove:function(a){var d=c.get(a.pointerId);if(d){var e=this.prepareEvent(a);e.target=d,b.move(e)}},pointerup:function(d){var e=this.prepareEvent(d);e.relatedTarget=a.findTarget(d),e.target=c.get(e.pointerId),b.up(e),this.cleanup(d.pointerId)},pointercancel:function(d){var e=this.prepareEvent(d);e.relatedTarget=a.findTarget(d),e.target=c.get(e.pointerId),b.cancel(e),this.cleanup(d.pointerId)}};a.pointerEvents=d}(window.PolymerGestures),function(a){var b=a.dispatcher,c=window.navigator;window.PointerEvent?b.registerSource("pointer",a.pointerEvents):c.msPointerEnabled?b.registerSource("ms",a.msEvents):(b.registerSource("mouse",a.mouseEvents),void 0!==window.ontouchstart&&b.registerSource("touch",a.touchEvents));var d=navigator.userAgent,e=d.match(/iPad|iPhone|iPod/)&&"ontouchstart"in window;b.IS_IOS=e,a.touchEvents.IS_IOS=e,b.register(document,!0)}(window.PolymerGestures),function(a){var b=a.dispatcher,c=a.eventFactory,d=new a.PointerMap,e={events:["down","move","up"],exposes:["trackstart","track","trackx","tracky","trackend"],defaultActions:{track:"none",trackx:"pan-y",tracky:"pan-x"},WIGGLE_THRESHOLD:4,clampDir:function(a){return a>0?1:-1},calcPositionDelta:function(a,b){var c=0,d=0;return a&&b&&(c=b.pageX-a.pageX,d=b.pageY-a.pageY),{x:c,y:d}},fireTrack:function(a,b,d){var e=d,f=this.calcPositionDelta(e.downEvent,b),g=this.calcPositionDelta(e.lastMoveEvent,b);if(g.x)e.xDirection=this.clampDir(g.x);else if("trackx"===a)return;if(g.y)e.yDirection=this.clampDir(g.y);else if("tracky"===a)return;var h={bubbles:!0,cancelable:!0,trackInfo:e.trackInfo,relatedTarget:b.relatedTarget,pointerType:b.pointerType,pointerId:b.pointerId,_source:"track"};"tracky"!==a&&(h.x=b.x,h.dx=f.x,h.ddx=g.x,h.clientX=b.clientX,h.pageX=b.pageX,h.screenX=b.screenX,h.xDirection=e.xDirection),"trackx"!==a&&(h.dy=f.y,h.ddy=g.y,h.y=b.y,h.clientY=b.clientY,h.pageY=b.pageY,h.screenY=b.screenY,h.yDirection=e.yDirection);var i=c.makeGestureEvent(a,h);e.downTarget.dispatchEvent(i)},down:function(a){if(a.isPrimary&&("mouse"===a.pointerType?1===a.buttons:!0)){var b={downEvent:a,downTarget:a.target,trackInfo:{},lastMoveEvent:null,xDirection:0,yDirection:0,tracking:!1};d.set(a.pointerId,b)}},move:function(a){var b=d.get(a.pointerId);if(b){if(!b.tracking){var c=this.calcPositionDelta(b.downEvent,a),e=c.x*c.x+c.y*c.y;e>this.WIGGLE_THRESHOLD&&(b.tracking=!0,b.lastMoveEvent=b.downEvent,this.fireTrack("trackstart",a,b))}b.tracking&&(this.fireTrack("track",a,b),this.fireTrack("trackx",a,b),this.fireTrack("tracky",a,b)),b.lastMoveEvent=a}},up:function(a){var b=d.get(a.pointerId);b&&(b.tracking&&this.fireTrack("trackend",a,b),d["delete"](a.pointerId))}};b.registerGesture("track",e)}(window.PolymerGestures),function(a){var b=a.dispatcher,c=a.eventFactory,d={HOLD_DELAY:200,WIGGLE_THRESHOLD:16,events:["down","move","up"],exposes:["hold","holdpulse","release"],heldPointer:null,holdJob:null,pulse:function(){var a=Date.now()-this.heldPointer.timeStamp,b=this.held?"holdpulse":"hold";this.fireHold(b,a),this.held=!0},cancel:function(){clearInterval(this.holdJob),this.held&&this.fireHold("release"),this.held=!1,this.heldPointer=null,this.target=null,this.holdJob=null},down:function(a){a.isPrimary&&!this.heldPointer&&(this.heldPointer=a,this.target=a.target,this.holdJob=setInterval(this.pulse.bind(this),this.HOLD_DELAY))},up:function(a){this.heldPointer&&this.heldPointer.pointerId===a.pointerId&&this.cancel()},move:function(a){if(this.heldPointer&&this.heldPointer.pointerId===a.pointerId){var b=a.clientX-this.heldPointer.clientX,c=a.clientY-this.heldPointer.clientY;b*b+c*c>this.WIGGLE_THRESHOLD&&this.cancel()}},fireHold:function(a,b){var d={bubbles:!0,cancelable:!0,pointerType:this.heldPointer.pointerType,pointerId:this.heldPointer.pointerId,x:this.heldPointer.clientX,y:this.heldPointer.clientY,_source:"hold"};b&&(d.holdTime=b);var e=c.makeGestureEvent(a,d);this.target.dispatchEvent(e)}};b.registerGesture("hold",d)}(window.PolymerGestures),function(a){var b=a.dispatcher,c=a.eventFactory,d=new a.PointerMap,e={events:["down","up"],exposes:["tap"],down:function(a){a.isPrimary&&!a.tapPrevented&&d.set(a.pointerId,{target:a.target,buttons:a.buttons,x:a.clientX,y:a.clientY})},shouldTap:function(a,b){var c=!0;return"mouse"===a.pointerType&&(c=1^a.buttons&&1&b.buttons),c&&!a.tapPrevented},up:function(b){var e=d.get(b.pointerId);if(e&&this.shouldTap(b,e)){var f=a.targetFinding.LCA(e.target,b.relatedTarget);if(f){var g=c.makeGestureEvent("tap",{bubbles:!0,cancelable:!0,x:b.clientX,y:b.clientY,detail:b.detail,pointerType:b.pointerType,pointerId:b.pointerId,altKey:b.altKey,ctrlKey:b.ctrlKey,metaKey:b.metaKey,shiftKey:b.shiftKey,_source:"tap"});f.dispatchEvent(g)}}d["delete"](b.pointerId)}};c.preventTap=function(a){return function(){a.tapPrevented=!0,d["delete"](a.pointerId)}},b.registerGesture("tap",e)}(window.PolymerGestures),function(a){var b=a.dispatcher,c=a.eventFactory,d=new a.PointerMap,e=180/Math.PI,f={events:["down","up","move","cancel"],exposes:["pinchstart","pinch","pinchend","rotate"],defaultActions:{pinch:"none",rotate:"none"},reference:{},down:function(b){if(d.set(b.pointerId,b),2==d.pointers()){var c=this.calcChord(),e=this.calcAngle(c);this.reference={angle:e,diameter:c.diameter,target:a.targetFinding.LCA(c.a.target,c.b.target)},this.firePinch("pinchstart",c.diameter,c)}},up:function(a){var b=d.get(a.pointerId),c=d.pointers();if(b){if(2===c){var e=this.calcChord();this.firePinch("pinchend",e.diameter,e)}d["delete"](a.pointerId)}},move:function(a){d.has(a.pointerId)&&(d.set(a.pointerId,a),d.pointers()>1&&this.calcPinchRotate())},cancel:function(a){this.up(a)},firePinch:function(a,b,d){var e=b/this.reference.diameter,f=c.makeGestureEvent(a,{bubbles:!0,cancelable:!0,scale:e,centerX:d.center.x,centerY:d.center.y,_source:"pinch"});this.reference.target.dispatchEvent(f)},fireRotate:function(a,b){var d=Math.round((a-this.reference.angle)%360),e=c.makeGestureEvent("rotate",{bubbles:!0,cancelable:!0,angle:d,centerX:b.center.x,centerY:b.center.y,_source:"pinch"});this.reference.target.dispatchEvent(e)},calcPinchRotate:function(){var a=this.calcChord(),b=a.diameter,c=this.calcAngle(a);b!=this.reference.diameter&&this.firePinch("pinch",b,a),c!=this.reference.angle&&this.fireRotate(c,a)},calcChord:function(){var a=[];d.forEach(function(b){a.push(b)});for(var b,c,e,f=0,g={a:a[0],b:a[1]},h=0;h<a.length;h++)for(var i=a[h],j=h+1;j<a.length;j++){var k=a[j];b=Math.abs(i.clientX-k.clientX),c=Math.abs(i.clientY-k.clientY),e=b+c,e>f&&(f=e,g={a:i,b:k})}return b=Math.abs(g.a.clientX+g.b.clientX)/2,c=Math.abs(g.a.clientY+g.b.clientY)/2,g.center={x:b,y:c},g.diameter=f,g},calcAngle:function(a){var b=a.a.clientX-a.b.clientX,c=a.a.clientY-a.b.clientY;return(360+Math.atan2(c,b)*e)%360}};b.registerGesture("pinch",f)}(window.PolymerGestures),function(a){"use strict";function b(a,b){if(!a)throw new Error("ASSERT: "+b)}function c(a){return a>=48&&57>=a}function d(a){return 32===a||9===a||11===a||12===a||160===a||a>=5760&&" ᠎             　\ufeff".indexOf(String.fromCharCode(a))>0}function e(a){return 10===a||13===a||8232===a||8233===a}function f(a){return 36===a||95===a||a>=65&&90>=a||a>=97&&122>=a}function g(a){return 36===a||95===a||a>=65&&90>=a||a>=97&&122>=a||a>=48&&57>=a}function h(a){return"this"===a}function i(){for(;Y>X&&d(W.charCodeAt(X));)++X}function j(){var a,b;for(a=X++;Y>X&&(b=W.charCodeAt(X),g(b));)++X;return W.slice(a,X)}function k(){var a,b,c;return a=X,b=j(),c=1===b.length?S.Identifier:h(b)?S.Keyword:"null"===b?S.NullLiteral:"true"===b||"false"===b?S.BooleanLiteral:S.Identifier,{type:c,value:b,range:[a,X]}}function l(){var a,b,c=X,d=W.charCodeAt(X),e=W[X];switch(d){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:return++X,{type:S.Punctuator,value:String.fromCharCode(d),range:[c,X]};default:if(a=W.charCodeAt(X+1),61===a)switch(d){case 37:case 38:case 42:case 43:case 45:case 47:case 60:case 62:case 124:return X+=2,{type:S.Punctuator,value:String.fromCharCode(d)+String.fromCharCode(a),range:[c,X]};case 33:case 61:return X+=2,61===W.charCodeAt(X)&&++X,{type:S.Punctuator,value:W.slice(c,X),range:[c,X]}}}return b=W[X+1],e===b&&"&|".indexOf(e)>=0?(X+=2,{type:S.Punctuator,value:e+b,range:[c,X]}):"<>=!+-*%&|^/".indexOf(e)>=0?(++X,{type:S.Punctuator,value:e,range:[c,X]}):void s({},V.UnexpectedToken,"ILLEGAL")}function m(){var a,d,e;if(e=W[X],b(c(e.charCodeAt(0))||"."===e,"Numeric literal must start with a decimal digit or a decimal point"),d=X,a="","."!==e){for(a=W[X++],e=W[X],"0"===a&&e&&c(e.charCodeAt(0))&&s({},V.UnexpectedToken,"ILLEGAL");c(W.charCodeAt(X));)a+=W[X++];e=W[X]}if("."===e){for(a+=W[X++];c(W.charCodeAt(X));)a+=W[X++];e=W[X]}if("e"===e||"E"===e)if(a+=W[X++],e=W[X],("+"===e||"-"===e)&&(a+=W[X++]),c(W.charCodeAt(X)))for(;c(W.charCodeAt(X));)a+=W[X++];else s({},V.UnexpectedToken,"ILLEGAL");return f(W.charCodeAt(X))&&s({},V.UnexpectedToken,"ILLEGAL"),{type:S.NumericLiteral,value:parseFloat(a),range:[d,X]}}function n(){var a,c,d,f="",g=!1;for(a=W[X],b("'"===a||'"'===a,"String literal must starts with a quote"),c=X,++X;Y>X;){if(d=W[X++],d===a){a="";break}if("\\"===d)if(d=W[X++],d&&e(d.charCodeAt(0)))"\r"===d&&"\n"===W[X]&&++X;else switch(d){case"n":f+="\n";break;case"r":f+="\r";break;case"t":f+="	";break;case"b":f+="\b";break;case"f":f+="\f";break;case"v":f+="";break;default:f+=d}else{if(e(d.charCodeAt(0)))break;f+=d}}return""!==a&&s({},V.UnexpectedToken,"ILLEGAL"),{type:S.StringLiteral,value:f,octal:g,range:[c,X]}}function o(a){return a.type===S.Identifier||a.type===S.Keyword||a.type===S.BooleanLiteral||a.type===S.NullLiteral}function p(){var a;return i(),X>=Y?{type:S.EOF,range:[X,X]}:(a=W.charCodeAt(X),40===a||41===a||58===a?l():39===a||34===a?n():f(a)?k():46===a?c(W.charCodeAt(X+1))?m():l():c(a)?m():l())}function q(){var a;return a=$,X=a.range[1],$=p(),X=a.range[1],a}function r(){var a;a=X,$=p(),X=a}function s(a,c){var d,e=Array.prototype.slice.call(arguments,2),f=c.replace(/%(\d)/g,function(a,c){return b(c<e.length,"Message reference must be in range"),e[c]});throw d=new Error(f),d.index=X,d.description=f,d}function t(a){
s(a,V.UnexpectedToken,a.value)}function u(a){var b=q();(b.type!==S.Punctuator||b.value!==a)&&t(b)}function v(a){return $.type===S.Punctuator&&$.value===a}function w(a){return $.type===S.Keyword&&$.value===a}function x(){var a=[];for(u("[");!v("]");)v(",")?(q(),a.push(null)):(a.push(ba()),v("]")||u(","));return u("]"),Z.createArrayExpression(a)}function y(){var a;return i(),a=q(),a.type===S.StringLiteral||a.type===S.NumericLiteral?Z.createLiteral(a):Z.createIdentifier(a.value)}function z(){var a,b;return a=$,i(),(a.type===S.EOF||a.type===S.Punctuator)&&t(a),b=y(),u(":"),Z.createProperty("init",b,ba())}function A(){var a=[];for(u("{");!v("}");)a.push(z()),v("}")||u(",");return u("}"),Z.createObjectExpression(a)}function B(){var a;return u("("),a=ba(),u(")"),a}function C(){var a,b,c;return v("(")?B():(a=$.type,a===S.Identifier?c=Z.createIdentifier(q().value):a===S.StringLiteral||a===S.NumericLiteral?c=Z.createLiteral(q()):a===S.Keyword?w("this")&&(q(),c=Z.createThisExpression()):a===S.BooleanLiteral?(b=q(),b.value="true"===b.value,c=Z.createLiteral(b)):a===S.NullLiteral?(b=q(),b.value=null,c=Z.createLiteral(b)):v("[")?c=x():v("{")&&(c=A()),c?c:void t(q()))}function D(){var a=[];if(u("("),!v(")"))for(;Y>X&&(a.push(ba()),!v(")"));)u(",");return u(")"),a}function E(){var a;return a=q(),o(a)||t(a),Z.createIdentifier(a.value)}function F(){return u("."),E()}function G(){var a;return u("["),a=ba(),u("]"),a}function H(){var a,b,c;for(a=C();;)if(v("["))c=G(),a=Z.createMemberExpression("[",a,c);else if(v("."))c=F(),a=Z.createMemberExpression(".",a,c);else{if(!v("("))break;b=D(),a=Z.createCallExpression(a,b)}return a}function I(){var a,b;return $.type!==S.Punctuator&&$.type!==S.Keyword?b=aa():v("+")||v("-")||v("!")?(a=q(),b=I(),b=Z.createUnaryExpression(a.value,b)):w("delete")||w("void")||w("typeof")?s({},V.UnexpectedToken):b=aa(),b}function J(a){var b=0;if(a.type!==S.Punctuator&&a.type!==S.Keyword)return 0;switch(a.value){case"||":b=1;break;case"&&":b=2;break;case"==":case"!=":case"===":case"!==":b=6;break;case"<":case">":case"<=":case">=":case"instanceof":b=7;break;case"in":b=7;break;case"+":case"-":b=9;break;case"*":case"/":case"%":b=11}return b}function K(){var a,b,c,d,e,f,g,h;if(g=I(),b=$,c=J(b),0===c)return g;for(b.prec=c,q(),e=I(),d=[g,b,e];(c=J($))>0;){for(;d.length>2&&c<=d[d.length-2].prec;)e=d.pop(),f=d.pop().value,g=d.pop(),a=Z.createBinaryExpression(f,g,e),d.push(a);b=q(),b.prec=c,d.push(b),a=I(),d.push(a)}for(h=d.length-1,a=d[h];h>1;)a=Z.createBinaryExpression(d[h-1].value,d[h-2],a),h-=2;return a}function L(){var a,b,c;return a=K(),v("?")&&(q(),b=L(),u(":"),c=L(),a=Z.createConditionalExpression(a,b,c)),a}function M(){var a,b;return a=q(),a.type!==S.Identifier&&t(a),b=v("(")?D():[],Z.createFilter(a.value,b)}function N(){for(;v("|");)q(),M()}function O(){i(),r();var a=ba();a&&(","===$.value||"in"==$.value&&a.type===U.Identifier?Q(a):(N(),"as"===$.value?P(a):Z.createTopLevel(a))),$.type!==S.EOF&&t($)}function P(a){q();var b=q().value;Z.createAsExpression(a,b)}function Q(a){var b;","===$.value&&(q(),$.type!==S.Identifier&&t($),b=q().value),q();var c=ba();N(),Z.createInExpression(a.name,b,c)}function R(a,b){return Z=b,W=a,X=0,Y=W.length,$=null,_={labelSet:{}},O()}var S,T,U,V,W,X,Y,Z,$,_;S={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8},T={},T[S.BooleanLiteral]="Boolean",T[S.EOF]="<end>",T[S.Identifier]="Identifier",T[S.Keyword]="Keyword",T[S.NullLiteral]="Null",T[S.NumericLiteral]="Numeric",T[S.Punctuator]="Punctuator",T[S.StringLiteral]="String",U={ArrayExpression:"ArrayExpression",BinaryExpression:"BinaryExpression",CallExpression:"CallExpression",ConditionalExpression:"ConditionalExpression",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",Identifier:"Identifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ThisExpression:"ThisExpression",UnaryExpression:"UnaryExpression"},V={UnexpectedToken:"Unexpected token %0",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared"};var aa=H,ba=L;a.esprima={parse:R}}(this),function(a){"use strict";function b(a,b,d,e){var f;try{if(f=c(a),f.scopeIdent&&(d.nodeType!==Node.ELEMENT_NODE||"TEMPLATE"!==d.tagName||"bind"!==b&&"repeat"!==b))throw Error("as and in can only be used within <template bind/repeat>")}catch(g){return void console.error("Invalid expression syntax: "+a,g)}return function(a,b,c){var d=f.getBinding(a,e,c);return f.scopeIdent&&d&&(b.polymerExpressionScopeIdent_=f.scopeIdent,f.indexIdent&&(b.polymerExpressionIndexIdent_=f.indexIdent)),d}}function c(a){var b=q[a];if(!b){var c=new j;esprima.parse(a,c),b=new l(c),q[a]=b}return b}function d(a){this.value=a,this.valueFn_=void 0}function e(a){this.name=a,this.path=Path.get(a)}function f(a,b,c){this.computed="["==c,this.dynamicDeps="function"==typeof a||a.dynamicDeps||this.computed&&!(b instanceof d),this.simplePath=!this.dynamicDeps&&(b instanceof e||b instanceof d)&&(a instanceof f||a instanceof e),this.object=this.simplePath?a:i(a),this.property=!this.computed||this.simplePath?b:i(b)}function g(a,b){this.name=a,this.args=[];for(var c=0;c<b.length;c++)this.args[c]=i(b[c])}function h(){throw Error("Not Implemented")}function i(a){return"function"==typeof a?a:a.valueFn()}function j(){this.expression=null,this.filters=[],this.deps={},this.currentPath=void 0,this.scopeIdent=void 0,this.indexIdent=void 0,this.dynamicDeps=!1}function k(a){this.value_=a}function l(a){if(this.scopeIdent=a.scopeIdent,this.indexIdent=a.indexIdent,!a.expression)throw Error("No expression found.");this.expression=a.expression,i(this.expression),this.filters=a.filters,this.dynamicDeps=a.dynamicDeps}function m(a){return String(a).replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()})}function n(a,b){for(;a[t]&&!Object.prototype.hasOwnProperty.call(a,b);)a=a[t];return a}function o(a){switch(a){case"":return!1;case"false":case"null":case"true":return!0}return isNaN(Number(a))?!1:!0}function p(){}var q=Object.create(null);d.prototype={valueFn:function(){if(!this.valueFn_){var a=this.value;this.valueFn_=function(){return a}}return this.valueFn_}},e.prototype={valueFn:function(){if(!this.valueFn_){var a=(this.name,this.path);this.valueFn_=function(b,c){return c&&c.addPath(b,a),a.getValueFrom(b)}}return this.valueFn_},setValue:function(a,b){return 1==this.path.length&&(a=n(a,this.path[0])),this.path.setValueFrom(a,b)}},f.prototype={get fullPath(){if(!this.fullPath_){var a=this.object instanceof f?this.object.fullPath.slice():[this.object.name];a.push(this.property instanceof e?this.property.name:this.property.value),this.fullPath_=Path.get(a)}return this.fullPath_},valueFn:function(){if(!this.valueFn_){var a=this.object;if(this.simplePath){var b=this.fullPath;this.valueFn_=function(a,c){return c&&c.addPath(a,b),b.getValueFrom(a)}}else if(this.computed){var c=this.property;this.valueFn_=function(b,d,e){var f=a(b,d,e),g=c(b,d,e);return d&&d.addPath(f,[g]),f?f[g]:void 0}}else{var b=Path.get(this.property.name);this.valueFn_=function(c,d,e){var f=a(c,d,e);return d&&d.addPath(f,b),b.getValueFrom(f)}}}return this.valueFn_},setValue:function(a,b){if(this.simplePath)return this.fullPath.setValueFrom(a,b),b;var c=this.object(a),d=this.property instanceof e?this.property.name:this.property(a);return c[d]=b}},g.prototype={transform:function(a,b,c,d,e){var f=a,g=f[this.name];if(!g&&(g=c[this.name],!g))return void console.error("Cannot find function or filter: "+this.name);if(d?g=g.toModel:"function"==typeof g.toDOM&&(g=g.toDOM),"function"!=typeof g)return void console.error("Cannot find function or filter: "+this.name);for(var h=e||[],j=0;j<this.args.length;j++)h.push(i(this.args[j])(a,b,c));return g.apply(f,h)}};var r={"+":function(a){return+a},"-":function(a){return-a},"!":function(a){return!a}},s={"+":function(a,b){return a+b},"-":function(a,b){return a-b},"*":function(a,b){return a*b},"/":function(a,b){return a/b},"%":function(a,b){return a%b},"<":function(a,b){return b>a},">":function(a,b){return a>b},"<=":function(a,b){return b>=a},">=":function(a,b){return a>=b},"==":function(a,b){return a==b},"!=":function(a,b){return a!=b},"===":function(a,b){return a===b},"!==":function(a,b){return a!==b},"&&":function(a,b){return a&&b},"||":function(a,b){return a||b}};j.prototype={createUnaryExpression:function(a,b){if(!r[a])throw Error("Disallowed operator: "+a);return b=i(b),function(c,d,e){return r[a](b(c,d,e))}},createBinaryExpression:function(a,b,c){if(!s[a])throw Error("Disallowed operator: "+a);switch(b=i(b),c=i(c),a){case"||":return this.dynamicDeps=!0,function(a,d,e){return b(a,d,e)||c(a,d,e)};case"&&":return this.dynamicDeps=!0,function(a,d,e){return b(a,d,e)&&c(a,d,e)}}return function(d,e,f){return s[a](b(d,e,f),c(d,e,f))}},createConditionalExpression:function(a,b,c){return a=i(a),b=i(b),c=i(c),this.dynamicDeps=!0,function(d,e,f){return a(d,e,f)?b(d,e,f):c(d,e,f)}},createIdentifier:function(a){var b=new e(a);return b.type="Identifier",b},createMemberExpression:function(a,b,c){var d=new f(b,c,a);return d.dynamicDeps&&(this.dynamicDeps=!0),d},createCallExpression:function(a,b){if(!(a instanceof e))throw Error("Only identifier function invocations are allowed");var c=new g(a.name,b);return function(a,b,d){return c.transform(a,b,d,!1)}},createLiteral:function(a){return new d(a.value)},createArrayExpression:function(a){for(var b=0;b<a.length;b++)a[b]=i(a[b]);return function(b,c,d){for(var e=[],f=0;f<a.length;f++)e.push(a[f](b,c,d));return e}},createProperty:function(a,b,c){return{key:b instanceof e?b.name:b.value,value:c}},createObjectExpression:function(a){for(var b=0;b<a.length;b++)a[b].value=i(a[b].value);return function(b,c,d){for(var e={},f=0;f<a.length;f++)e[a[f].key]=a[f].value(b,c,d);return e}},createFilter:function(a,b){this.filters.push(new g(a,b))},createAsExpression:function(a,b){this.expression=a,this.scopeIdent=b},createInExpression:function(a,b,c){this.expression=c,this.scopeIdent=a,this.indexIdent=b},createTopLevel:function(a){this.expression=a},createThisExpression:h},k.prototype={open:function(){return this.value_},discardChanges:function(){return this.value_},deliver:function(){},close:function(){}},l.prototype={getBinding:function(a,b,c){function d(){if(h)return h=!1,g;i.dynamicDeps&&f.startReset();var c=i.getValue(a,i.dynamicDeps?f:void 0,b);return i.dynamicDeps&&f.finishReset(),c}function e(c){return i.setValue(a,c,b),c}if(c)return this.getValue(a,void 0,b);var f=new CompoundObserver,g=this.getValue(a,f,b),h=!0,i=this;return new ObserverTransform(f,d,e,!0)},getValue:function(a,b,c){for(var d=i(this.expression)(a,b,c),e=0;e<this.filters.length;e++)d=this.filters[e].transform(a,b,c,!1,[d]);return d},setValue:function(a,b,c){for(var d=this.filters?this.filters.length:0;d-->0;)b=this.filters[d].transform(a,void 0,c,!0,[b]);return this.expression.setValue?this.expression.setValue(a,b):void 0}};var t="@"+Math.random().toString(36).slice(2);p.prototype={styleObject:function(a){var b=[];for(var c in a)b.push(m(c)+": "+a[c]);return b.join("; ")},tokenList:function(a){var b=[];for(var c in a)a[c]&&b.push(c);return b.join(" ")},prepareInstancePositionChanged:function(a){var b=a.polymerExpressionIndexIdent_;if(b)return function(a,c){a.model[b]=c}},prepareBinding:function(a,c,d){var e=Path.get(a);{if(o(a)||!e.valid)return b(a,c,d,this);if(1==e.length)return function(a,b,c){if(c)return e.getValueFrom(a);var d=n(a,e[0]);return new PathObserver(d,e)}}},prepareInstanceModel:function(a){var b=a.polymerExpressionScopeIdent_;if(b){var c=a.templateInstance?a.templateInstance.model:a.model,d=a.polymerExpressionIndexIdent_;return function(a){return u(c,a,b,d)}}}};var u="__proto__"in{}?function(a,b,c,d){var e={};return e[c]=b,e[d]=void 0,e[t]=a,e.__proto__=a,e}:function(a,b,c,d){var e=Object.create(a);return Object.defineProperty(e,c,{value:b,configurable:!0,writable:!0}),Object.defineProperty(e,d,{value:void 0,configurable:!0,writable:!0}),Object.defineProperty(e,t,{value:a,configurable:!0,writable:!0}),e};a.PolymerExpressions=p,p.getExpression=c}(this),Polymer={version:"0.5.5"},"function"==typeof window.Polymer&&(Polymer={}),function(a){function b(a,b){return b=b||[],b.map||(b=[b]),a.apply(this,b.map(d))}function c(a,c,d){var e;switch(arguments.length){case 0:return;case 1:e=null;break;case 2:e=c.apply(this);break;default:e=b(d,c)}f[a]=e}function d(a){return f[a]}function e(a,c){HTMLImports.whenImportsReady(function(){b(c,a)})}var f={};a.marshal=d,a.modularize=c,a.using=e}(window),window.WebComponents||(window.WebComponents||(WebComponents={flush:function(){},flags:{log:{}}},Platform=WebComponents,CustomElements={useNative:!0,ready:!0,takeRecords:function(){},"instanceof":function(a,b){return a instanceof b}},HTMLImports={useNative:!0},addEventListener("HTMLImportsLoaded",function(){document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))}),ShadowDOMPolyfill=null,wrap=unwrap=function(a){return a}),window.HTMLImports=window.HTMLImports||{flags:{}},function(a){function b(a,b){b=b||o,d(function(){f(a,b)},b)}function c(a){return"complete"===a.readyState||a.readyState===r}function d(a,b){if(c(b))a&&a();else{var e=function(){("complete"===b.readyState||b.readyState===r)&&(b.removeEventListener(s,e),d(a,b))};b.addEventListener(s,e)}}function e(a){a.target.__loaded=!0}function f(a,b){function c(b){h==i&&a&&a()}function d(a){e(a),h++,c()}var f=b.querySelectorAll("link[rel=import]"),h=0,i=f.length;if(i)for(var j,k=0;i>k&&(j=f[k]);k++)g(j)?d.call(j,{target:j}):(j.addEventListener("load",d),j.addEventListener("error",d));else c()}function g(a){return l?a.__loaded||a["import"]&&"loading"!==a["import"].readyState:a.__importParsed}function h(a){for(var b,c=0,d=a.length;d>c&&(b=a[c]);c++)i(b)&&j(b)}function i(a){return"link"===a.localName&&"import"===a.rel}function j(a){var b=a["import"];b?e({target:a}):(a.addEventListener("load",e),a.addEventListener("error",e))}var k="import",l=Boolean(k in document.createElement("link")),m=Boolean(window.ShadowDOMPolyfill),n=function(a){return m?ShadowDOMPolyfill.wrapIfNeeded(a):a},o=n(document),p={get:function(){var a=HTMLImports.currentScript||document.currentScript||("complete"!==document.readyState?document.scripts[document.scripts.length-1]:null);return n(a)},configurable:!0};Object.defineProperty(document,"_currentScript",p),Object.defineProperty(o,"_currentScript",p);var q=/Trident/.test(navigator.userAgent),r=q?"complete":"interactive",s="readystatechange";l&&(new MutationObserver(function(a){for(var b,c=0,d=a.length;d>c&&(b=a[c]);c++)b.addedNodes&&h(b.addedNodes)}).observe(document.head,{childList:!0}),function(){if("loading"===document.readyState)for(var a,b=document.querySelectorAll("link[rel=import]"),c=0,d=b.length;d>c&&(a=b[c]);c++)j(a)}()),b(function(){HTMLImports.ready=!0,HTMLImports.readyTime=(new Date).getTime(),o.dispatchEvent(new CustomEvent("HTMLImportsLoaded",{bubbles:!0}))}),a.IMPORT_LINK_TYPE=k,a.useNative=l,a.rootDocument=o,a.whenReady=b,a.isIE=q}(HTMLImports),function(a){var b=document.createElement("style");b.textContent="body {transition: opacity ease-in 0.2s; } \nbody[unresolved] {opacity: 0; display: block; overflow: hidden; } \n";var c=document.querySelector("head");c.insertBefore(b,c.firstChild)}(Platform)),function(a){"use strict";function b(){function a(a){b=a}if("function"!=typeof Object.observe||"function"!=typeof Array.observe)return!1;var b=[],c={},d=[];return Object.observe(c,a),Array.observe(d,a),c.id=1,c.id=2,delete c.id,d.push(1,2),d.length=0,Object.deliverChangeRecords(a),5!==b.length?!1:"add"!=b[0].type||"update"!=b[1].type||"delete"!=b[2].type||"splice"!=b[3].type||"splice"!=b[4].type?!1:(Object.unobserve(c,a),Array.unobserve(d,a),!0)}function c(){if("undefined"!=typeof chrome&&chrome.app&&chrome.app.runtime)return!1;if("undefined"!=typeof navigator&&navigator.getDeviceStorage)return!1;try{var a=new Function("","return true;");return a()}catch(b){return!1}}function d(a){return+a===a>>>0&&""!==a}function e(a){return+a}function f(a){return a===Object(a)}function g(a,b){return a===b?0!==a||1/a===1/b:R(a)&&R(b)?!0:a!==a&&b!==b}function h(a){if(void 0===a)return"eof";var b=a.charCodeAt(0);switch(b){case 91:case 93:case 46:case 34:case 39:case 48:return a;case 95:case 36:return"ident";case 32:case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return b>=97&&122>=b||b>=65&&90>=b?"ident":b>=49&&57>=b?"number":"else"}function i(){}function j(a){function b(){if(!(m>=a.length)){var b=a[m+1];return"inSingleQuote"==n&&"'"==b||"inDoubleQuote"==n&&'"'==b?(m++,d=b,o.append(),!0):void 0}}for(var c,d,e,f,g,j,k,l=[],m=-1,n="beforePath",o={push:function(){void 0!==e&&(l.push(e),e=void 0)},append:function(){void 0===e?e=d:e+=d}};n;)if(m++,c=a[m],"\\"!=c||!b(n)){if(f=h(c),k=W[n],g=k[f]||k["else"]||"error","error"==g)return;if(n=g[0],j=o[g[1]]||i,d=void 0===g[2]?c:g[2],j(),"afterPath"===n)return l}}function k(a){return V.test(a)}function l(a,b){if(b!==X)throw Error("Use Path.get to retrieve path objects");for(var c=0;c<a.length;c++)this.push(String(a[c]));Q&&this.length&&(this.getValueFrom=this.compiledGetValueFromFn())}function m(a){if(a instanceof l)return a;if((null==a||0==a.length)&&(a=""),"string"!=typeof a){if(d(a.length))return new l(a,X);a=String(a)}var b=Y[a];if(b)return b;var c=j(a);if(!c)return Z;var b=new l(c,X);return Y[a]=b,b}function n(a){return d(a)?"["+a+"]":'["'+a.replace(/"/g,'\\"')+'"]'}function o(b){for(var c=0;_>c&&b.check_();)c++;return O&&(a.dirtyCheckCycleCount=c),c>0}function p(a){for(var b in a)return!1;return!0}function q(a){return p(a.added)&&p(a.removed)&&p(a.changed)}function r(a,b){var c={},d={},e={};for(var f in b){var g=a[f];(void 0===g||g!==b[f])&&(f in a?g!==b[f]&&(e[f]=g):d[f]=void 0)}for(var f in a)f in b||(c[f]=a[f]);return Array.isArray(a)&&a.length!==b.length&&(e.length=a.length),{added:c,removed:d,changed:e}}function s(){if(!aa.length)return!1;for(var a=0;a<aa.length;a++)aa[a]();return aa.length=0,!0}function t(){function a(a){b&&b.state_===fa&&!d&&b.check_(a)}var b,c,d=!1,e=!0;return{open:function(c){if(b)throw Error("ObservedObject in use");e||Object.deliverChangeRecords(a),b=c,e=!1},observe:function(b,d){c=b,d?Array.observe(c,a):Object.observe(c,a)},deliver:function(b){d=b,Object.deliverChangeRecords(a),d=!1},close:function(){b=void 0,Object.unobserve(c,a),ca.push(this)}}}function u(a,b,c){var d=ca.pop()||t();return d.open(a),d.observe(b,c),d}function v(){function a(b,f){b&&(b===d&&(e[f]=!0),h.indexOf(b)<0&&(h.push(b),Object.observe(b,c)),a(Object.getPrototypeOf(b),f))}function b(a){for(var b=0;b<a.length;b++){var c=a[b];if(c.object!==d||e[c.name]||"setPrototype"===c.type)return!1}return!0}function c(c){if(!b(c)){for(var d,e=0;e<g.length;e++)d=g[e],d.state_==fa&&d.iterateObjects_(a);for(var e=0;e<g.length;e++)d=g[e],d.state_==fa&&d.check_()}}var d,e,f=0,g=[],h=[],i={objects:h,get rootObject(){return d},set rootObject(a){d=a,e={}},open:function(b,c){g.push(b),f++,b.iterateObjects_(a)},close:function(a){if(f--,!(f>0)){for(var b=0;b<h.length;b++)Object.unobserve(h[b],c),x.unobservedCount++;g.length=0,h.length=0,d=void 0,e=void 0,da.push(this),$===this&&($=null)}}};return i}function w(a,b){return $&&$.rootObject===b||($=da.pop()||v(),$.rootObject=b),$.open(a,b),$}function x(){this.state_=ea,this.callback_=void 0,this.target_=void 0,this.directObserver_=void 0,this.value_=void 0,this.id_=ia++}function y(a){x._allObserversCount++,ka&&ja.push(a)}function z(a){x._allObserversCount--}function A(a){x.call(this),this.value_=a,this.oldObject_=void 0}function B(a){if(!Array.isArray(a))throw Error("Provided object is not an Array");A.call(this,a)}function C(a,b){x.call(this),this.object_=a,this.path_=m(b),this.directObserver_=void 0}function D(a){x.call(this),this.reportChangesOnOpen_=a,this.value_=[],this.directObserver_=void 0,this.observed_=[]}function E(a){return a}function F(a,b,c,d){this.callback_=void 0,this.target_=void 0,this.value_=void 0,this.observable_=a,this.getValueFn_=b||E,this.setValueFn_=c||E,this.dontPassThroughSet_=d}function G(a,b,c){for(var d={},e={},f=0;f<b.length;f++){var g=b[f];na[g.type]?(g.name in c||(c[g.name]=g.oldValue),"update"!=g.type&&("add"!=g.type?g.name in d?(delete d[g.name],delete c[g.name]):e[g.name]=!0:g.name in e?delete e[g.name]:d[g.name]=!0)):(console.error("Unknown changeRecord type: "+g.type),console.error(g))}for(var h in d)d[h]=a[h];for(var h in e)e[h]=void 0;var i={};for(var h in c)if(!(h in d||h in e)){var j=a[h];c[h]!==j&&(i[h]=j)}return{added:d,removed:e,changed:i}}function H(a,b,c){return{index:a,removed:b,addedCount:c}}function I(){}function J(a,b,c,d,e,f){return sa.calcSplices(a,b,c,d,e,f)}function K(a,b,c,d){return c>b||a>d?-1:b==c||d==a?0:c>a?d>b?b-c:d-c:b>d?d-a:b-a}function L(a,b,c,d){for(var e=H(b,c,d),f=!1,g=0,h=0;h<a.length;h++){var i=a[h];if(i.index+=g,!f){var j=K(e.index,e.index+e.removed.length,i.index,i.index+i.addedCount);if(j>=0){a.splice(h,1),h--,g-=i.addedCount-i.removed.length,e.addedCount+=i.addedCount-j;var k=e.removed.length+i.removed.length-j;if(e.addedCount||k){var c=i.removed;if(e.index<i.index){var l=e.removed.slice(0,i.index-e.index);Array.prototype.push.apply(l,c),c=l}if(e.index+e.removed.length>i.index+i.addedCount){var m=e.removed.slice(i.index+i.addedCount-e.index);Array.prototype.push.apply(c,m)}e.removed=c,i.index<e.index&&(e.index=i.index)}else f=!0}else if(e.index<i.index){f=!0,a.splice(h,0,e),h++;var n=e.addedCount-e.removed.length;i.index+=n,g+=n}}}f||a.push(e)}function M(a,b){for(var c=[],f=0;f<b.length;f++){var g=b[f];switch(g.type){case"splice":L(c,g.index,g.removed.slice(),g.addedCount);break;case"add":case"update":case"delete":if(!d(g.name))continue;var h=e(g.name);if(0>h)continue;L(c,h,[g.oldValue],1);break;default:console.error("Unexpected record type: "+JSON.stringify(g))}}return c}function N(a,b){var c=[];return M(a,b).forEach(function(b){return 1==b.addedCount&&1==b.removed.length?void(b.removed[0]!==a[b.index]&&c.push(b)):void(c=c.concat(J(a,b.index,b.index+b.addedCount,b.removed,0,b.removed.length)))}),c}var O=a.testingExposeCycleCount,P=b(),Q=c(),R=a.Number.isNaN||function(b){return"number"==typeof b&&a.isNaN(b)},S="__proto__"in{}?function(a){return a}:function(a){var b=a.__proto__;if(!b)return a;var c=Object.create(b);return Object.getOwnPropertyNames(a).forEach(function(b){Object.defineProperty(c,b,Object.getOwnPropertyDescriptor(a,b))}),c},T="[$_a-zA-Z]",U="[$_a-zA-Z0-9]",V=new RegExp("^"+T+"+"+U+"*$"),W={beforePath:{ws:["beforePath"],ident:["inIdent","append"],"[":["beforeElement"],eof:["afterPath"]},inPath:{ws:["inPath"],".":["beforeIdent"],"[":["beforeElement"],eof:["afterPath"]},beforeIdent:{ws:["beforeIdent"],ident:["inIdent","append"]},inIdent:{ident:["inIdent","append"],0:["inIdent","append"],number:["inIdent","append"],ws:["inPath","push"],".":["beforeIdent","push"],"[":["beforeElement","push"],eof:["afterPath","push"]},beforeElement:{ws:["beforeElement"],0:["afterZero","append"],number:["inIndex","append"],"'":["inSingleQuote","append",""],'"':["inDoubleQuote","append",""]},afterZero:{ws:["afterElement","push"],"]":["inPath","push"]},inIndex:{0:["inIndex","append"],number:["inIndex","append"],ws:["afterElement"],"]":["inPath","push"]},inSingleQuote:{"'":["afterElement"],eof:["error"],"else":["inSingleQuote","append"]},inDoubleQuote:{'"':["afterElement"],eof:["error"],"else":["inDoubleQuote","append"]},afterElement:{ws:["afterElement"],"]":["inPath","push"]}},X={},Y={};l.get=m,l.prototype=S({__proto__:[],valid:!0,toString:function(){for(var a="",b=0;b<this.length;b++){var c=this[b];a+=k(c)?b?"."+c:c:n(c)}return a},getValueFrom:function(a,b){for(var c=0;c<this.length;c++){if(null==a)return;a=a[this[c]]}return a},iterateObjects:function(a,b){for(var c=0;c<this.length;c++){if(c&&(a=a[this[c-1]]),!f(a))return;b(a,this[c])}},compiledGetValueFromFn:function(){var a="",b="obj";a+="if (obj != null";for(var c,d=0;d<this.length-1;d++)c=this[d],b+=k(c)?"."+c:n(c),a+=" &&\n     "+b+" != null";a+=")\n";var c=this[d];return b+=k(c)?"."+c:n(c),a+="  return "+b+";\nelse\n  return undefined;",new Function("obj",a)},setValueFrom:function(a,b){if(!this.length)return!1;for(var c=0;c<this.length-1;c++){if(!f(a))return!1;a=a[this[c]]}return f(a)?(a[this[c]]=b,!0):!1}});var Z=new l("",X);Z.valid=!1,Z.getValueFrom=Z.setValueFrom=function(){};var $,_=1e3,aa=[],ba=P?function(){return function(a){return Promise.resolve().then(a)}}():function(){return function(a){aa.push(a)}}(),ca=[],da=[],ea=0,fa=1,ga=2,ha=3,ia=1;x.prototype={open:function(a,b){if(this.state_!=ea)throw Error("Observer has already been opened.");return y(this),this.callback_=a,this.target_=b,this.connect_(),this.state_=fa,this.value_},close:function(){this.state_==fa&&(z(this),this.disconnect_(),this.value_=void 0,this.callback_=void 0,this.target_=void 0,this.state_=ga)},deliver:function(){this.state_==fa&&o(this)},report_:function(a){try{this.callback_.apply(this.target_,a)}catch(b){x._errorThrownDuringCallback=!0,console.error("Exception caught during observer callback: "+(b.stack||b))}},discardChanges:function(){return this.check_(void 0,!0),this.value_}};var ja,ka=!P;x._allObserversCount=0,ka&&(ja=[]);var la=!1;a.Platform=a.Platform||{},a.Platform.performMicrotaskCheckpoint=function(){if(!la&&ka){la=!0;var b,c,d=0;do{d++,c=ja,ja=[],b=!1;for(var e=0;e<c.length;e++){var f=c[e];f.state_==fa&&(f.check_()&&(b=!0),ja.push(f))}s()&&(b=!0)}while(_>d&&b);O&&(a.dirtyCheckCycleCount=d),la=!1}},ka&&(a.Platform.clearObservers=function(){ja=[]}),A.prototype=S({__proto__:x.prototype,arrayObserve:!1,connect_:function(a,b){P?this.directObserver_=u(this,this.value_,this.arrayObserve):this.oldObject_=this.copyObject(this.value_)},copyObject:function(a){var b=Array.isArray(a)?[]:{};for(var c in a)b[c]=a[c];return Array.isArray(a)&&(b.length=a.length),b},check_:function(a,b){var c,d;if(P){if(!a)return!1;d={},c=G(this.value_,a,d)}else d=this.oldObject_,c=r(this.value_,this.oldObject_);return q(c)?!1:(P||(this.oldObject_=this.copyObject(this.value_)),this.report_([c.added||{},c.removed||{},c.changed||{},function(a){return d[a]}]),!0)},disconnect_:function(){P?(this.directObserver_.close(),this.directObserver_=void 0):this.oldObject_=void 0},deliver:function(){this.state_==fa&&(P?this.directObserver_.deliver(!1):o(this))},discardChanges:function(){return this.directObserver_?this.directObserver_.deliver(!0):this.oldObject_=this.copyObject(this.value_),this.value_}}),B.prototype=S({__proto__:A.prototype,arrayObserve:!0,copyObject:function(a){return a.slice()},check_:function(a){var b;if(P){if(!a)return!1;b=N(this.value_,a)}else b=J(this.value_,0,this.value_.length,this.oldObject_,0,this.oldObject_.length);return b&&b.length?(P||(this.oldObject_=this.copyObject(this.value_)),this.report_([b]),!0):!1}}),B.applySplices=function(a,b,c){c.forEach(function(c){for(var d=[c.index,c.removed.length],e=c.index;e<c.index+c.addedCount;)d.push(b[e]),e++;Array.prototype.splice.apply(a,d)})},C.prototype=S({__proto__:x.prototype,get path(){return this.path_},connect_:function(){P&&(this.directObserver_=w(this,this.object_)),this.check_(void 0,!0)},disconnect_:function(){this.value_=void 0,this.directObserver_&&(this.directObserver_.close(this),this.directObserver_=void 0)},iterateObjects_:function(a){this.path_.iterateObjects(this.object_,a)},check_:function(a,b){var c=this.value_;return this.value_=this.path_.getValueFrom(this.object_),b||g(this.value_,c)?!1:(this.report_([this.value_,c,this]),!0)},setValue:function(a){this.path_&&this.path_.setValueFrom(this.object_,a)}});var ma={};D.prototype=S({__proto__:x.prototype,connect_:function(){if(P){for(var a,b=!1,c=0;c<this.observed_.length;c+=2)if(a=this.observed_[c],a!==ma){b=!0;break}b&&(this.directObserver_=w(this,a))}this.check_(void 0,!this.reportChangesOnOpen_)},disconnect_:function(){for(var a=0;a<this.observed_.length;a+=2)this.observed_[a]===ma&&this.observed_[a+1].close();this.observed_.length=0,this.value_.length=0,this.directObserver_&&(this.directObserver_.close(this),this.directObserver_=void 0)},addPath:function(a,b){if(this.state_!=ea&&this.state_!=ha)throw Error("Cannot add paths once started.");var b=m(b);if(this.observed_.push(a,b),this.reportChangesOnOpen_){var c=this.observed_.length/2-1;this.value_[c]=b.getValueFrom(a)}},addObserver:function(a){if(this.state_!=ea&&this.state_!=ha)throw Error("Cannot add observers once started.");if(this.observed_.push(ma,a),this.reportChangesOnOpen_){var b=this.observed_.length/2-1;this.value_[b]=a.open(this.deliver,this)}},startReset:function(){if(this.state_!=fa)throw Error("Can only reset while open");this.state_=ha,this.disconnect_()},finishReset:function(){if(this.state_!=ha)throw Error("Can only finishReset after startReset");return this.state_=fa,this.connect_(),this.value_},iterateObjects_:function(a){for(var b,c=0;c<this.observed_.length;c+=2)b=this.observed_[c],b!==ma&&this.observed_[c+1].iterateObjects(b,a)},check_:function(a,b){for(var c,d=0;d<this.observed_.length;d+=2){var e,f=this.observed_[d],h=this.observed_[d+1];if(f===ma){var i=h;e=this.state_===ea?i.open(this.deliver,this):i.discardChanges()}else e=h.getValueFrom(f);b?this.value_[d/2]=e:g(e,this.value_[d/2])||(c=c||[],c[d/2]=this.value_[d/2],this.value_[d/2]=e)}return c?(this.report_([this.value_,c,this.observed_]),!0):!1}}),F.prototype={open:function(a,b){return this.callback_=a,this.target_=b,this.value_=this.getValueFn_(this.observable_.open(this.observedCallback_,this)),this.value_},observedCallback_:function(a){if(a=this.getValueFn_(a),!g(a,this.value_)){var b=this.value_;this.value_=a,this.callback_.call(this.target_,this.value_,b)}},discardChanges:function(){return this.value_=this.getValueFn_(this.observable_.discardChanges()),this.value_},deliver:function(){return this.observable_.deliver()},setValue:function(a){return a=this.setValueFn_(a),!this.dontPassThroughSet_&&this.observable_.setValue?this.observable_.setValue(a):void 0},close:function(){this.observable_&&this.observable_.close(),this.callback_=void 0,this.target_=void 0,this.observable_=void 0,this.value_=void 0,this.getValueFn_=void 0,this.setValueFn_=void 0}};var na={add:!0,update:!0,"delete":!0},oa=0,pa=1,qa=2,ra=3;I.prototype={calcEditDistances:function(a,b,c,d,e,f){for(var g=f-e+1,h=c-b+1,i=new Array(g),j=0;g>j;j++)i[j]=new Array(h),i[j][0]=j;for(var k=0;h>k;k++)i[0][k]=k;for(var j=1;g>j;j++)for(var k=1;h>k;k++)if(this.equals(a[b+k-1],d[e+j-1]))i[j][k]=i[j-1][k-1];else{var l=i[j-1][k]+1,m=i[j][k-1]+1;i[j][k]=m>l?l:m}return i},spliceOperationsFromEditDistances:function(a){for(var b=a.length-1,c=a[0].length-1,d=a[b][c],e=[];b>0||c>0;)if(0!=b)if(0!=c){var f,g=a[b-1][c-1],h=a[b-1][c],i=a[b][c-1];f=i>h?g>h?h:g:g>i?i:g,f==g?(g==d?e.push(oa):(e.push(pa),d=g),b--,c--):f==h?(e.push(ra),b--,d=h):(e.push(qa),c--,d=i)}else e.push(ra),b--;else e.push(qa),c--;return e.reverse(),e},calcSplices:function(a,b,c,d,e,f){var g=0,h=0,i=Math.min(c-b,f-e);if(0==b&&0==e&&(g=this.sharedPrefix(a,d,i)),c==a.length&&f==d.length&&(h=this.sharedSuffix(a,d,i-g)),b+=g,e+=g,c-=h,f-=h,c-b==0&&f-e==0)return[];if(b==c){for(var j=H(b,[],0);f>e;)j.removed.push(d[e++]);return[j]}if(e==f)return[H(b,[],c-b)];for(var k=this.spliceOperationsFromEditDistances(this.calcEditDistances(a,b,c,d,e,f)),j=void 0,l=[],m=b,n=e,o=0;o<k.length;o++)switch(k[o]){case oa:j&&(l.push(j),j=void 0),m++,n++;break;case pa:j||(j=H(m,[],0)),j.addedCount++,m++,j.removed.push(d[n]),n++;break;case qa:j||(j=H(m,[],0)),j.addedCount++,m++;break;case ra:j||(j=H(m,[],0)),j.removed.push(d[n]),n++}return j&&l.push(j),l},sharedPrefix:function(a,b,c){for(var d=0;c>d;d++)if(!this.equals(a[d],b[d]))return d;return c},sharedSuffix:function(a,b,c){for(var d=a.length,e=b.length,f=0;c>f&&this.equals(a[--d],b[--e]);)f++;return f},calculateSplices:function(a,b){return this.calcSplices(a,0,a.length,b,0,b.length)},equals:function(a,b){return a===b}};var sa=new I,ta=a;"undefined"==typeof exports||exports.nodeType||("undefined"!=typeof module&&module.exports&&(exports=module.exports),
ta=exports),ta.Observer=x,ta.Observer.runEOM_=ba,ta.Observer.observerSentinel_=ma,ta.Observer.hasObjectObserve=P,ta.ArrayObserver=B,ta.ArrayObserver.calculateSplices=function(a,b){return sa.calculateSplices(a,b)},ta.ArraySplice=I,ta.ObjectObserver=A,ta.PathObserver=C,ta.CompoundObserver=D,ta.Path=l,ta.ObserverTransform=F}("undefined"!=typeof global&&global&&"undefined"!=typeof module&&module?global:this||window),function(a){"use strict";function b(a){for(;a.parentNode;)a=a.parentNode;return"function"==typeof a.getElementById?a:null}function c(a,b,c){var d=a.bindings_;return d||(d=a.bindings_={}),d[b]&&c[b].close(),d[b]=c}function d(a,b,c){return c}function e(a){return null==a?"":a}function f(a,b){a.data=e(b)}function g(a){return function(b){return f(a,b)}}function h(a,b,c,d){return c?void(d?a.setAttribute(b,""):a.removeAttribute(b)):void a.setAttribute(b,e(d))}function i(a,b,c){return function(d){h(a,b,c,d)}}function j(a){switch(a.type){case"checkbox":return v;case"radio":case"select-multiple":case"select-one":return"change";case"range":if(/Trident|MSIE/.test(navigator.userAgent))return"change";default:return"input"}}function k(a,b,c,d){a[b]=(d||e)(c)}function l(a,b,c){return function(d){return k(a,b,d,c)}}function m(){}function n(a,b,c,d){function e(){var e="value"==b&&"number"==a.type;c.setValue(e?a.valueAsNumber:a[b]),c.discardChanges(),(d||m)(a),Platform.performMicrotaskCheckpoint()}var f=j(a);return a.addEventListener(f,e),{close:function(){a.removeEventListener(f,e),c.close()},observable_:c}}function o(a){return Boolean(a)}function p(a){if(a.form)return t(a.form.elements,function(b){return b!=a&&"INPUT"==b.tagName&&"radio"==b.type&&b.name==a.name});var c=b(a);if(!c)return[];var d=c.querySelectorAll('input[type="radio"][name="'+a.name+'"]');return t(d,function(b){return b!=a&&!b.form})}function q(a){"INPUT"===a.tagName&&"radio"===a.type&&p(a).forEach(function(a){var b=a.bindings_.checked;b&&b.observable_.setValue(!1)})}function r(a,b){var c,d,f,g=a.parentNode;g instanceof HTMLSelectElement&&g.bindings_&&g.bindings_.value&&(c=g,d=c.bindings_.value,f=c.value),a.value=e(b),c&&c.value!=f&&(d.observable_.setValue(c.value),d.observable_.discardChanges(),Platform.performMicrotaskCheckpoint())}function s(a){return function(b){r(a,b)}}var t=Array.prototype.filter.call.bind(Array.prototype.filter);Node.prototype.bind=function(a,b){console.error("Unhandled binding to Node: ",this,a,b)},Node.prototype.bindFinished=function(){};var u=d;Object.defineProperty(Platform,"enableBindingsReflection",{get:function(){return u===c},set:function(a){return u=a?c:d,a},configurable:!0}),Text.prototype.bind=function(a,b,c){if("textContent"!==a)return Node.prototype.bind.call(this,a,b,c);if(c)return f(this,b);var d=b;return f(this,d.open(g(this))),u(this,a,d)},Element.prototype.bind=function(a,b,c){var d="?"==a[a.length-1];if(d&&(this.removeAttribute(a),a=a.slice(0,-1)),c)return h(this,a,d,b);var e=b;return h(this,a,d,e.open(i(this,a,d))),u(this,a,e)};var v;!function(){var a=document.createElement("div"),b=a.appendChild(document.createElement("input"));b.setAttribute("type","checkbox");var c,d=0;b.addEventListener("click",function(a){d++,c=c||"click"}),b.addEventListener("change",function(){d++,c=c||"change"});var e=document.createEvent("MouseEvent");e.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),b.dispatchEvent(e),v=1==d?"change":c}(),HTMLInputElement.prototype.bind=function(a,b,d){if("value"!==a&&"checked"!==a)return HTMLElement.prototype.bind.call(this,a,b,d);this.removeAttribute(a);var f="checked"==a?o:e,g="checked"==a?q:m;if(d)return k(this,a,b,f);var h=b,i=n(this,a,h,g);return k(this,a,h.open(l(this,a,f)),f),c(this,a,i)},HTMLTextAreaElement.prototype.bind=function(a,b,c){if("value"!==a)return HTMLElement.prototype.bind.call(this,a,b,c);if(this.removeAttribute("value"),c)return k(this,"value",b);var d=b,f=n(this,"value",d);return k(this,"value",d.open(l(this,"value",e))),u(this,a,f)},HTMLOptionElement.prototype.bind=function(a,b,c){if("value"!==a)return HTMLElement.prototype.bind.call(this,a,b,c);if(this.removeAttribute("value"),c)return r(this,b);var d=b,e=n(this,"value",d);return r(this,d.open(s(this))),u(this,a,e)},HTMLSelectElement.prototype.bind=function(a,b,d){if("selectedindex"===a&&(a="selectedIndex"),"selectedIndex"!==a&&"value"!==a)return HTMLElement.prototype.bind.call(this,a,b,d);if(this.removeAttribute(a),d)return k(this,a,b);var e=b,f=n(this,a,e);return k(this,a,e.open(l(this,a))),c(this,a,f)}}(this),function(a){"use strict";function b(a){if(!a)throw new Error("Assertion failed")}function c(a){for(var b;b=a.parentNode;)a=b;return a}function d(a,b){if(b){for(var d,e="#"+b;!d&&(a=c(a),a.protoContent_?d=a.protoContent_.querySelector(e):a.getElementById&&(d=a.getElementById(b)),!d&&a.templateCreator_);)a=a.templateCreator_;return d}}function e(a){return"template"==a.tagName&&"http://www.w3.org/2000/svg"==a.namespaceURI}function f(a){return"TEMPLATE"==a.tagName&&"http://www.w3.org/1999/xhtml"==a.namespaceURI}function g(a){return Boolean(L[a.tagName]&&a.hasAttribute("template"))}function h(a){return void 0===a.isTemplate_&&(a.isTemplate_="TEMPLATE"==a.tagName||g(a)),a.isTemplate_}function i(a,b){var c=a.querySelectorAll(N);h(a)&&b(a),G(c,b)}function j(a){function b(a){HTMLTemplateElement.decorate(a)||j(a.content)}i(a,b)}function k(a,b){Object.getOwnPropertyNames(b).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))})}function l(a){var b=a.ownerDocument;if(!b.defaultView)return b;var c=b.templateContentsOwner_;if(!c){for(c=b.implementation.createHTMLDocument("");c.lastChild;)c.removeChild(c.lastChild);b.templateContentsOwner_=c}return c}function m(a){if(!a.stagingDocument_){var b=a.ownerDocument;if(!b.stagingDocument_){b.stagingDocument_=b.implementation.createHTMLDocument(""),b.stagingDocument_.isStagingDocument=!0;var c=b.stagingDocument_.createElement("base");c.href=document.baseURI,b.stagingDocument_.head.appendChild(c),b.stagingDocument_.stagingDocument_=b.stagingDocument_}a.stagingDocument_=b.stagingDocument_}return a.stagingDocument_}function n(a){var b=a.ownerDocument.createElement("template");a.parentNode.insertBefore(b,a);for(var c=a.attributes,d=c.length;d-->0;){var e=c[d];K[e.name]&&("template"!==e.name&&b.setAttribute(e.name,e.value),a.removeAttribute(e.name))}return b}function o(a){var b=a.ownerDocument.createElement("template");a.parentNode.insertBefore(b,a);for(var c=a.attributes,d=c.length;d-->0;){var e=c[d];b.setAttribute(e.name,e.value),a.removeAttribute(e.name)}return a.parentNode.removeChild(a),b}function p(a,b,c){var d=a.content;if(c)return void d.appendChild(b);for(var e;e=b.firstChild;)d.appendChild(e)}function q(a){P?a.__proto__=HTMLTemplateElement.prototype:k(a,HTMLTemplateElement.prototype)}function r(a){a.setModelFn_||(a.setModelFn_=function(){a.setModelFnScheduled_=!1;var b=z(a,a.delegate_&&a.delegate_.prepareBinding);w(a,b,a.model_)}),a.setModelFnScheduled_||(a.setModelFnScheduled_=!0,Observer.runEOM_(a.setModelFn_))}function s(a,b,c,d){if(a&&a.length){for(var e,f=a.length,g=0,h=0,i=0,j=!0;f>h;){var g=a.indexOf("{{",h),k=a.indexOf("[[",h),l=!1,m="}}";if(k>=0&&(0>g||g>k)&&(g=k,l=!0,m="]]"),i=0>g?-1:a.indexOf(m,g+2),0>i){if(!e)return;e.push(a.slice(h));break}e=e||[],e.push(a.slice(h,g));var n=a.slice(g+2,i).trim();e.push(l),j=j&&l;var o=d&&d(n,b,c);null==o?e.push(Path.get(n)):e.push(null),e.push(o),h=i+2}return h===f&&e.push(""),e.hasOnePath=5===e.length,e.isSimplePath=e.hasOnePath&&""==e[0]&&""==e[4],e.onlyOneTime=j,e.combinator=function(a){for(var b=e[0],c=1;c<e.length;c+=4){var d=e.hasOnePath?a:a[(c-1)/4];void 0!==d&&(b+=d),b+=e[c+3]}return b},e}}function t(a,b,c,d){if(b.hasOnePath){var e=b[3],f=e?e(d,c,!0):b[2].getValueFrom(d);return b.isSimplePath?f:b.combinator(f)}for(var g=[],h=1;h<b.length;h+=4){var e=b[h+2];g[(h-1)/4]=e?e(d,c):b[h+1].getValueFrom(d)}return b.combinator(g)}function u(a,b,c,d){var e=b[3],f=e?e(d,c,!1):new PathObserver(d,b[2]);return b.isSimplePath?f:new ObserverTransform(f,b.combinator)}function v(a,b,c,d){if(b.onlyOneTime)return t(a,b,c,d);if(b.hasOnePath)return u(a,b,c,d);for(var e=new CompoundObserver,f=1;f<b.length;f+=4){var g=b[f],h=b[f+2];if(h){var i=h(d,c,g);g?e.addPath(i):e.addObserver(i)}else{var j=b[f+1];g?e.addPath(j.getValueFrom(d)):e.addPath(d,j)}}return new ObserverTransform(e,b.combinator)}function w(a,b,c,d){for(var e=0;e<b.length;e+=2){var f=b[e],g=b[e+1],h=v(f,g,a,c),i=a.bind(f,h,g.onlyOneTime);i&&d&&d.push(i)}if(a.bindFinished(),b.isTemplate){a.model_=c;var j=a.processBindingDirectives_(b);d&&j&&d.push(j)}}function x(a,b,c){var d=a.getAttribute(b);return s(""==d?"{{}}":d,b,a,c)}function y(a,c){b(a);for(var d=[],e=0;e<a.attributes.length;e++){for(var f=a.attributes[e],g=f.name,i=f.value;"_"===g[0];)g=g.substring(1);if(!h(a)||g!==J&&g!==H&&g!==I){var j=s(i,g,a,c);j&&d.push(g,j)}}return h(a)&&(d.isTemplate=!0,d["if"]=x(a,J,c),d.bind=x(a,H,c),d.repeat=x(a,I,c),!d["if"]||d.bind||d.repeat||(d.bind=s("{{}}",H,a,c))),d}function z(a,b){if(a.nodeType===Node.ELEMENT_NODE)return y(a,b);if(a.nodeType===Node.TEXT_NODE){var c=s(a.data,"textContent",a,b);if(c)return["textContent",c]}return[]}function A(a,b,c,d,e,f,g,h){for(var i=b.appendChild(c.importNode(a,!1)),j=0,k=a.firstChild;k;k=k.nextSibling)A(k,i,c,d.children[j++],e,f,g);return d.isTemplate&&(HTMLTemplateElement.decorate(i,a),f&&i.setDelegate_(f)),w(i,d,e,g),i}function B(a,b){var c=z(a,b);c.children={};for(var d=0,e=a.firstChild;e;e=e.nextSibling)c.children[d++]=B(e,b);return c}function C(a){var b=a.id_;return b||(b=a.id_=S++),b}function D(a,b){var c=C(a);if(b){var d=b.bindingMaps[c];return d||(d=b.bindingMaps[c]=B(a,b.prepareBinding)||[]),d}var d=a.bindingMap_;return d||(d=a.bindingMap_=B(a,void 0)||[]),d}function E(a){this.closed=!1,this.templateElement_=a,this.instances=[],this.deps=void 0,this.iteratedValue=[],this.presentValue=void 0,this.arrayObserver=void 0}var F,G=Array.prototype.forEach.call.bind(Array.prototype.forEach);a.Map&&"function"==typeof a.Map.prototype.forEach?F=a.Map:(F=function(){this.keys=[],this.values=[]},F.prototype={set:function(a,b){var c=this.keys.indexOf(a);0>c?(this.keys.push(a),this.values.push(b)):this.values[c]=b},get:function(a){var b=this.keys.indexOf(a);if(!(0>b))return this.values[b]},"delete":function(a,b){var c=this.keys.indexOf(a);return 0>c?!1:(this.keys.splice(c,1),this.values.splice(c,1),!0)},forEach:function(a,b){for(var c=0;c<this.keys.length;c++)a.call(b||this,this.values[c],this.keys[c],this)}});"function"!=typeof document.contains&&(Document.prototype.contains=function(a){return a===this||a.parentNode===this?!0:this.documentElement.contains(a)});var H="bind",I="repeat",J="if",K={template:!0,repeat:!0,bind:!0,ref:!0,"if":!0},L={THEAD:!0,TBODY:!0,TFOOT:!0,TH:!0,TR:!0,TD:!0,COLGROUP:!0,COL:!0,CAPTION:!0,OPTION:!0,OPTGROUP:!0},M="undefined"!=typeof HTMLTemplateElement;M&&!function(){var a=document.createElement("template"),b=a.content.ownerDocument,c=b.appendChild(b.createElement("html")),d=c.appendChild(b.createElement("head")),e=b.createElement("base");e.href=document.baseURI,d.appendChild(e)}();var N="template, "+Object.keys(L).map(function(a){return a.toLowerCase()+"[template]"}).join(", ");document.addEventListener("DOMContentLoaded",function(a){j(document),Platform.performMicrotaskCheckpoint()},!1),M||(a.HTMLTemplateElement=function(){throw TypeError("Illegal constructor")});var O,P="__proto__"in{};"function"==typeof MutationObserver&&(O=new MutationObserver(function(a){for(var b=0;b<a.length;b++)a[b].target.refChanged_()})),HTMLTemplateElement.decorate=function(a,c){if(a.templateIsDecorated_)return!1;var d=a;d.templateIsDecorated_=!0;var h=f(d)&&M,i=h,k=!h,m=!1;if(h||(g(d)?(b(!c),d=n(a),d.templateIsDecorated_=!0,h=M,m=!0):e(d)&&(d=o(a),d.templateIsDecorated_=!0,h=M)),!h){q(d);var r=l(d);d.content_=r.createDocumentFragment()}return c?d.instanceRef_=c:k?p(d,a,m):i&&j(d.content),!0},HTMLTemplateElement.bootstrap=j;var Q=a.HTMLUnknownElement||HTMLElement,R={get:function(){return this.content_},enumerable:!0,configurable:!0};M||(HTMLTemplateElement.prototype=Object.create(Q.prototype),Object.defineProperty(HTMLTemplateElement.prototype,"content",R)),k(HTMLTemplateElement.prototype,{bind:function(a,b,c){if("ref"!=a)return Element.prototype.bind.call(this,a,b,c);var d=this,e=c?b:b.open(function(a){d.setAttribute("ref",a),d.refChanged_()});return this.setAttribute("ref",e),this.refChanged_(),c?void 0:(this.bindings_?this.bindings_.ref=b:this.bindings_={ref:b},b)},processBindingDirectives_:function(a){return this.iterator_&&this.iterator_.closeDeps(),a["if"]||a.bind||a.repeat?(this.iterator_||(this.iterator_=new E(this)),this.iterator_.updateDependencies(a,this.model_),O&&O.observe(this,{attributes:!0,attributeFilter:["ref"]}),this.iterator_):void(this.iterator_&&(this.iterator_.close(),this.iterator_=void 0))},createInstance:function(a,b,c){b?c=this.newDelegate_(b):c||(c=this.delegate_),this.refContent_||(this.refContent_=this.ref_.content);var d=this.refContent_;if(null===d.firstChild)return T;var e=D(d,c),f=m(this),g=f.createDocumentFragment();g.templateCreator_=this,g.protoContent_=d,g.bindings_=[],g.terminator_=null;for(var h=g.templateInstance_={firstNode:null,lastNode:null,model:a},i=0,j=!1,k=d.firstChild;k;k=k.nextSibling){null===k.nextSibling&&(j=!0);var l=A(k,g,f,e.children[i++],a,c,g.bindings_);l.templateInstance_=h,j&&(g.terminator_=l)}return h.firstNode=g.firstChild,h.lastNode=g.lastChild,g.templateCreator_=void 0,g.protoContent_=void 0,g},get model(){return this.model_},set model(a){this.model_=a,r(this)},get bindingDelegate(){return this.delegate_&&this.delegate_.raw},refChanged_:function(){this.iterator_&&this.refContent_!==this.ref_.content&&(this.refContent_=void 0,this.iterator_.valueChanged(),this.iterator_.updateIteratedValue(this.iterator_.getUpdatedValue()))},clear:function(){this.model_=void 0,this.delegate_=void 0,this.bindings_&&this.bindings_.ref&&this.bindings_.ref.close(),this.refContent_=void 0,this.iterator_&&(this.iterator_.valueChanged(),this.iterator_.close(),this.iterator_=void 0)},setDelegate_:function(a){this.delegate_=a,this.bindingMap_=void 0,this.iterator_&&(this.iterator_.instancePositionChangedFn_=void 0,this.iterator_.instanceModelFn_=void 0)},newDelegate_:function(a){function b(b){var c=a&&a[b];if("function"==typeof c)return function(){return c.apply(a,arguments)}}if(a)return{bindingMaps:{},raw:a,prepareBinding:b("prepareBinding"),prepareInstanceModel:b("prepareInstanceModel"),prepareInstancePositionChanged:b("prepareInstancePositionChanged")}},set bindingDelegate(a){if(this.delegate_)throw Error("Template must be cleared before a new bindingDelegate can be assigned");this.setDelegate_(this.newDelegate_(a))},get ref_(){var a=d(this,this.getAttribute("ref"));if(a||(a=this.instanceRef_),!a)return this;var b=a.ref_;return b?b:a}});var S=1;Object.defineProperty(Node.prototype,"templateInstance",{get:function(){var a=this.templateInstance_;return a?a:this.parentNode?this.parentNode.templateInstance:void 0}});var T=document.createDocumentFragment();T.bindings_=[],T.terminator_=null,E.prototype={closeDeps:function(){var a=this.deps;a&&(a.ifOneTime===!1&&a.ifValue.close(),a.oneTime===!1&&a.value.close())},updateDependencies:function(a,b){this.closeDeps();var c=this.deps={},d=this.templateElement_,e=!0;if(a["if"]){if(c.hasIf=!0,c.ifOneTime=a["if"].onlyOneTime,c.ifValue=v(J,a["if"],d,b),e=c.ifValue,c.ifOneTime&&!e)return void this.valueChanged();c.ifOneTime||(e=e.open(this.updateIfValue,this))}a.repeat?(c.repeat=!0,c.oneTime=a.repeat.onlyOneTime,c.value=v(I,a.repeat,d,b)):(c.repeat=!1,c.oneTime=a.bind.onlyOneTime,c.value=v(H,a.bind,d,b));var f=c.value;return c.oneTime||(f=f.open(this.updateIteratedValue,this)),e?void this.updateValue(f):void this.valueChanged()},getUpdatedValue:function(){var a=this.deps.value;return this.deps.oneTime||(a=a.discardChanges()),a},updateIfValue:function(a){return a?void this.updateValue(this.getUpdatedValue()):void this.valueChanged()},updateIteratedValue:function(a){if(this.deps.hasIf){var b=this.deps.ifValue;if(this.deps.ifOneTime||(b=b.discardChanges()),!b)return void this.valueChanged()}this.updateValue(a)},updateValue:function(a){this.deps.repeat||(a=[a]);var b=this.deps.repeat&&!this.deps.oneTime&&Array.isArray(a);this.valueChanged(a,b)},valueChanged:function(a,b){Array.isArray(a)||(a=[]),a!==this.iteratedValue&&(this.unobserve(),this.presentValue=a,b&&(this.arrayObserver=new ArrayObserver(this.presentValue),this.arrayObserver.open(this.handleSplices,this)),this.handleSplices(ArrayObserver.calculateSplices(this.presentValue,this.iteratedValue)))},getLastInstanceNode:function(a){if(-1==a)return this.templateElement_;var b=this.instances[a],c=b.terminator_;if(!c)return this.getLastInstanceNode(a-1);if(c.nodeType!==Node.ELEMENT_NODE||this.templateElement_===c)return c;var d=c.iterator_;return d?d.getLastTemplateNode():c},getLastTemplateNode:function(){return this.getLastInstanceNode(this.instances.length-1)},insertInstanceAt:function(a,b){var c=this.getLastInstanceNode(a-1),d=this.templateElement_.parentNode;this.instances.splice(a,0,b),d.insertBefore(b,c.nextSibling)},extractInstanceAt:function(a){for(var b=this.getLastInstanceNode(a-1),c=this.getLastInstanceNode(a),d=this.templateElement_.parentNode,e=this.instances.splice(a,1)[0];c!==b;){var f=b.nextSibling;f==c&&(c=b),e.appendChild(d.removeChild(f))}return e},getDelegateFn:function(a){return a=a&&a(this.templateElement_),"function"==typeof a?a:null},handleSplices:function(a){if(!this.closed&&a.length){var b=this.templateElement_;if(!b.parentNode)return void this.close();ArrayObserver.applySplices(this.iteratedValue,this.presentValue,a);var c=b.delegate_;void 0===this.instanceModelFn_&&(this.instanceModelFn_=this.getDelegateFn(c&&c.prepareInstanceModel)),void 0===this.instancePositionChangedFn_&&(this.instancePositionChangedFn_=this.getDelegateFn(c&&c.prepareInstancePositionChanged));for(var d=new F,e=0,f=0;f<a.length;f++){for(var g=a[f],h=g.removed,i=0;i<h.length;i++){var j=h[i],k=this.extractInstanceAt(g.index+e);k!==T&&d.set(j,k)}e-=g.addedCount}for(var f=0;f<a.length;f++)for(var g=a[f],l=g.index;l<g.index+g.addedCount;l++){var j=this.iteratedValue[l],k=d.get(j);k?d["delete"](j):(this.instanceModelFn_&&(j=this.instanceModelFn_(j)),k=void 0===j?T:b.createInstance(j,void 0,c)),this.insertInstanceAt(l,k)}d.forEach(function(a){this.closeInstanceBindings(a)},this),this.instancePositionChangedFn_&&this.reportInstancesMoved(a)}},reportInstanceMoved:function(a){var b=this.instances[a];b!==T&&this.instancePositionChangedFn_(b.templateInstance_,a)},reportInstancesMoved:function(a){for(var b=0,c=0,d=0;d<a.length;d++){var e=a[d];if(0!=c)for(;b<e.index;)this.reportInstanceMoved(b),b++;else b=e.index;for(;b<e.index+e.addedCount;)this.reportInstanceMoved(b),b++;c+=e.addedCount-e.removed.length}if(0!=c)for(var f=this.instances.length;f>b;)this.reportInstanceMoved(b),b++},closeInstanceBindings:function(a){for(var b=a.bindings_,c=0;c<b.length;c++)b[c].close()},unobserve:function(){this.arrayObserver&&(this.arrayObserver.close(),this.arrayObserver=void 0)},close:function(){if(!this.closed){this.unobserve();for(var a=0;a<this.instances.length;a++)this.closeInstanceBindings(this.instances[a]);this.instances.length=0,this.closeDeps(),this.templateElement_.iterator_=void 0,this.closed=!0}}},HTMLTemplateElement.forAllTemplatesFrom_=i}(this),function(a){"use strict";function b(a){return void 0!==m[a]}function c(){h.call(this),this._isInvalid=!0}function d(a){return""==a&&c.call(this),a.toLowerCase()}function e(a){var b=a.charCodeAt(0);return b>32&&127>b&&-1==[34,35,60,62,63,96].indexOf(b)?a:encodeURIComponent(a)}function f(a){var b=a.charCodeAt(0);return b>32&&127>b&&-1==[34,35,60,62,96].indexOf(b)?a:encodeURIComponent(a)}function g(a,g,h){function i(a){t.push(a)}var j=g||"scheme start",k=0,l="",r=!1,s=!1,t=[];a:for(;(a[k-1]!=o||0==k)&&!this._isInvalid;){var u=a[k];switch(j){case"scheme start":if(!u||!p.test(u)){if(g){i("Invalid scheme.");break a}l="",j="no scheme";continue}l+=u.toLowerCase(),j="scheme";break;case"scheme":if(u&&q.test(u))l+=u.toLowerCase();else{if(":"!=u){if(g){if(o==u)break a;i("Code point not allowed in scheme: "+u);break a}l="",k=0,j="no scheme";continue}if(this._scheme=l,l="",g)break a;b(this._scheme)&&(this._isRelative=!0),j="file"==this._scheme?"relative":this._isRelative&&h&&h._scheme==this._scheme?"relative or authority":this._isRelative?"authority first slash":"scheme data"}break;case"scheme data":"?"==u?(query="?",j="query"):"#"==u?(this._fragment="#",j="fragment"):o!=u&&"	"!=u&&"\n"!=u&&"\r"!=u&&(this._schemeData+=e(u));break;case"no scheme":if(h&&b(h._scheme)){j="relative";continue}i("Missing scheme."),c.call(this);break;case"relative or authority":if("/"!=u||"/"!=a[k+1]){i("Expected /, got: "+u),j="relative";continue}j="authority ignore slashes";break;case"relative":if(this._isRelative=!0,"file"!=this._scheme&&(this._scheme=h._scheme),o==u){this._host=h._host,this._port=h._port,this._path=h._path.slice(),this._query=h._query;break a}if("/"==u||"\\"==u)"\\"==u&&i("\\ is an invalid code point."),j="relative slash";else if("?"==u)this._host=h._host,this._port=h._port,this._path=h._path.slice(),this._query="?",j="query";else{if("#"!=u){var v=a[k+1],w=a[k+2];("file"!=this._scheme||!p.test(u)||":"!=v&&"|"!=v||o!=w&&"/"!=w&&"\\"!=w&&"?"!=w&&"#"!=w)&&(this._host=h._host,this._port=h._port,this._path=h._path.slice(),this._path.pop()),j="relative path";continue}this._host=h._host,this._port=h._port,this._path=h._path.slice(),this._query=h._query,this._fragment="#",j="fragment"}break;case"relative slash":if("/"!=u&&"\\"!=u){"file"!=this._scheme&&(this._host=h._host,this._port=h._port),j="relative path";continue}"\\"==u&&i("\\ is an invalid code point."),j="file"==this._scheme?"file host":"authority ignore slashes";break;case"authority first slash":if("/"!=u){i("Expected '/', got: "+u),j="authority ignore slashes";continue}j="authority second slash";break;case"authority second slash":if(j="authority ignore slashes","/"!=u){i("Expected '/', got: "+u);continue}break;case"authority ignore slashes":if("/"!=u&&"\\"!=u){j="authority";continue}i("Expected authority, got: "+u);break;case"authority":if("@"==u){r&&(i("@ already seen."),l+="%40"),r=!0;for(var x=0;x<l.length;x++){var y=l[x];if("	"!=y&&"\n"!=y&&"\r"!=y)if(":"!=y||null!==this._password){var z=e(y);null!==this._password?this._password+=z:this._username+=z}else this._password="";else i("Invalid whitespace in authority.")}l=""}else{if(o==u||"/"==u||"\\"==u||"?"==u||"#"==u){k-=l.length,l="",j="host";continue}l+=u}break;case"file host":if(o==u||"/"==u||"\\"==u||"?"==u||"#"==u){2!=l.length||!p.test(l[0])||":"!=l[1]&&"|"!=l[1]?0==l.length?j="relative path start":(this._host=d.call(this,l),l="",j="relative path start"):j="relative path";continue}"	"==u||"\n"==u||"\r"==u?i("Invalid whitespace in file host."):l+=u;break;case"host":case"hostname":if(":"!=u||s){if(o==u||"/"==u||"\\"==u||"?"==u||"#"==u){if(this._host=d.call(this,l),l="",j="relative path start",g)break a;continue}"	"!=u&&"\n"!=u&&"\r"!=u?("["==u?s=!0:"]"==u&&(s=!1),l+=u):i("Invalid code point in host/hostname: "+u)}else if(this._host=d.call(this,l),l="",j="port","hostname"==g)break a;break;case"port":if(/[0-9]/.test(u))l+=u;else{if(o==u||"/"==u||"\\"==u||"?"==u||"#"==u||g){if(""!=l){var A=parseInt(l,10);A!=m[this._scheme]&&(this._port=A+""),l=""}if(g)break a;j="relative path start";continue}"	"==u||"\n"==u||"\r"==u?i("Invalid code point in port: "+u):c.call(this)}break;case"relative path start":if("\\"==u&&i("'\\' not allowed in path."),j="relative path","/"!=u&&"\\"!=u)continue;break;case"relative path":if(o!=u&&"/"!=u&&"\\"!=u&&(g||"?"!=u&&"#"!=u))"	"!=u&&"\n"!=u&&"\r"!=u&&(l+=e(u));else{"\\"==u&&i("\\ not allowed in relative path.");var B;(B=n[l.toLowerCase()])&&(l=B),".."==l?(this._path.pop(),"/"!=u&&"\\"!=u&&this._path.push("")):"."==l&&"/"!=u&&"\\"!=u?this._path.push(""):"."!=l&&("file"==this._scheme&&0==this._path.length&&2==l.length&&p.test(l[0])&&"|"==l[1]&&(l=l[0]+":"),this._path.push(l)),l="","?"==u?(this._query="?",j="query"):"#"==u&&(this._fragment="#",j="fragment")}break;case"query":g||"#"!=u?o!=u&&"	"!=u&&"\n"!=u&&"\r"!=u&&(this._query+=f(u)):(this._fragment="#",j="fragment");break;case"fragment":o!=u&&"	"!=u&&"\n"!=u&&"\r"!=u&&(this._fragment+=u)}k++}}function h(){this._scheme="",this._schemeData="",this._username="",this._password=null,this._host="",this._port="",this._path=[],this._query="",this._fragment="",this._isInvalid=!1,this._isRelative=!1}function i(a,b){void 0===b||b instanceof i||(b=new i(String(b))),this._url=a,h.call(this);var c=a.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,"");g.call(this,c,null,b)}var j=!1;if(!a.forceJURL)try{var k=new URL("b","http://a");k.pathname="c%20d",j="http://a/c%20d"===k.href}catch(l){}if(!j){var m=Object.create(null);m.ftp=21,m.file=0,m.gopher=70,m.http=80,m.https=443,m.ws=80,m.wss=443;var n=Object.create(null);n["%2e"]=".",n[".%2e"]="..",n["%2e."]="..",n["%2e%2e"]="..";var o=void 0,p=/[a-zA-Z]/,q=/[a-zA-Z0-9\+\-\.]/;i.prototype={get href(){if(this._isInvalid)return this._url;var a="";return(""!=this._username||null!=this._password)&&(a=this._username+(null!=this._password?":"+this._password:"")+"@"),this.protocol+(this._isRelative?"//"+a+this.host:"")+this.pathname+this._query+this._fragment},set href(a){h.call(this),g.call(this,a)},get protocol(){return this._scheme+":"},set protocol(a){this._isInvalid||g.call(this,a+":","scheme start")},get host(){return this._isInvalid?"":this._port?this._host+":"+this._port:this._host},set host(a){!this._isInvalid&&this._isRelative&&g.call(this,a,"host")},get hostname(){return this._host},set hostname(a){!this._isInvalid&&this._isRelative&&g.call(this,a,"hostname")},get port(){return this._port},set port(a){!this._isInvalid&&this._isRelative&&g.call(this,a,"port")},get pathname(){return this._isInvalid?"":this._isRelative?"/"+this._path.join("/"):this._schemeData},set pathname(a){!this._isInvalid&&this._isRelative&&(this._path=[],g.call(this,a,"relative path start"))},get search(){return this._isInvalid||!this._query||"?"==this._query?"":this._query},set search(a){!this._isInvalid&&this._isRelative&&(this._query="?","?"==a[0]&&(a=a.slice(1)),g.call(this,a,"query"))},get hash(){return this._isInvalid||!this._fragment||"#"==this._fragment?"":this._fragment},set hash(a){this._isInvalid||(this._fragment="#","#"==a[0]&&(a=a.slice(1)),g.call(this,a,"fragment"))},get origin(){var a;if(this._isInvalid||!this._scheme)return"";switch(this._scheme){case"data":case"file":case"javascript":case"mailto":return"null"}return a=this.host,a?this._scheme+"://"+a:""}};var r=a.URL;r&&(i.createObjectURL=function(a){return r.createObjectURL.apply(r,arguments)},i.revokeObjectURL=function(a){r.revokeObjectURL(a)}),a.URL=i}}(this),function(a){function b(a){f.textContent=d++,e.push(a)}function c(){for(;e.length;)e.shift()()}var d=0,e=[],f=document.createTextNode("");new(window.MutationObserver||JsMutationObserver)(c).observe(f,{characterData:!0}),a.endOfMicrotask=b,Platform.endOfMicrotask=b}(Polymer),function(a){function b(){g||(g=!0,c(function(){g=!1,d.data&&console.group("flush"),Platform.performMicrotaskCheckpoint(),d.data&&console.groupEnd()}))}var c=a.endOfMicrotask,d=window.WebComponents?WebComponents.flags.log:{},e=document.createElement("style");e.textContent="template {display: none !important;} /* injected by platform.js */";var f=document.querySelector("head");f.insertBefore(e,f.firstChild);var g;if(Observer.hasObjectObserve)b=function(){};else{var h=125;window.addEventListener("WebComponentsReady",function(){b();var c=function(){"hidden"===document.visibilityState?a.flushPoll&&clearInterval(a.flushPoll):a.flushPoll=setInterval(b,h)};"string"==typeof document.visibilityState&&document.addEventListener("visibilitychange",c),c()})}if(window.CustomElements&&!CustomElements.useNative){var i=Document.prototype.importNode;Document.prototype.importNode=function(a,b){var c=i.call(this,a,b);return CustomElements.upgradeAll(c),c}}a.flush=b,Platform.flush=b}(window.Polymer),function(a){function b(a){var b=new URL(a.ownerDocument.baseURI);return b.search="",b.hash="",b}function c(a,b,c,e){return a.replace(e,function(a,e,f,g){var h=f.replace(/["']/g,"");return h=d(b,h,c),e+"'"+h+"'"+g})}function d(a,b,c){if(h.test(b))return b;var d=new URL(b,a);return c?d.href:e(d.href)}function e(a){var c=b(document.documentElement),d=new URL(a,c);return d.host===c.host&&d.port===c.port&&d.protocol===c.protocol?f(c,d):a}function f(a,b){for(var c=a.pathname,d=b.pathname,e=c.split("/"),f=d.split("/");e.length&&e[0]===f[0];)e.shift(),f.shift();for(var g=0,h=e.length-1;h>g;g++)f.unshift("..");var i=b.href.slice(-1)===n?n:b.hash;return f.join("/")+b.search+i}var g={resolveDom:function(a,c){c=c||b(a),this.resolveAttributes(a,c),this.resolveStyles(a,c);var d=a.querySelectorAll("template");if(d)for(var e,f=0,g=d.length;g>f&&(e=d[f]);f++)e.content&&this.resolveDom(e.content,c)},resolveTemplate:function(a){this.resolveDom(a.content,b(a))},resolveStyles:function(a,b){var c=a.querySelectorAll("style");if(c)for(var d,e=0,f=c.length;f>e&&(d=c[e]);e++)this.resolveStyle(d,b)},resolveStyle:function(a,c){c=c||b(a),a.textContent=this.resolveCssText(a.textContent,c)},resolveCssText:function(a,b,d){return a=c(a,b,d,i),c(a,b,d,j)},resolveAttributes:function(a,b){a.hasAttributes&&a.hasAttributes()&&this.resolveElementAttributes(a,b);var c=a&&a.querySelectorAll(l);if(c)for(var d,e=0,f=c.length;f>e&&(d=c[e]);e++)this.resolveElementAttributes(d,b)},resolveElementAttributes:function(a,e){e=e||b(a),k.forEach(function(b){var f,g=a.attributes[b],h=g&&g.value;h&&h.search(m)<0&&(f="style"===b?c(h,e,!1,i):d(e,h),g.value=f)})}},h=/(^\/)|(^#)|(^[\w-\d]*:)/,i=/(url\()([^)]*)(\))/g,j=/(@import[\s]+(?!url\())([^;]*)(;)/g,k=["href","src","action","style","url"],l="["+k.join("],[")+"]",m="{{.*}}",n="#";a.urlResolver=g}(Polymer),function(a){function b(a){this.cache=Object.create(null),this.map=Object.create(null),this.requests=0,this.regex=a}var c=Polymer.endOfMicrotask;b.prototype={extractUrls:function(a,b){for(var c,d,e=[];c=this.regex.exec(a);)d=new URL(c[1],b),e.push({matched:c[0],url:d.href});return e},process:function(a,b,c){var d=this.extractUrls(a,b),e=c.bind(null,this.map);this.fetch(d,e)},fetch:function(a,b){var c=a.length;if(!c)return b();for(var d,e,f,g=function(){0===--c&&b()},h=0;c>h;h++)d=a[h],f=d.url,e=this.cache[f],e||(e=this.xhr(f),e.match=d,this.cache[f]=e),e.wait(g)},handleXhr:function(a){var b=a.match,c=b.url,d=a.response||a.responseText||"";this.map[c]=d,this.fetch(this.extractUrls(d,c),a.resolve)},xhr:function(a){this.requests++;var b=new XMLHttpRequest;return b.open("GET",a,!0),b.send(),b.onerror=b.onload=this.handleXhr.bind(this,b),b.pending=[],b.resolve=function(){for(var a=b.pending,c=0;c<a.length;c++)a[c]();b.pending=null},b.wait=function(a){b.pending?b.pending.push(a):c(a)},b}},a.Loader=b}(Polymer),function(a){function b(){this.loader=new d(this.regex)}var c=a.urlResolver,d=a.Loader;b.prototype={regex:/@import\s+(?:url)?["'\(]*([^'"\)]*)['"\)]*;/g,resolve:function(a,b,c){var d=function(d){c(this.flatten(a,b,d))}.bind(this);this.loader.process(a,b,d)},resolveNode:function(a,b,c){var d=a.textContent,e=function(b){a.textContent=b,c(a)};this.resolve(d,b,e)},flatten:function(a,b,d){for(var e,f,g,h=this.loader.extractUrls(a,b),i=0;i<h.length;i++)e=h[i],f=e.url,g=c.resolveCssText(d[f],f,!0),g=this.flatten(g,b,d),a=a.replace(e.matched,g);return a},loadStyles:function(a,b,c){function d(a){f++,f===g&&c&&c()}for(var e,f=0,g=a.length,h=0;g>h&&(e=a[h]);h++)this.resolveNode(e,b,d)}};var e=new b;a.styleResolver=e}(Polymer),function(a){function b(a,b){return a&&b&&Object.getOwnPropertyNames(b).forEach(function(c){var d=Object.getOwnPropertyDescriptor(b,c);d&&(Object.defineProperty(a,c,d),"function"==typeof d.value&&(d.value.nom=c))}),a}function c(a){for(var b=a||{},c=1;c<arguments.length;c++){var e=arguments[c];try{for(var f in e)d(f,e,b)}catch(g){}
}return b}function d(a,b,c){var d=e(b,a);Object.defineProperty(c,a,d)}function e(a,b){if(a){var c=Object.getOwnPropertyDescriptor(a,b);return c||e(Object.getPrototypeOf(a),b)}}a.extend=b,a.mixin=c,Platform.mixin=c}(Polymer),function(a){function b(a,b,d){return a?a.stop():a=new c(this),a.go(b,d),a}var c=function(a){this.context=a,this.boundComplete=this.complete.bind(this)};c.prototype={go:function(a,b){this.callback=a;var c;b?(c=setTimeout(this.boundComplete,b),this.handle=function(){clearTimeout(c)}):(c=requestAnimationFrame(this.boundComplete),this.handle=function(){cancelAnimationFrame(c)})},stop:function(){this.handle&&(this.handle(),this.handle=null)},complete:function(){this.handle&&(this.stop(),this.callback.call(this.context))}},a.job=b}(Polymer),function(a){function b(a,b,c){var d="string"==typeof a?document.createElement(a):a.cloneNode(!0);if(d.innerHTML=b,c)for(var e in c)d.setAttribute(e,c[e]);return d}var c={};HTMLElement.register=function(a,b){c[a]=b},HTMLElement.getPrototypeForTag=function(a){var b=a?c[a]:HTMLElement.prototype;return b||Object.getPrototypeOf(document.createElement(a))};var d=Event.prototype.stopPropagation;Event.prototype.stopPropagation=function(){this.cancelBubble=!0,d.apply(this,arguments)};var e=DOMTokenList.prototype.add,f=DOMTokenList.prototype.remove;DOMTokenList.prototype.add=function(){for(var a=0;a<arguments.length;a++)e.call(this,arguments[a])},DOMTokenList.prototype.remove=function(){for(var a=0;a<arguments.length;a++)f.call(this,arguments[a])},DOMTokenList.prototype.toggle=function(a,b){1==arguments.length&&(b=!this.contains(a)),b?this.add(a):this.remove(a)},DOMTokenList.prototype["switch"]=function(a,b){a&&this.remove(a),b&&this.add(b)};var g=function(){return Array.prototype.slice.call(this)},h=window.NamedNodeMap||window.MozNamedAttrMap||{};NodeList.prototype.array=g,h.prototype.array=g,HTMLCollection.prototype.array=g,a.createDOM=b}(Polymer),function(a){function b(a){var e=b.caller,g=e.nom,h=e._super;h||(g||(g=e.nom=c.call(this,e)),g||console.warn("called super() on a method not installed declaratively (has no .nom property)"),h=d(e,g,f(this)));var i=h[g];return i?(i._super||d(i,g,h),i.apply(this,a||[])):void 0}function c(a){for(var b=this.__proto__;b&&b!==HTMLElement.prototype;){for(var c,d=Object.getOwnPropertyNames(b),e=0,f=d.length;f>e&&(c=d[e]);e++){var g=Object.getOwnPropertyDescriptor(b,c);if("function"==typeof g.value&&g.value===a)return c}b=b.__proto__}}function d(a,b,c){var d=e(c,b,a);return d[b]&&(d[b].nom=b),a._super=d}function e(a,b,c){for(;a;){if(a[b]!==c&&a[b])return a;a=f(a)}return Object}function f(a){return a.__proto__}a["super"]=b}(Polymer),function(a){function b(a){return a}function c(a,b){var c=typeof b;return b instanceof Date&&(c="date"),d[c](a,b)}var d={string:b,undefined:b,date:function(a){return new Date(Date.parse(a)||Date.now())},"boolean":function(a){return""===a?!0:"false"===a?!1:!!a},number:function(a){var b=parseFloat(a);return 0===b&&(b=parseInt(a)),isNaN(b)?a:b},object:function(a,b){if(null===b)return a;try{return JSON.parse(a.replace(/'/g,'"'))}catch(c){return a}},"function":function(a,b){return b}};a.deserializeValue=c}(Polymer),function(a){var b=a.extend,c={};c.declaration={},c.instance={},c.publish=function(a,c){for(var d in a)b(c,a[d])},a.api=c}(Polymer),function(a){var b={async:function(a,b,c){Polymer.flush(),b=b&&b.length?b:[b];var d=function(){(this[a]||a).apply(this,b)}.bind(this),e=c?setTimeout(d,c):requestAnimationFrame(d);return c?e:~e},cancelAsync:function(a){0>a?cancelAnimationFrame(~a):clearTimeout(a)},fire:function(a,b,c,d,e){var f=c||this,b=null===b||void 0===b?{}:b,g=new CustomEvent(a,{bubbles:void 0!==d?d:!0,cancelable:void 0!==e?e:!0,detail:b});return f.dispatchEvent(g),g},asyncFire:function(){this.async("fire",arguments)},classFollows:function(a,b,c){b&&b.classList.remove(c),a&&a.classList.add(c)},injectBoundHTML:function(a,b){var c=document.createElement("template");c.innerHTML=a;var d=this.instanceTemplate(c);return b&&(b.textContent="",b.appendChild(d)),d}},c=function(){},d={};b.asyncMethod=b.async,a.api.instance.utils=b,a.nop=c,a.nob=d}(Polymer),function(a){var b=window.WebComponents?WebComponents.flags.log:{},c="on-",d={EVENT_PREFIX:c,addHostListeners:function(){var a=this.eventDelegates;b.events&&Object.keys(a).length>0&&console.log("[%s] addHostListeners:",this.localName,a);for(var c in a){var d=a[c];PolymerGestures.addEventListener(this,c,this.element.getEventHandler(this,this,d))}},dispatchMethod:function(a,c,d){if(a){b.events&&console.group("[%s] dispatch [%s]",a.localName,c);var e="function"==typeof c?c:a[c];e&&e[d?"apply":"call"](a,d),b.events&&console.groupEnd(),Polymer.flush()}}};a.api.instance.events=d,a.addEventListener=function(a,b,c,d){PolymerGestures.addEventListener(wrap(a),b,c,d)},a.removeEventListener=function(a,b,c,d){PolymerGestures.removeEventListener(wrap(a),b,c,d)}}(Polymer),function(a){var b={copyInstanceAttributes:function(){var a=this._instanceAttributes;for(var b in a)this.hasAttribute(b)||this.setAttribute(b,a[b])},takeAttributes:function(){if(this._publishLC)for(var a,b=0,c=this.attributes,d=c.length;(a=c[b])&&d>b;b++)this.attributeToProperty(a.name,a.value)},attributeToProperty:function(b,c){var b=this.propertyForAttribute(b);if(b){if(c&&c.search(a.bindPattern)>=0)return;var d=this[b],c=this.deserializeValue(c,d);c!==d&&(this[b]=c)}},propertyForAttribute:function(a){var b=this._publishLC&&this._publishLC[a];return b},deserializeValue:function(b,c){return a.deserializeValue(b,c)},serializeValue:function(a,b){return"boolean"===b?a?"":void 0:"object"!==b&&"function"!==b&&void 0!==a?a:void 0},reflectPropertyToAttribute:function(a){var b=typeof this[a],c=this.serializeValue(this[a],b);void 0!==c?this.setAttribute(a,c):"boolean"===b&&this.removeAttribute(a)}};a.api.instance.attributes=b}(Polymer),function(a){function b(a,b){return a===b?0!==a||1/a===1/b:f(a)&&f(b)?!0:a!==a&&b!==b}function c(a,b){return void 0===b&&null===a?b:null===b||void 0===b?a:b}var d=window.WebComponents?WebComponents.flags.log:{},e={object:void 0,type:"update",name:void 0,oldValue:void 0},f=Number.isNaN||function(a){return"number"==typeof a&&isNaN(a)},g={createPropertyObserver:function(){var a=this._observeNames;if(a&&a.length){var b=this._propertyObserver=new CompoundObserver(!0);this.registerObserver(b);for(var c,d=0,e=a.length;e>d&&(c=a[d]);d++)b.addPath(this,c),this.observeArrayValue(c,this[c],null)}},openPropertyObserver:function(){this._propertyObserver&&this._propertyObserver.open(this.notifyPropertyChanges,this)},notifyPropertyChanges:function(a,b,c){var d,e,f={};for(var g in b)if(d=c[2*g+1],e=this.observe[d]){var h=b[g],i=a[g];this.observeArrayValue(d,i,h),f[e]||(void 0!==h&&null!==h||void 0!==i&&null!==i)&&(f[e]=!0,this.invokeMethod(e,[h,i,arguments]))}},invokeMethod:function(a,b){var c=this[a]||a;"function"==typeof c&&c.apply(this,b)},deliverChanges:function(){this._propertyObserver&&this._propertyObserver.deliver()},observeArrayValue:function(a,b,c){var e=this.observe[a];if(e&&(Array.isArray(c)&&(d.observe&&console.log("[%s] observeArrayValue: unregister observer [%s]",this.localName,a),this.closeNamedObserver(a+"__array")),Array.isArray(b))){d.observe&&console.log("[%s] observeArrayValue: register observer [%s]",this.localName,a,b);var f=new ArrayObserver(b);f.open(function(a){this.invokeMethod(e,[a])},this),this.registerNamedObserver(a+"__array",f)}},emitPropertyChangeRecord:function(a,c,d){if(!b(c,d)&&(this._propertyChanged(a,c,d),Observer.hasObjectObserve)){var f=this._objectNotifier;f||(f=this._objectNotifier=Object.getNotifier(this)),e.object=this,e.name=a,e.oldValue=d,f.notify(e)}},_propertyChanged:function(a,b,c){this.reflect[a]&&this.reflectPropertyToAttribute(a)},bindProperty:function(a,b,d){if(d)return void(this[a]=b);var e=this.element.prototype.computed;if(e&&e[a]){var f=a+"ComputedBoundObservable_";return void(this[f]=b)}return this.bindToAccessor(a,b,c)},bindToAccessor:function(a,c,d){function e(b,c){j[f]=b;var d=j[h];d&&"function"==typeof d.setValue&&d.setValue(b),j.emitPropertyChangeRecord(a,b,c)}var f=a+"_",g=a+"Observable_",h=a+"ComputedBoundObservable_";this[g]=c;var i=this[f],j=this,k=c.open(e);if(d&&!b(i,k)){var l=d(i,k);b(k,l)||(k=l,c.setValue&&c.setValue(k))}e(k,i);var m={close:function(){c.close(),j[g]=void 0,j[h]=void 0}};return this.registerObserver(m),m},createComputedProperties:function(){if(this._computedNames)for(var a=0;a<this._computedNames.length;a++){var b=this._computedNames[a],c=this.computed[b];try{var d=PolymerExpressions.getExpression(c),e=d.getBinding(this,this.element.syntax);this.bindToAccessor(b,e)}catch(f){console.error("Failed to create computed property",f)}}},registerObserver:function(a){return this._observers?void this._observers.push(a):void(this._observers=[a])},closeObservers:function(){if(this._observers){for(var a=this._observers,b=0;b<a.length;b++){var c=a[b];c&&"function"==typeof c.close&&c.close()}this._observers=[]}},registerNamedObserver:function(a,b){var c=this._namedObservers||(this._namedObservers={});c[a]=b},closeNamedObserver:function(a){var b=this._namedObservers;return b&&b[a]?(b[a].close(),b[a]=null,!0):void 0},closeNamedObservers:function(){if(this._namedObservers){for(var a in this._namedObservers)this.closeNamedObserver(a);this._namedObservers={}}}};a.api.instance.properties=g}(Polymer),function(a){var b=window.WebComponents?WebComponents.flags.log:{},c={instanceTemplate:function(a){HTMLTemplateElement.decorate(a);for(var b=this.syntax||!a.bindingDelegate&&this.element.syntax,c=a.createInstance(this,b),d=c.bindings_,e=0;e<d.length;e++)this.registerObserver(d[e]);return c},bind:function(a,b,c){var d=this.propertyForAttribute(a);if(d){var e=this.bindProperty(d,b,c);return Platform.enableBindingsReflection&&e&&(e.path=b.path_,this._recordBinding(d,e)),this.reflect[d]&&this.reflectPropertyToAttribute(d),e}return this.mixinSuper(arguments)},_recordBinding:function(a,b){this.bindings_=this.bindings_||{},this.bindings_[a]=b},bindFinished:function(){this.makeElementReady()},asyncUnbindAll:function(){this._unbound||(b.unbind&&console.log("[%s] asyncUnbindAll",this.localName),this._unbindAllJob=this.job(this._unbindAllJob,this.unbindAll,0))},unbindAll:function(){this._unbound||(this.closeObservers(),this.closeNamedObservers(),this._unbound=!0)},cancelUnbindAll:function(){return this._unbound?void(b.unbind&&console.warn("[%s] already unbound, cannot cancel unbindAll",this.localName)):(b.unbind&&console.log("[%s] cancelUnbindAll",this.localName),void(this._unbindAllJob&&(this._unbindAllJob=this._unbindAllJob.stop())))}},d=/\{\{([^{}]*)}}/;a.bindPattern=d,a.api.instance.mdv=c}(Polymer),function(a){function b(a){return a.hasOwnProperty("PolymerBase")}function c(){}var d={PolymerBase:!0,job:function(a,b,c){if("string"!=typeof a)return Polymer.job.call(this,a,b,c);var d="___"+a;this[d]=Polymer.job.call(this,this[d],b,c)},"super":Polymer["super"],created:function(){},ready:function(){},createdCallback:function(){this.templateInstance&&this.templateInstance.model&&console.warn("Attributes on "+this.localName+" were data bound prior to Polymer upgrading the element. This may result in incorrect binding types."),this.created(),this.prepareElement(),this.ownerDocument.isStagingDocument||this.makeElementReady()},prepareElement:function(){return this._elementPrepared?void console.warn("Element already prepared",this.localName):(this._elementPrepared=!0,this.shadowRoots={},this.createPropertyObserver(),this.openPropertyObserver(),this.copyInstanceAttributes(),this.takeAttributes(),void this.addHostListeners())},makeElementReady:function(){this._readied||(this._readied=!0,this.createComputedProperties(),this.parseDeclarations(this.__proto__),this.removeAttribute("unresolved"),this.ready())},attributeChangedCallback:function(a,b){"class"!==a&&"style"!==a&&this.attributeToProperty(a,this.getAttribute(a)),this.attributeChanged&&this.attributeChanged.apply(this,arguments)},attachedCallback:function(){this.cancelUnbindAll(),this.attached&&this.attached(),this.hasBeenAttached||(this.hasBeenAttached=!0,this.domReady&&this.async("domReady"))},detachedCallback:function(){this.preventDispose||this.asyncUnbindAll(),this.detached&&this.detached(),this.leftView&&this.leftView()},parseDeclarations:function(a){a&&a.element&&(this.parseDeclarations(a.__proto__),a.parseDeclaration.call(this,a.element))},parseDeclaration:function(a){var b=this.fetchTemplate(a);if(b){var c=this.shadowFromTemplate(b);this.shadowRoots[a.name]=c}},fetchTemplate:function(a){return a.querySelector("template")},shadowFromTemplate:function(a){if(a){var b=this.createShadowRoot(),c=this.instanceTemplate(a);return b.appendChild(c),this.shadowRootReady(b,a),b}},lightFromTemplate:function(a,b){if(a){this.eventController=this;var c=this.instanceTemplate(a);return b?this.insertBefore(c,b):this.appendChild(c),this.shadowRootReady(this),c}},shadowRootReady:function(a){this.marshalNodeReferences(a)},marshalNodeReferences:function(a){var b=this.$=this.$||{};if(a)for(var c,d=a.querySelectorAll("[id]"),e=0,f=d.length;f>e&&(c=d[e]);e++)b[c.id]=c},onMutation:function(a,b){var c=new MutationObserver(function(a){b.call(this,c,a),c.disconnect()}.bind(this));c.observe(a,{childList:!0,subtree:!0})}};c.prototype=d,d.constructor=c,a.Base=c,a.isBase=b,a.api.instance.base=d}(Polymer),function(a){function b(a){return a.__proto__}function c(a,b){var c="",d=!1;b&&(c=b.localName,d=b.hasAttribute("is"));var e=WebComponents.ShadowCSS.makeScopeSelector(c,d);return WebComponents.ShadowCSS.shimCssText(a,e)}var d=(window.WebComponents?WebComponents.flags.log:{},window.ShadowDOMPolyfill),e="element",f="controller",g={STYLE_SCOPE_ATTRIBUTE:e,installControllerStyles:function(){var a=this.findStyleScope();if(a&&!this.scopeHasNamedStyle(a,this.localName)){for(var c=b(this),d="";c&&c.element;)d+=c.element.cssTextForScope(f),c=b(c);d&&this.installScopeCssText(d,a)}},installScopeStyle:function(a,b,c){var c=c||this.findStyleScope(),b=b||"";if(c&&!this.scopeHasNamedStyle(c,this.localName+b)){var d="";if(a instanceof Array)for(var e,f=0,g=a.length;g>f&&(e=a[f]);f++)d+=e.textContent+"\n\n";else d=a.textContent;this.installScopeCssText(d,c,b)}},installScopeCssText:function(a,b,e){if(b=b||this.findStyleScope(),e=e||"",b){d&&(a=c(a,b.host));var g=this.element.cssTextToScopeStyle(a,f);Polymer.applyStyleToScope(g,b),this.styleCacheForScope(b)[this.localName+e]=!0}},findStyleScope:function(a){for(var b=a||this;b.parentNode;)b=b.parentNode;return b},scopeHasNamedStyle:function(a,b){var c=this.styleCacheForScope(a);return c[b]},styleCacheForScope:function(a){if(d){var b=a.host?a.host.localName:a.localName;return h[b]||(h[b]={})}return a._scopeStyles=a._scopeStyles||{}}},h={};a.api.instance.styles=g}(Polymer),function(a){function b(a,b){if("string"!=typeof a){var c=b||document._currentScript;if(b=a,a=c&&c.parentNode&&c.parentNode.getAttribute?c.parentNode.getAttribute("name"):"",!a)throw"Element name could not be inferred."}if(f(a))throw"Already registered (Polymer) prototype for element "+a;e(a,b),d(a)}function c(a,b){i[a]=b}function d(a){i[a]&&(i[a].registerWhenReady(),delete i[a])}function e(a,b){return j[a]=b||{}}function f(a){return j[a]}function g(a,b){if("string"!=typeof b)return!1;var c=HTMLElement.getPrototypeForTag(b),d=c&&c.constructor;return d?CustomElements["instanceof"]?CustomElements["instanceof"](a,d):a instanceof d:!1}var h=a.extend,i=(a.api,{}),j={};a.getRegisteredPrototype=f,a.waitingForPrototype=c,a.instanceOfType=g,window.Polymer=b,h(Polymer,a),WebComponents.consumeDeclarations&&WebComponents.consumeDeclarations(function(a){if(a)for(var c,d=0,e=a.length;e>d&&(c=a[d]);d++)b.apply(null,c)})}(Polymer),function(a){var b={resolveElementPaths:function(a){Polymer.urlResolver.resolveDom(a)},addResolvePathApi:function(){var a=this.getAttribute("assetpath")||"",b=new URL(a,this.ownerDocument.baseURI);this.prototype.resolvePath=function(a,c){var d=new URL(a,c||b);return d.href}}};a.api.declaration.path=b}(Polymer),function(a){function b(a,b){var c=new URL(a.getAttribute("href"),b).href;return"@import '"+c+"';"}function c(a,b){if(a){b===document&&(b=document.head),i&&(b=document.head);var c=d(a.textContent),e=a.getAttribute(h);e&&c.setAttribute(h,e);var f=b.firstElementChild;if(b===document.head){var g="style["+h+"]",j=document.head.querySelectorAll(g);j.length&&(f=j[j.length-1].nextElementSibling)}b.insertBefore(c,f)}}function d(a,b){b=b||document,b=b.createElement?b:b.ownerDocument;var c=b.createElement("style");return c.textContent=a,c}function e(a){return a&&a.__resource||""}function f(a,b){return q?q.call(a,b):void 0}var g=(window.WebComponents?WebComponents.flags.log:{},a.api.instance.styles),h=g.STYLE_SCOPE_ATTRIBUTE,i=window.ShadowDOMPolyfill,j="style",k="@import",l="link[rel=stylesheet]",m="global",n="polymer-scope",o={loadStyles:function(a){var b=this.fetchTemplate(),c=b&&this.templateContent();if(c){this.convertSheetsToStyles(c);var d=this.findLoadableStyles(c);if(d.length){var e=b.ownerDocument.baseURI;return Polymer.styleResolver.loadStyles(d,e,a)}}a&&a()},convertSheetsToStyles:function(a){for(var c,e,f=a.querySelectorAll(l),g=0,h=f.length;h>g&&(c=f[g]);g++)e=d(b(c,this.ownerDocument.baseURI),this.ownerDocument),this.copySheetAttributes(e,c),c.parentNode.replaceChild(e,c)},copySheetAttributes:function(a,b){for(var c,d=0,e=b.attributes,f=e.length;(c=e[d])&&f>d;d++)"rel"!==c.name&&"href"!==c.name&&a.setAttribute(c.name,c.value)},findLoadableStyles:function(a){var b=[];if(a)for(var c,d=a.querySelectorAll(j),e=0,f=d.length;f>e&&(c=d[e]);e++)c.textContent.match(k)&&b.push(c);return b},installSheets:function(){this.cacheSheets(),this.cacheStyles(),this.installLocalSheets(),this.installGlobalStyles()},cacheSheets:function(){this.sheets=this.findNodes(l),this.sheets.forEach(function(a){a.parentNode&&a.parentNode.removeChild(a)})},cacheStyles:function(){this.styles=this.findNodes(j+"["+n+"]"),this.styles.forEach(function(a){a.parentNode&&a.parentNode.removeChild(a)})},installLocalSheets:function(){var a=this.sheets.filter(function(a){return!a.hasAttribute(n)}),b=this.templateContent();if(b){var c="";if(a.forEach(function(a){c+=e(a)+"\n"}),c){var f=d(c,this.ownerDocument);b.insertBefore(f,b.firstChild)}}},findNodes:function(a,b){var c=this.querySelectorAll(a).array(),d=this.templateContent();if(d){var e=d.querySelectorAll(a).array();c=c.concat(e)}return b?c.filter(b):c},installGlobalStyles:function(){var a=this.styleForScope(m);c(a,document.head)},cssTextForScope:function(a){var b="",c="["+n+"="+a+"]",d=function(a){return f(a,c)},g=this.sheets.filter(d);g.forEach(function(a){b+=e(a)+"\n\n"});var h=this.styles.filter(d);return h.forEach(function(a){b+=a.textContent+"\n\n"}),b},styleForScope:function(a){var b=this.cssTextForScope(a);return this.cssTextToScopeStyle(b,a)},cssTextToScopeStyle:function(a,b){if(a){var c=d(a);return c.setAttribute(h,this.getAttribute("name")+"-"+b),c}}},p=HTMLElement.prototype,q=p.matches||p.matchesSelector||p.webkitMatchesSelector||p.mozMatchesSelector;a.api.declaration.styles=o,a.applyStyleToScope=c}(Polymer),function(a){var b=(window.WebComponents?WebComponents.flags.log:{},a.api.instance.events),c=b.EVENT_PREFIX,d={};["webkitAnimationStart","webkitAnimationEnd","webkitTransitionEnd","DOMFocusOut","DOMFocusIn","DOMMouseScroll"].forEach(function(a){d[a.toLowerCase()]=a});var e={parseHostEvents:function(){var a=this.prototype.eventDelegates;this.addAttributeDelegates(a)},addAttributeDelegates:function(a){for(var b,c=0;b=this.attributes[c];c++)this.hasEventPrefix(b.name)&&(a[this.removeEventPrefix(b.name)]=b.value.replace("{{","").replace("}}","").trim())},hasEventPrefix:function(a){return a&&"o"===a[0]&&"n"===a[1]&&"-"===a[2]},removeEventPrefix:function(a){return a.slice(f)},findController:function(a){for(;a.parentNode;){if(a.eventController)return a.eventController;a=a.parentNode}return a.host},getEventHandler:function(a,b,c){var d=this;return function(e){a&&a.PolymerBase||(a=d.findController(b));var f=[e,e.detail,e.currentTarget];a.dispatchMethod(a,c,f)}},prepareEventBinding:function(a,b,c){if(this.hasEventPrefix(b)){var e=this.removeEventPrefix(b);e=d[e]||e;var f=this;return function(b,c,d){function g(){return"{{ "+a+" }}"}var h=f.getEventHandler(void 0,c,a);return PolymerGestures.addEventListener(c,e,h),d?void 0:{open:g,discardChanges:g,close:function(){PolymerGestures.removeEventListener(c,e,h)}}}}}},f=c.length;a.api.declaration.events=e}(Polymer),function(a){var b=["attribute"],c={inferObservers:function(a){var b,c=a.observe;for(var d in a)"Changed"===d.slice(-7)&&(b=d.slice(0,-7),this.canObserveProperty(b)&&(c||(c=a.observe={}),c[b]=c[b]||d))},canObserveProperty:function(a){return b.indexOf(a)<0},explodeObservers:function(a){var b=a.observe;if(b){var c={};for(var d in b)for(var e,f=d.split(" "),g=0;e=f[g];g++)c[e]=b[d];a.observe=c}},optimizePropertyMaps:function(a){if(a.observe){var b=a._observeNames=[];for(var c in a.observe)for(var d,e=c.split(" "),f=0;d=e[f];f++)b.push(d)}if(a.publish){var b=a._publishNames=[];for(var c in a.publish)b.push(c)}if(a.computed){var b=a._computedNames=[];for(var c in a.computed)b.push(c)}},publishProperties:function(a,b){var c=a.publish;c&&(this.requireProperties(c,a,b),this.filterInvalidAccessorNames(c),a._publishLC=this.lowerCaseMap(c));var d=a.computed;d&&this.filterInvalidAccessorNames(d)},filterInvalidAccessorNames:function(a){for(var b in a)this.propertyNameBlacklist[b]&&(console.warn('Cannot define property "'+b+'" for element "'+this.name+'" because it has the same name as an HTMLElement property, and not all browsers support overriding that. Consider giving it a different name.'),delete a[b])},requireProperties:function(a,b,c){b.reflect=b.reflect||{};for(var d in a){var e=a[d];e&&void 0!==e.reflect&&(b.reflect[d]=Boolean(e.reflect),e=e.value),void 0!==e&&(b[d]=e)}},lowerCaseMap:function(a){var b={};for(var c in a)b[c.toLowerCase()]=c;return b},createPropertyAccessor:function(a,b){var c=this.prototype,d=a+"_",e=a+"Observable_";c[d]=c[a],Object.defineProperty(c,a,{get:function(){var a=this[e];return a&&a.deliver(),this[d]},set:function(c){if(b)return this[d];var f=this[e];if(f)return void f.setValue(c);var g=this[d];return this[d]=c,this.emitPropertyChangeRecord(a,c,g),c},configurable:!0})},createPropertyAccessors:function(a){var b=a._computedNames;if(b&&b.length)for(var c,d=0,e=b.length;e>d&&(c=b[d]);d++)this.createPropertyAccessor(c,!0);var b=a._publishNames;if(b&&b.length)for(var c,d=0,e=b.length;e>d&&(c=b[d]);d++)a.computed&&a.computed[c]||this.createPropertyAccessor(c)},propertyNameBlacklist:{children:1,"class":1,id:1,hidden:1,style:1,title:1}};a.api.declaration.properties=c}(Polymer),function(a){var b="attributes",c=/\s|,/,d={inheritAttributesObjects:function(a){this.inheritObject(a,"publishLC"),this.inheritObject(a,"_instanceAttributes")},publishAttributes:function(a,d){var e=this.getAttribute(b);if(e)for(var f,g=a.publish||(a.publish={}),h=e.split(c),i=0,j=h.length;j>i;i++)f=h[i].trim(),f&&void 0===g[f]&&(g[f]=void 0)},accumulateInstanceAttributes:function(){for(var a,b=this.prototype._instanceAttributes,c=this.attributes,d=0,e=c.length;e>d&&(a=c[d]);d++)this.isInstanceAttribute(a.name)&&(b[a.name]=a.value)},isInstanceAttribute:function(a){return!this.blackList[a]&&"on-"!==a.slice(0,3)},blackList:{name:1,"extends":1,constructor:1,noscript:1,assetpath:1,"cache-csstext":1}};d.blackList[b]=1,a.api.declaration.attributes=d}(Polymer),function(a){var b=a.api.declaration.events,c=new PolymerExpressions,d=c.prepareBinding;c.prepareBinding=function(a,e,f){return b.prepareEventBinding(a,e,f)||d.call(c,a,e,f)};var e={syntax:c,fetchTemplate:function(){return this.querySelector("template")},templateContent:function(){var a=this.fetchTemplate();return a&&a.content},installBindingDelegate:function(a){a&&(a.bindingDelegate=this.syntax)}};a.api.declaration.mdv=e}(Polymer),function(a){function b(a){if(!Object.__proto__){var b=Object.getPrototypeOf(a);a.__proto__=b,d(b)&&(b.__proto__=Object.getPrototypeOf(b))}}var c=a.api,d=a.isBase,e=a.extend,f=window.ShadowDOMPolyfill,g={register:function(a,b){this.buildPrototype(a,b),this.registerPrototype(a,b),this.publishConstructor()},buildPrototype:function(b,c){var d=a.getRegisteredPrototype(b),e=this.generateBasePrototype(c);this.desugarBeforeChaining(d,e),this.prototype=this.chainPrototypes(d,e),this.desugarAfterChaining(b,c)},desugarBeforeChaining:function(a,b){a.element=this,this.publishAttributes(a,b),this.publishProperties(a,b),this.inferObservers(a),this.explodeObservers(a)},chainPrototypes:function(a,c){this.inheritMetaData(a,c);var d=this.chainObject(a,c);return b(d),d},inheritMetaData:function(a,b){this.inheritObject("observe",a,b),this.inheritObject("publish",a,b),this.inheritObject("reflect",a,b),this.inheritObject("_publishLC",a,b),this.inheritObject("_instanceAttributes",a,b),this.inheritObject("eventDelegates",a,b)},desugarAfterChaining:function(a,b){this.optimizePropertyMaps(this.prototype),this.createPropertyAccessors(this.prototype),this.installBindingDelegate(this.fetchTemplate()),this.installSheets(),this.resolveElementPaths(this),this.accumulateInstanceAttributes(),this.parseHostEvents(),this.addResolvePathApi(),f&&WebComponents.ShadowCSS.shimStyling(this.templateContent(),a,b),this.prototype.registerCallback&&this.prototype.registerCallback(this)},publishConstructor:function(){var a=this.getAttribute("constructor");a&&(window[a]=this.ctor)},generateBasePrototype:function(a){var b=this.findBasePrototype(a);if(!b){var b=HTMLElement.getPrototypeForTag(a);b=this.ensureBaseApi(b),h[a]=b}return b},findBasePrototype:function(a){return h[a]},ensureBaseApi:function(a){if(a.PolymerBase)return a;var b=Object.create(a);return c.publish(c.instance,b),this.mixinMethod(b,a,c.instance.mdv,"bind"),b},mixinMethod:function(a,b,c,d){var e=function(a){return b[d].apply(this,a)};a[d]=function(){return this.mixinSuper=e,c[d].apply(this,arguments)}},inheritObject:function(a,b,c){var d=b[a]||{};b[a]=this.chainObject(d,c[a])},registerPrototype:function(a,b){var c={prototype:this.prototype},d=this.findTypeExtension(b);d&&(c["extends"]=d),HTMLElement.register(a,this.prototype),this.ctor=document.registerElement(a,c)},findTypeExtension:function(a){if(a&&a.indexOf("-")<0)return a;var b=this.findBasePrototype(a);return b.element?this.findTypeExtension(b.element["extends"]):void 0}},h={};Object.__proto__?g.chainObject=function(a,b){return a&&b&&a!==b&&(a.__proto__=b),a}:g.chainObject=function(a,b){if(a&&b&&a!==b){var c=Object.create(b);a=e(c,a)}return a},c.declaration.prototype=g}(Polymer),function(a){function b(a){return document.contains(a)?j:i}function c(){return i.length?i[0]:j[0]}function d(a){f.waitToReady=!0,Polymer.endOfMicrotask(function(){HTMLImports.whenReady(function(){f.addReadyCallback(a),f.waitToReady=!1,f.check()})})}function e(a){if(void 0===a)return void f.ready();var b=setTimeout(function(){f.ready()},a);Polymer.whenReady(function(){clearTimeout(b)})}var f={wait:function(a){a.__queue||(a.__queue={},g.push(a))},enqueue:function(a,c,d){var e=a.__queue&&!a.__queue.check;return e&&(b(a).push(a),a.__queue.check=c,a.__queue.go=d),0!==this.indexOf(a)},indexOf:function(a){var c=b(a).indexOf(a);return c>=0&&document.contains(a)&&(c+=HTMLImports.useNative||HTMLImports.ready?i.length:1e9),c},go:function(a){var b=this.remove(a);b&&(a.__queue.flushable=!0,this.addToFlushQueue(b),this.check())},remove:function(a){var c=this.indexOf(a);if(0===c)return b(a).shift()},check:function(){var a=this.nextElement();return a&&a.__queue.check.call(a),this.canReady()?(this.ready(),!0):void 0},nextElement:function(){return c()},canReady:function(){return!this.waitToReady&&this.isEmpty()},isEmpty:function(){for(var a,b=0,c=g.length;c>b&&(a=g[b]);b++)if(a.__queue&&!a.__queue.flushable)return;return!0},addToFlushQueue:function(a){h.push(a)},flush:function(){if(!this.flushing){this.flushing=!0;for(var a;h.length;)a=h.shift(),a.__queue.go.call(a),a.__queue=null;this.flushing=!1}},ready:function(){var a=CustomElements.ready;CustomElements.ready=!1,this.flush(),CustomElements.useNative||CustomElements.upgradeDocumentTree(document),CustomElements.ready=a,Polymer.flush(),requestAnimationFrame(this.flushReadyCallbacks)},addReadyCallback:function(a){a&&k.push(a)},flushReadyCallbacks:function(){if(k)for(var a;k.length;)(a=k.shift())()},waitingFor:function(){for(var a,b=[],c=0,d=g.length;d>c&&(a=g[c]);c++)a.__queue&&!a.__queue.flushable&&b.push(a);return b},waitToReady:!0},g=[],h=[],i=[],j=[],k=[];a.elements=g,a.waitingFor=f.waitingFor.bind(f),a.forceReady=e,a.queue=f,a.whenReady=a.whenPolymerReady=d}(Polymer),function(a){function b(a){return Boolean(HTMLElement.getPrototypeForTag(a))}function c(a){return a&&a.indexOf("-")>=0}var d=a.extend,e=a.api,f=a.queue,g=a.whenReady,h=a.getRegisteredPrototype,i=a.waitingForPrototype,j=d(Object.create(HTMLElement.prototype),{createdCallback:function(){this.getAttribute("name")&&this.init()},init:function(){this.name=this.getAttribute("name"),this["extends"]=this.getAttribute("extends"),f.wait(this),this.loadResources(),this.registerWhenReady()},registerWhenReady:function(){this.registered||this.waitingForPrototype(this.name)||this.waitingForQueue()||this.waitingForResources()||f.go(this)},_register:function(){c(this["extends"])&&!b(this["extends"])&&console.warn("%s is attempting to extend %s, an unregistered element or one that was not registered with Polymer.",this.name,this["extends"]),this.register(this.name,this["extends"]),this.registered=!0},waitingForPrototype:function(a){return h(a)?void 0:(i(a,this),this.handleNoScript(a),!0)},handleNoScript:function(a){this.hasAttribute("noscript")&&!this.noscript&&(this.noscript=!0,Polymer(a))},waitingForResources:function(){return this._needsResources},waitingForQueue:function(){return f.enqueue(this,this.registerWhenReady,this._register)},loadResources:function(){this._needsResources=!0,this.loadStyles(function(){this._needsResources=!1,this.registerWhenReady()}.bind(this))}});e.publish(e.declaration,j),g(function(){document.body.removeAttribute("unresolved"),document.dispatchEvent(new CustomEvent("polymer-ready",{bubbles:!0}))}),document.registerElement("polymer-element",{prototype:j})}(Polymer),function(a){function b(a,b){a?(document.head.appendChild(a),d(b)):b&&b()}function c(a,c){if(a&&a.length){for(var d,e,f=document.createDocumentFragment(),g=0,h=a.length;h>g&&(d=a[g]);g++)e=document.createElement("link"),e.rel="import",e.href=d,f.appendChild(e);b(f,c)}else c&&c()}var d=a.whenReady;a["import"]=c,a.importElements=b}(Polymer),function(){var a=document.createElement("polymer-element");a.setAttribute("name","auto-binding"),a.setAttribute("extends","template"),a.init(),Polymer("auto-binding",{createdCallback:function(){this.syntax=this.bindingDelegate=this.makeSyntax(),Polymer.whenPolymerReady(function(){this.model=this,this.setAttribute("bind",""),this.async(function(){this.marshalNodeReferences(this.parentNode),this.fire("template-bound")})}.bind(this))},makeSyntax:function(){var a=Object.create(Polymer.api.declaration.events),b=this;a.findController=function(){return b.model};var c=new PolymerExpressions,d=c.prepareBinding;return c.prepareBinding=function(b,e,f){return a.prepareEventBinding(b,e,f)||d.call(c,b,e,f)},c}})}(),function(a){a.CoreResizable={resizableAttachedHandler:function(a){a=a||this._notifyResizeSelf,this.async(function(){var b={callback:a,hasParentResizer:!1};this.fire("core-request-resize",b),b.hasParentResizer||(this._boundWindowResizeHandler=a.bind(this),window.addEventListener("resize",this._boundWindowResizeHandler))}.bind(this))},resizableDetachedHandler:function(){this.fire("core-request-resize-cancel",null,this,!1),this._boundWindowResizeHandler&&window.removeEventListener("resize",this._boundWindowResizeHandler)},_notifyResizeSelf:function(){return this.fire("core-resize",null,this,!1).defaultPrevented}},a.CoreResizer=Polymer.mixin({resizerAttachedHandler:function(){this.resizableAttachedHandler(this.notifyResize),this._boundResizeRequested=this._boundResizeRequested||this._handleResizeRequested.bind(this);
var a;this.resizerIsPeer?(a=this.parentElement||this.parentNode&&this.parentNode.host,a._resizerPeers=a._resizerPeers||[],a._resizerPeers.push(this)):a=this,a.addEventListener("core-request-resize",this._boundResizeRequested),this._resizerListener=a},resizerDetachedHandler:function(){this.resizableDetachedHandler(),this._resizerListener.removeEventListener("core-request-resize",this._boundResizeRequested)},notifyResize:function(){if(!this._notifyResizeSelf()){var a=this.resizeRequestors;if(a)for(var b=0;b<a.length;b++){var c=a[b];(!this.resizerShouldNotify||this.resizerShouldNotify(c.target))&&c.callback.apply(c.target)}}},_handleResizeRequested:function(a){var b=a.path[0];b==this||b==this._resizerListener||this._resizerPeers&&this._resizerPeers.indexOf(b)<0||(this.resizeRequestors||(this.resizeRequestors=[]),this.resizeRequestors.push({target:b,callback:a.detail.callback}),b.addEventListener("core-request-resize-cancel",this._cancelResizeRequested.bind(this)),a.detail.hasParentResizer=!0,a.stopPropagation())},_cancelResizeRequested:function(a){if(this.resizeRequestors)for(var b=0;b<this.resizeRequestors.length;b++)if(this.resizeRequestors[b].target==a.target){this.resizeRequestors.splice(b,1);break}}},Polymer.CoreResizable)}(Polymer),Polymer.mixin2=function(a,b){if(b.mixinPublish&&(a.publish=a.publish||{},Polymer.mixin(a.publish,b.mixinPublish)),b.mixinDelegates){a.eventDelegates=a.eventDelegates||{};for(var c in b.mixinDelegates)a.eventDelegates[c]||(a.eventDelegates[c]=b.mixinDelegates[c])}if(b.mixinObserve){a.observe=a.observe||{};for(var d in b.mixinObserve)a.observe[d]||a[d+"Changed"]||(a.observe[d]=b.mixinObserve[d])}return Polymer.mixin(a,b),delete a.mixinPublish,delete a.mixinDelegates,delete a.mixinObserve,a},Polymer.CoreFocusable={mixinPublish:{active:{value:!1,reflect:!0},focused:{value:!1,reflect:!0},pressed:{value:!1,reflect:!0},disabled:{value:!1,reflect:!0},toggle:!1},mixinDelegates:{contextMenu:"_contextMenuAction",down:"_downAction",up:"_upAction",focus:"_focusAction",blur:"_blurAction"},mixinObserve:{disabled:"_disabledChanged"},_disabledChanged:function(){this.disabled?(this.style.pointerEvents="none",this.removeAttribute("tabindex"),this.setAttribute("aria-disabled","")):(this.style.pointerEvents="",this.setAttribute("tabindex",0),this.removeAttribute("aria-disabled"))},_downAction:function(){this.pressed=!0,this.toggle?this.active=!this.active:this.active=!0},_contextMenuAction:function(a){this._upAction(a),this._focusAction()},_upAction:function(){this.pressed=!1,this.toggle||(this.active=!1)},_focusAction:function(){this.pressed||(this.focused=!0)},_blurAction:function(){this.focused=!1}},!function(a,b){b["true"]=a;var c={},d={},e={},f=null;!function(a){function b(b,c){var d={delay:0,endDelay:0,fill:c?"both":"none",iterationStart:0,iterations:1,duration:c?"auto":0,playbackRate:1,direction:"normal",easing:"linear"};return"number"!=typeof b||isNaN(b)?void 0!==b&&Object.getOwnPropertyNames(b).forEach(function(c){if("auto"!=b[c]){if(("number"==typeof d[c]||"duration"==c)&&("number"!=typeof b[c]||isNaN(b[c])))return;if("fill"==c&&-1==p.indexOf(b[c]))return;if("direction"==c&&-1==q.indexOf(b[c]))return;if("playbackRate"==c&&1!==b[c]&&a.isDeprecated("AnimationTiming.playbackRate","2014-11-28","Use AnimationPlayer.playbackRate instead."))return;d[c]=b[c]}}):d.duration=b,d}function c(a,c){var d=b(a,c);return d.easing=f(d.easing),d}function d(a,b,c,d){return 0>a||a>1||0>c||c>1?y:function(e){function f(a,b,c){return 3*a*(1-c)*(1-c)*c+3*b*(1-c)*c*c+c*c*c}for(var g=0,h=1;;){var i=(g+h)/2,j=f(a,c,i);if(Math.abs(e-j)<.001)return f(b,d,i);e>j?g=i:h=i}}}function e(a,b){return function(c){if(c>=1)return 1;var d=1/a;return c+=b*d,c-c%d}}function f(a){var b=w.exec(a);if(b)return d.apply(this,b.slice(1).map(Number));var c=x.exec(a);if(c)return e(Number(c[1]),{start:r,middle:s,end:t}[c[2]]);var f=u[a];return f?f:y}function g(a){return Math.abs(h(a)/a.playbackRate)}function h(a){return a.duration*a.iterations}function i(a,b,c){return null==b?z:b<c.delay?A:b>=c.delay+a?B:C}function j(a,b,c,d,e){switch(d){case A:return"backwards"==b||"both"==b?0:null;case C:return c-e;case B:return"forwards"==b||"both"==b?a:null;case z:return null}}function k(a,b,c,d){return(d.playbackRate<0?b-a:b)*d.playbackRate+c}function l(a,b,c,d,e){return 1/0===c||c===-1/0||c-d==b&&e.iterations&&(e.iterations+e.iterationStart)%1==0?a:c%a}function m(a,b,c,d){return 0===c?0:b==a?d.iterationStart+d.iterations-1:Math.floor(c/a)}function n(a,b,c,d){var e=a%2>=1,f="normal"==d.direction||d.direction==(e?"alternate-reverse":"alternate"),g=f?c:b-c,h=g/b;return b*d.easing(h)}function o(a,b,c){var d=i(a,b,c),e=j(a,c.fill,b,d,c.delay);if(null===e)return null;if(0===a)return d===A?0:1;var f=c.iterationStart*c.duration,g=k(a,e,f,c),o=l(c.duration,h(c),g,f,c),p=m(c.duration,o,g,c);return n(p,c.duration,o,c)/c.duration}var p="backwards|forwards|both|none".split("|"),q="reverse|alternate|alternate-reverse".split("|"),r=1,s=.5,t=0,u={ease:d(.25,.1,.25,1),"ease-in":d(.42,0,1,1),"ease-out":d(0,0,.58,1),"ease-in-out":d(.42,0,.58,1),"step-start":e(1,r),"step-middle":e(1,s),"step-end":e(1,t)},v="\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*",w=new RegExp("cubic-bezier\\("+v+","+v+","+v+","+v+"\\)"),x=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/,y=function(a){return a},z=0,A=1,B=2,C=3;a.makeTiming=b,a.normalizeTimingInput=c,a.calculateActiveDuration=g,a.calculateTimeFraction=o,a.calculatePhase=i,a.toTimingFunction=f}(c,f),function(a){function b(a,b){return a in h?h[a][b]||b:b}function c(a,c,d){var g=e[a];if(g){f.style[a]=c;for(var h in g){var i=g[h],j=f.style[i];d[i]=b(i,j)}}else d[a]=b(a,c)}function d(b){function d(){var a=e.length;null==e[a-1].offset&&(e[a-1].offset=1),a>1&&null==e[0].offset&&(e[0].offset=0);for(var b=0,c=e[0].offset,d=1;a>d;d++){var f=e[d].offset;if(null!=f){for(var g=1;d-b>g;g++)e[b+g].offset=c+(f-c)*g/(d-b);b=d,c=f}}}if(!Array.isArray(b)&&null!==b)throw new TypeError("Keyframe effect must be null or an array of keyframes");if(null==b)return[];for(var e=b.map(function(b){var d={};for(var e in b){var f=b[e];if("offset"==e){if(null!=f&&(f=Number(f),!isFinite(f)))throw new TypeError("keyframe offsets must be numbers.")}else{if("composite"==e)throw{type:DOMException.NOT_SUPPORTED_ERR,name:"NotSupportedError",message:"add compositing is not supported"};f="easing"==e?a.toTimingFunction(f):""+f}c(e,f,d)}return void 0==d.offset&&(d.offset=null),void 0==d.easing&&(d.easing=a.toTimingFunction("linear")),d}),f=!0,g=-1/0,h=0;h<e.length;h++){var i=e[h].offset;if(null!=i){if(g>i)throw{code:DOMException.INVALID_MODIFICATION_ERR,name:"InvalidModificationError",message:"Keyframes are not loosely sorted by offset. Sort or specify offsets."};g=i}else f=!1}return e=e.filter(function(a){return a.offset>=0&&a.offset<=1}),f||d(),e}var e={background:["backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","backgroundAttachment","backgroundOrigin","backgroundClip","backgroundColor"],border:["borderTopColor","borderTopStyle","borderTopWidth","borderRightColor","borderRightStyle","borderRightWidth","borderBottomColor","borderBottomStyle","borderBottomWidth","borderLeftColor","borderLeftStyle","borderLeftWidth"],borderBottom:["borderBottomWidth","borderBottomStyle","borderBottomColor"],borderColor:["borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],borderLeft:["borderLeftWidth","borderLeftStyle","borderLeftColor"],borderRadius:["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],borderRight:["borderRightWidth","borderRightStyle","borderRightColor"],borderTop:["borderTopWidth","borderTopStyle","borderTopColor"],borderWidth:["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"],flex:["flexGrow","flexShrink","flexBasis"],font:["fontFamily","fontSize","fontStyle","fontVariant","fontWeight","lineHeight"],margin:["marginTop","marginRight","marginBottom","marginLeft"],outline:["outlineColor","outlineStyle","outlineWidth"],padding:["paddingTop","paddingRight","paddingBottom","paddingLeft"]},f=document.createElementNS("http://www.w3.org/1999/xhtml","div"),g={thin:"1px",medium:"3px",thick:"5px"},h={borderBottomWidth:g,borderLeftWidth:g,borderRightWidth:g,borderTopWidth:g,fontSize:{"xx-small":"60%","x-small":"75%",small:"89%",medium:"100%",large:"120%","x-large":"150%","xx-large":"200%"},fontWeight:{normal:"400",bold:"700"},outlineWidth:g,textShadow:{none:"0px 0px 0px transparent"},boxShadow:{none:"0px 0px 0px 0px transparent"}};a.normalizeKeyframes=d}(c,f),function(a){var b={};a.isDeprecated=function(a,c,d,e){var f=e?"are":"is",g=new Date,h=new Date(c);return h.setMonth(h.getMonth()+3),h>g?(a in b||console.warn("Web Animations: "+a+" "+f+" deprecated and will stop working on "+h.toDateString()+". "+d),b[a]=!0,!1):!0},a.deprecated=function(b,c,d,e){if(a.isDeprecated(b,c,d,e))throw new Error(b+" "+auxVerb+" no longer supported. "+d)}}(c),function(){if(document.documentElement.animate){var a=document.documentElement.animate([],0),b=!0;if(a&&(b=!1,"play|currentTime|pause|reverse|playbackRate|cancel|finish|startTime|playState".split("|").forEach(function(c){void 0===a[c]&&(b=!0)})),!b)return}!function(a,b){b.AnimationNode=function(b){var c=a.calculateActiveDuration(b),d=function(d){return a.calculateTimeFraction(c,d,b)};return d._totalDuration=b.delay+c+b.endDelay,d._isCurrent=function(d){var e=a.calculatePhase(c,d,b);return e===PhaseActive||e===PhaseBefore},d}}(c,d),function(a,b){function c(a){for(var b={},c=0;c<a.length;c++)for(var d in a[c])if("offset"!=d&&"easing"!=d&&"composite"!=d){var e={offset:a[c].offset,easing:a[c].easing,value:a[c][d]};b[d]=b[d]||[],b[d].push(e)}for(var f in b){var g=b[f];if(0!=g[0].offset||1!=g[g.length-1].offset)throw{type:DOMException.NOT_SUPPORTED_ERR,name:"NotSupportedError",message:"Partial keyframes are not supported"}}return b}function d(a){var c=[];for(var d in a)for(var e=a[d],f=0;f<e.length-1;f++){var g=e[f].offset,h=e[f+1].offset,i=e[f].value,j=e[f+1].value;g==h&&(1==h?i=j:j=i),c.push({startTime:g,endTime:h,easing:e[f].easing,property:d,interpolation:b.propertyInterpolation(d,i,j)})}return c.sort(function(a,b){return a.startTime-b.startTime}),c}b.convertEffectInput=function(e){var f=a.normalizeKeyframes(e),g=c(f),h=d(g);return function(a,c){if(null!=c)h.filter(function(a){return 0>=c&&0==a.startTime||c>=1&&1==a.endTime||c>=a.startTime&&c<=a.endTime}).forEach(function(d){var e=c-d.startTime,f=d.endTime-d.startTime,g=0==f?0:d.easing(e/f);b.apply(a,d.property,d.interpolation(g))});else for(var d in g)"offset"!=d&&"easing"!=d&&"composite"!=d&&b.clear(a,d)}}}(c,d,f),function(a){function b(a,b,c){e[c]=e[c]||[],e[c].push([a,b])}function c(a,c,d){for(var e=0;e<d.length;e++){var f=d[e];b(a,c,f),/-/.test(f)&&b(a,c,f.replace(/-(.)/g,function(a,b){return b.toUpperCase()}))}}function d(b,c,d){for(var f=c==d?[]:e[b],g=0;f&&g<f.length;g++){var h=f[g][0](c),i=f[g][0](d);if(void 0!==h&&void 0!==i){var j=f[g][1](h,i);if(j){var k=a.Interpolation.apply(null,j);return function(a){return 0==a?c:1==a?d:k(a)}}}}return a.Interpolation(!1,!0,function(a){return a?d:c})}var e={};a.addPropertiesHandler=c,a.propertyInterpolation=d}(d,f),function(a,b){b.Animation=function(c,d,e){var f,g=b.AnimationNode(a.normalizeTimingInput(e)),h=b.convertEffectInput(d),i=function(){h(c,f)};return i._update=function(a){return f=g(a),null!==f},i._clear=function(){h(c,null)},i._hasSameTarget=function(a){return c===a},i._isCurrent=g._isCurrent,i._totalDuration=g._totalDuration,i},b.NullAnimation=function(a){var b=function(){a&&(a(),a=null)};return b._update=function(){return null},b._totalDuration=0,b._isCurrent=function(){return!1},b._hasSameTarget=function(){return!1},b}}(c,d,f),function(a){a.apply=function(b,c,d){b.style[a.propertyName(c)]=d},a.clear=function(b,c){b.style[a.propertyName(c)]=""}}(d,f),function(a){window.Element.prototype.animate=function(b,c){return a.timeline._play(a.Animation(this,b,c))}}(d),function(a){function b(a,c,d){if("number"==typeof a&&"number"==typeof c)return a*(1-d)+c*d;if("boolean"==typeof a&&"boolean"==typeof c)return.5>d?a:c;if(a.length==c.length){for(var e=[],f=0;f<a.length;f++)e.push(b(a[f],c[f],d));return e}throw"Mismatched interpolation arguments "+a+":"+c}a.Interpolation=function(a,c,d){return function(e){return d(b(a,c,e))}}}(d,f),function(a){var b=0,c=function(a,b,c){this.target=a,this.currentTime=b,this.timelineTime=c,this.type="finish",this.bubbles=!1,this.cancelable=!1,this.currentTarget=a,this.defaultPrevented=!1,this.eventPhase=Event.AT_TARGET,this.timeStamp=Date.now()};a.Player=function(a){this._sequenceNumber=b++,this._currentTime=0,this._startTime=null,this.paused=!1,this._playbackRate=1,this._inTimeline=!0,this._finishedFlag=!1,this.onfinish=null,this._finishHandlers=[],this._source=a,this._inEffect=this._source._update(0),this._idle=!0,this._currentTimePending=!1},a.Player.prototype={_ensureAlive:function(){this._inEffect=this._source._update(this.currentTime),this._inTimeline||!this._inEffect&&this._finishedFlag||(this._inTimeline=!0,a.timeline._players.push(this))},_tickCurrentTime:function(a,b){a!=this._currentTime&&(this._currentTime=a,this.finished&&!b&&(this._currentTime=this._playbackRate>0?this._totalDuration:0),this._ensureAlive())},get currentTime(){return this._idle||this._currentTimePending?null:this._currentTime},set currentTime(b){b=+b,isNaN(b)||(a.restart(),this.paused||null==this._startTime||(this._startTime=this._timeline.currentTime-b/this._playbackRate),this._currentTimePending=!1,this._currentTime!=b&&(this._tickCurrentTime(b,!0),a.invalidateEffects()))},get startTime(){return this._startTime},set startTime(b){b=+b,isNaN(b)||this.paused||this._idle||(this._startTime=b,this._tickCurrentTime((this._timeline.currentTime-this._startTime)*this.playbackRate),a.invalidateEffects())},get playbackRate(){return this._playbackRate},set playbackRate(a){var b=this.currentTime;this._playbackRate=a,null!=b&&(this.currentTime=b)},get finished(){return!this._idle&&(this._playbackRate>0&&this._currentTime>=this._totalDuration||this._playbackRate<0&&this._currentTime<=0)},get _totalDuration(){return this._source._totalDuration},get playState(){return this._idle?"idle":null==this._startTime&&!this.paused&&0!=this.playbackRate||this._currentTimePending?"pending":this.paused?"paused":this.finished?"finished":"running"},play:function(){this.paused=!1,(this.finished||this._idle)&&(this._currentTime=this._playbackRate>0?0:this._totalDuration,this._startTime=null,a.invalidateEffects()),this._finishedFlag=!1,a.restart(),this._idle=!1,this._ensureAlive()},pause:function(){this.finished||this.paused||this._idle||(this._currentTimePending=!0),this._startTime=null,this.paused=!0},finish:function(){this._idle||(this.currentTime=this._playbackRate>0?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this._currentTimePending=!1)},cancel:function(){this._inEffect=!1,this._idle=!0,this.currentTime=0,this._startTime=null},reverse:function(){this._playbackRate*=-1,this._startTime=null,this.play()},addEventListener:function(a,b){"function"==typeof b&&"finish"==a&&this._finishHandlers.push(b)},removeEventListener:function(a,b){if("finish"==a){var c=this._finishHandlers.indexOf(b);c>=0&&this._finishHandlers.splice(c,1)}},_fireEvents:function(a){var b=this.finished;if((b||this._idle)&&!this._finishedFlag){var d=new c(this,this._currentTime,a),e=this._finishHandlers.concat(this.onfinish?[this.onfinish]:[]);setTimeout(function(){e.forEach(function(a){a.call(d.target,d)})},0)}this._finishedFlag=b},_tick:function(a){return this._idle||this.paused||(null==this._startTime?this.startTime=a-this._currentTime/this.playbackRate:this.finished||this._tickCurrentTime((a-this._startTime)*this.playbackRate)),this._currentTimePending=!1,this._fireEvents(a),!this._idle&&(this._inEffect||!this._finishedFlag)}}}(d,f),function(a,b){function c(a){var b=i;i=[],g(a),b.forEach(function(b){b[1](a)}),m&&g(a),f()}function d(a,b){return a._sequenceNumber-b._sequenceNumber}function e(){this._players=[],this.currentTime=window.performance&&performance.now?performance.now():0}function f(){n.forEach(function(a){a()}),n.length=0}function g(a){l=!1;var c=b.timeline;c.currentTime=a,c._players.sort(d),k=!1;var e=c._players;c._players=[];var f=[],g=[];e=e.filter(function(b){return b._inTimeline=b._tick(a),b._inEffect?g.push(b._source):f.push(b._source),b.finished||b.paused||b._idle||(k=!0),b._inTimeline}),n.push.apply(n,f),n.push.apply(n,g),c._players.push.apply(c._players,e),m=!1,k&&requestAnimationFrame(function(){})}var h=window.requestAnimationFrame,i=[],j=0;window.requestAnimationFrame=function(a){var b=j++;return 0==i.length&&h(c),i.push([b,a]),b},window.cancelAnimationFrame=function(a){i.forEach(function(b){b[0]==a&&(b[1]=function(){})})},e.prototype={_play:function(c){c._timing=a.normalizeTimingInput(c.timing);var d=new b.Player(c);return d._idle=!1,d._timeline=this,this._players.push(d),b.restart(),b.invalidateEffects(),d}};var k=!1,l=!1;b.restart=function(){return k||(k=!0,requestAnimationFrame(function(){}),l=!0),l};var m=!1;b.invalidateEffects=function(){m=!0};var n=[],o=window.getComputedStyle;Object.defineProperty(window,"getComputedStyle",{configurable:!0,enumerable:!0,value:function(){return m&&g(p.currentTime),f(),o.apply(this,arguments)}});var p=new e;b.timeline=p}(c,d,f),function(a){function b(a,b){var c=a.exec(b);return c?(c=a.ignoreCase?c[0].toLowerCase():c[0],[c,b.substr(c.length)]):void 0}function c(a,b){b=b.replace(/^\s*/,"");var c=a(b);return c?[c[0],c[1].replace(/^\s*/,"")]:void 0}function d(a,d,e){a=c.bind(null,a);for(var f=[];;){var g=a(e);if(!g)return[f,e];if(f.push(g[0]),e=g[1],g=b(d,e),!g||""==g[1])return[f,e];e=g[1]}}function e(a,b){for(var c=0,d=0;d<b.length&&(!/\s|,/.test(b[d])||0!=c);d++)if("("==b[d])c++;else if(")"==b[d]&&(c--,0==c&&d++,0>=c))break;var e=a(b.substr(0,d));return void 0==e?void 0:[e,b.substr(d)]}function f(a,b){for(var c=a,d=b;c&&d;)c>d?c%=d:d%=c;return c=a*b/(c+d)}function g(a){return function(b){var c=a(b);return c&&(c[0]=void 0),c}}function h(a,b){return function(c){var d=a(c);return d?d:[b,c]}}function i(b,c){for(var d=[],e=0;e<b.length;e++){var f=a.consumeTrimmed(b[e],c);if(!f||""==f[0])return;void 0!==f[0]&&d.push(f[0]),c=f[1]}return""==c?d:void 0}function j(a,b,c,d,e){for(var g=[],h=[],i=[],j=f(d.length,e.length),k=0;j>k;k++){var l=b(d[k%d.length],e[k%e.length]);if(!l)return;g.push(l[0]),h.push(l[1]),i.push(l[2])}return[g,h,function(b){var d=b.map(function(a,b){return i[b](a)}).join(c);return a?a(d):d}]}function k(a,b,c){for(var d=[],e=[],f=[],g=0,h=0;h<c.length;h++)if("function"==typeof c[h]){var i=c[h](a[g],b[g++]);d.push(i[0]),e.push(i[1]),f.push(i[2])}else!function(a){d.push(!1),e.push(!1),f.push(function(){return c[a]})}(h);return[d,e,function(a){for(var b="",c=0;c<a.length;c++)b+=f[c](a[c]);return b}]}a.consumeToken=b,a.consumeTrimmed=c,a.consumeRepeated=d,a.consumeParenthesised=e,a.ignore=g,a.optional=h,a.consumeList=i,a.mergeNestedRepeated=j.bind(null,null),a.mergeWrappedNestedRepeated=j,a.mergeList=k}(d),function(a){function b(b){function c(b){var c=a.consumeToken(/^inset/i,b);if(c)return d.inset=!0,c;var c=a.consumeLengthOrPercent(b);if(c)return d.lengths.push(c[0]),c;var c=a.consumeColor(b);return c?(d.color=c[0],c):void 0}var d={inset:!1,lengths:[],color:null},e=a.consumeRepeated(c,/^/,b);return e&&e[0].length?[d,e[1]]:void 0}function c(c){var d=a.consumeRepeated(b,/^,/,c);return d&&""==d[1]?d[0]:void 0}function d(b,c){for(;b.lengths.length<Math.max(b.lengths.length,c.lengths.length);)b.lengths.push({px:0});for(;c.lengths.length<Math.max(b.lengths.length,c.lengths.length);)c.lengths.push({px:0});if(b.inset==c.inset&&!!b.color==!!c.color){for(var d,e=[],f=[[],0],g=[[],0],h=0;h<b.lengths.length;h++){var i=a.mergeDimensions(b.lengths[h],c.lengths[h],2==h);f[0].push(i[0]),g[0].push(i[1]),e.push(i[2])}if(b.color&&c.color){var j=a.mergeColors(b.color,c.color);f[1]=j[0],g[1]=j[1],d=j[2]}return[f,g,function(a){for(var c=b.inset?"inset ":" ",f=0;f<e.length;f++)c+=e[f](a[0][f])+" ";return d&&(c+=d(a[1])),c}]}}function e(b,c,d,e){function f(a){return{inset:a,color:[0,0,0,0],lengths:[{px:0},{px:0},{px:0},{px:0}]}}for(var g=[],h=[],i=0;i<d.length||i<e.length;i++){var j=d[i]||f(e[i].inset),k=e[i]||f(d[i].inset);g.push(j),h.push(k)}return a.mergeNestedRepeated(b,c,g,h)}var f=e.bind(null,d,", ");a.addPropertiesHandler(c,f,["box-shadow","text-shadow"])}(d),function(a){function b(a){return a.toFixed(3).replace(".000","")}function c(a,b,c){return Math.min(b,Math.max(a,c))}function d(a){return/^\s*[-+]?(\d*\.)?\d+\s*$/.test(a)?Number(a):void 0}function e(a,c){return[a,c,b]}function f(a,b){return 0!=a?h(0,1/0)(a,b):void 0}function g(a,b){return[a,b,function(a){return Math.round(c(1,1/0,a))}]}function h(a,d){return function(e,f){return[e,f,function(e){return b(c(a,d,e))}]}}function i(a,b){return[a,b,Math.round]}a.clamp=c,a.addPropertiesHandler(d,h(0,1/0),["border-image-width","line-height"]),a.addPropertiesHandler(d,h(0,1),["opacity","shape-image-threshold"]),a.addPropertiesHandler(d,f,["flex-grow","flex-shrink"]),a.addPropertiesHandler(d,g,["orphans","widows"]),a.addPropertiesHandler(d,i,["z-index"]),a.parseNumber=d,a.mergeNumbers=e,a.numberToString=b}(d,f),function(a){function b(a,b){return"visible"==a||"visible"==b?[0,1,function(c){return 0>=c?a:c>=1?b:"visible"}]:void 0}a.addPropertiesHandler(String,b,["visibility"])}(d),function(a){function b(a){a=a.trim(),e.fillStyle="#000",e.fillStyle=a;var b=e.fillStyle;if(e.fillStyle="#fff",e.fillStyle=a,b==e.fillStyle){e.fillRect(0,0,1,1);var c=e.getImageData(0,0,1,1).data;e.clearRect(0,0,1,1);var d=c[3]/255;return[c[0]*d,c[1]*d,c[2]*d,d]}}function c(b,c){return[b,c,function(b){function c(a){return Math.max(0,Math.min(255,a))}if(b[3])for(var d=0;3>d;d++)b[d]=Math.round(c(b[d]/b[3]));return b[3]=a.numberToString(a.clamp(0,1,b[3])),"rgba("+b.join(",")+")"}]}var d=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");d.width=d.height=1;var e=d.getContext("2d");a.addPropertiesHandler(b,c,["background-color","border-bottom-color","border-left-color","border-right-color","border-top-color","color","outline-color","text-decoration-color"]),a.consumeColor=a.consumeParenthesised.bind(null,b),a.mergeColors=c}(d,f),function(a,b){function c(a,b){if(b=b.trim().toLowerCase(),"0"==b&&"px".search(a)>=0)return{px:0};if(/^[^(]*$|^calc/.test(b)){b=b.replace(/calc\(/g,"(");var c={};b=b.replace(a,function(a){return c[a]=null,"U"+a});for(var d="U("+a.source+")",e=b.replace(/[-+]?(\d*\.)?\d+/g,"N").replace(new RegExp("N"+d,"g"),"D").replace(/\s[+-]\s/g,"O").replace(/\s/g,""),f=[/N\*(D)/g,/(N|D)[*\/]N/g,/(N|D)O\1/g,/\((N|D)\)/g],g=0;g<f.length;)f[g].test(e)?(e=e.replace(f[g],"$1"),g=0):g++;if("D"==e){for(var h in c){var i=eval(b.replace(new RegExp("U"+h,"g"),"").replace(new RegExp(d,"g"),"*0"));if(!isFinite(i))return;c[h]=i}return c}}}function d(a,b){return e(a,b,!0)}function e(b,c,d){var e,f=[];for(e in b)f.push(e);for(e in c)f.indexOf(e)<0&&f.push(e);return b=f.map(function(a){return b[a]||0}),c=f.map(function(a){return c[a]||0}),[b,c,function(b){var c=b.map(function(c,e){return 1==b.length&&d&&(c=Math.max(c,0)),a.numberToString(c)+f[e]}).join(" + ");return b.length>1?"calc("+c+")":c}]}var f="px|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc",g=c.bind(null,new RegExp(f,"g")),h=c.bind(null,new RegExp(f+"|%","g")),i=c.bind(null,/deg|rad|grad|turn/g);a.parseLength=g,a.parseLengthOrPercent=h,a.consumeLengthOrPercent=a.consumeParenthesised.bind(null,h),a.parseAngle=i,a.mergeDimensions=e;var j=a.consumeParenthesised.bind(null,g),k=a.consumeRepeated.bind(void 0,j,/^/),l=a.consumeRepeated.bind(void 0,k,/^,/);a.consumeSizePairList=l;var m=function(a){var b=l(a);return b&&""==b[1]?b[0]:void 0},n=a.mergeNestedRepeated.bind(void 0,d," "),o=a.mergeNestedRepeated.bind(void 0,n,",");a.mergeNonNegativeSizePair=n,a.addPropertiesHandler(m,o,["background-size"]),a.addPropertiesHandler(h,d,["border-bottom-width","border-image-width","border-left-width","border-right-width","border-top-width","flex-basis","font-size","height","line-height","max-height","max-width","outline-width","width"]),a.addPropertiesHandler(h,e,["border-bottom-left-radius","border-bottom-right-radius","border-top-left-radius","border-top-right-radius","bottom","left","letter-spacing","margin-bottom","margin-left","margin-right","margin-top","min-height","min-width","outline-offset","padding-bottom","padding-left","padding-right","padding-top","perspective","right","shape-margin","text-indent","top","vertical-align","word-spacing"])}(d,f),function(a){function b(b){return a.consumeLengthOrPercent(b)||a.consumeToken(/^auto/,b)}function c(c){var d=a.consumeList([a.ignore(a.consumeToken.bind(null,/^rect/)),a.ignore(a.consumeToken.bind(null,/^\(/)),a.consumeRepeated.bind(null,b,/^,/),a.ignore(a.consumeToken.bind(null,/^\)/))],c);return d&&4==d[0].length?d[0]:void 0}function d(b,c){return"auto"==b||"auto"==c?[!0,!1,function(d){var e=d?b:c;if("auto"==e)return"auto";var f=a.mergeDimensions(e,e);return f[2](f[0])}]:a.mergeDimensions(b,c)}function e(a){return"rect("+a+")"}var f=a.mergeWrappedNestedRepeated.bind(null,e,d,", ");a.parseBox=c,a.mergeBoxes=f,a.addPropertiesHandler(c,f,["clip"])}(d,f),function(a){function b(a){return function(b){var c=0;return a.map(function(a){return a===j?b[c++]:a})}}function c(a){return a}function d(b){if(b=b.toLowerCase().trim(),"none"==b)return[];for(var c,d=/\s*(\w+)\(([^)]*)\)/g,e=[],f=0;c=d.exec(b);){if(c.index!=f)return;f=c.index+c[0].length;var g=c[1],h=m[g];if(!h)return;var i=c[2].split(","),j=h[0];if(j.length<i.length)return;for(var n=[],o=0;o<j.length;o++){var p,q=i[o],r=j[o];if(p=q?{A:function(b){return"0"==b.trim()?l:a.parseAngle(b)},N:a.parseNumber,T:a.parseLengthOrPercent,L:a.parseLength}[r.toUpperCase()](q):{a:l,n:n[0],t:k}[r],void 0===p)return;n.push(p)}if(e.push({t:g,d:n}),d.lastIndex==b.length)return e}}function e(a){return a.toFixed(6).replace(".000000","")}function f(b,c){if(b.decompositionPair!==c){b.decompositionPair=c;var d=a.makeMatrixDecomposition(b)}if(c.decompositionPair!==b){c.decompositionPair=b;var f=a.makeMatrixDecomposition(c)}return null==d[0]||null==f[0]?[[!1],[!0],function(a){return a?c[0].d:b[0].d}]:(d[0].push(0),f[0].push(1),[d,f,function(b){var c=a.quat(d[0][3],f[0][3],b[5]),g=a.composeMatrix(b[0],b[1],b[2],c,b[4]),h=g.map(e).join(",");return h}])}function g(a){return a.replace(/[xy]/,"")}function h(a){return a.replace(/(x|y|z|3d)?$/,"3d")}function i(b,c){var d=a.makeMatrixDecomposition&&!0,e=!1;if(!b.length||!c.length){b.length||(e=!0,b=c,c=[]);for(var i=0;i<b.length;i++){var j=b[i].t,k=b[i].d,l="scale"==j.substr(0,5)?1:0;c.push({t:j,d:k.map(function(a){if("number"==typeof a)return l;var b={};for(var c in a)b[c]=l;return b})})}}var n=function(a,b){return"perspective"==a&&"perspective"==b||("matrix"==a||"matrix3d"==a)&&("matrix"==b||"matrix3d"==b)},o=[],p=[],q=[];if(b.length!=c.length){if(!d)return;var r=f(b,c);o=[r[0]],p=[r[1]],q=[["matrix",[r[2]]]]}else for(var i=0;i<b.length;i++){var j,s=b[i].t,t=c[i].t,u=b[i].d,v=c[i].d,w=m[s],x=m[t];if(n(s,t)){if(!d)return;var r=f([b[i]],[c[i]]);o.push(r[0]),p.push(r[1]),q.push(["matrix",[r[2]]])}else{if(s==t)j=s;else if(w[2]&&x[2]&&g(s)==g(t))j=g(s),u=w[2](u),v=x[2](v);else{if(!w[1]||!x[1]||h(s)!=h(t)){if(!d)return;var r=f(b,c);o=[r[0]],p=[r[1]],q=[["matrix",[r[2]]]];break}j=h(s),u=w[1](u),v=x[1](v)}for(var y=[],z=[],A=[],B=0;B<u.length;B++){var C="number"==typeof u[B]?a.mergeNumbers:a.mergeDimensions,r=C(u[B],v[B]);y[B]=r[0],z[B]=r[1],A.push(r[2])}o.push(y),p.push(z),q.push([j,A])}}if(e){var D=o;o=p,p=D}return[o,p,function(a){return a.map(function(a,b){var c=a.map(function(a,c){return q[b][1][c](a)}).join(",");return"matrix"==q[b][0]&&16==c.split(",").length&&(q[b][0]="matrix3d"),q[b][0]+"("+c+")"}).join(" ")}]}var j=null,k={px:0},l={deg:0},m={matrix:["NNNNNN",[j,j,0,0,j,j,0,0,0,0,1,0,j,j,0,1],c],matrix3d:["NNNNNNNNNNNNNNNN",c],rotate:["A"],rotatex:["A"],rotatey:["A"],rotatez:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",b([j,j,1]),c],scalex:["N",b([j,1,1]),b([j,1])],scaley:["N",b([1,j,1]),b([1,j])],scalez:["N",b([1,1,j])],scale3d:["NNN",c],skew:["Aa",null,c],skewx:["A",null,b([j,l])],skewy:["A",null,b([l,j])],translate:["Tt",b([j,j,k]),c],translatex:["T",b([j,k,k]),b([j,k])],translatey:["T",b([k,j,k]),b([k,j])],translatez:["L",b([k,k,j])],translate3d:["TTL",c]};a.addPropertiesHandler(d,i,["transform"])}(d,f),function(a){function b(a,b){b.concat([a]).forEach(function(b){b in document.documentElement.style&&(c[a]=b)})}var c={};b("transform",["webkitTransform","msTransform"]),b("transformOrigin",["webkitTransformOrigin"]),b("perspective",["webkitPerspective"]),b("perspectiveOrigin",["webkitPerspectiveOrigin"]),a.propertyName=function(a){return c[a]||a}}(d,f)}(),!function(a,b){function c(a){var b=window.document.timeline;b.currentTime=a,b._discardPlayers(),0==b._players.length?d=!1:requestAnimationFrame(c)}b.AnimationTimeline=function(){this._players=[],this.currentTime=void 0},b.AnimationTimeline.prototype={getAnimationPlayers:function(){return this._discardPlayers(),this._players.slice()},_discardPlayers:function(){this._players=this._players.filter(function(a){return"finished"!=a.playState&&"idle"!=a.playState})},play:function(a){var c=new b.Player(a);return this._players.push(c),b.restartWebAnimationsNextTick(),c._player.play(),c}};var d=!1;b.restartWebAnimationsNextTick=function(){d||(d=!0,requestAnimationFrame(c))};var e=new b.AnimationTimeline;b.timeline=e;try{Object.defineProperty(window.document,"timeline",{configurable:!0,get:function(){return e}})}catch(f){}try{window.document.timeline=e}catch(f){}}(c,e,f),function(a,b){b.Player=function(a){this.source=a,a&&(a.player=this),this._isGroup=!1,this._player=null,this._childPlayers=[],this._callback=null,this._rebuildUnderlyingPlayer(),this._player.cancel()},b.Player.prototype={_rebuildUnderlyingPlayer:function(){this._player&&(this._player.cancel(),this._player=null),(!this.source||this.source instanceof window.Animation)&&(this._player=b.newUnderlyingPlayerForAnimation(this.source),b.bindPlayerForAnimation(this)),(this.source instanceof window.AnimationSequence||this.source instanceof window.AnimationGroup)&&(this._player=b.newUnderlyingPlayerForGroup(this.source),b.bindPlayerForGroup(this))},_updateChildren:function(){if(this.source&&"idle"!=this.playState){var a=this.source._timing.delay;this._childPlayers.forEach(function(c){this._arrangeChildren(c,a),this.source instanceof window.AnimationSequence&&(a+=b.groupChildDuration(c.source))}.bind(this))}},_setExternalPlayer:function(a){if(this.source&&this._isGroup)for(var b=0;b<this.source.children.length;b++)this.source.children[b].player=a,this._childPlayers[b]._setExternalPlayer(a)},_constructChildren:function(){if(this.source&&this._isGroup){var a=this.source._timing.delay;this.source.children.forEach(function(c){var d=window.document.timeline.play(c);this._childPlayers.push(d),d.playbackRate=this.playbackRate,this.paused&&d.pause(),c.player=this.source.player,this._arrangeChildren(d,a),this.source instanceof window.AnimationSequence&&(a+=b.groupChildDuration(c))}.bind(this))}},_arrangeChildren:function(a,b){null===this.startTime?(a.currentTime=this.source.player.currentTime-b,a._startTime=null):a.startTime!==this.startTime+b&&(a.startTime=this.startTime+b)},get paused(){return this._player.paused},get playState(){return this._player.playState},get onfinish(){return this._onfinish},set onfinish(a){"function"==typeof a?(this._onfinish=a,this._player.onfinish=function(b){b.target=this,a.call(this,b)}.bind(this)):(this._player.onfinish=a,this.onfinish=this._player.onfinish)},get currentTime(){return this._player.currentTime},set currentTime(a){this._player.currentTime=a,this._register(),this._forEachChild(function(b,c){b.currentTime=a-c})},get startTime(){return this._player.startTime},set startTime(a){this._player.startTime=a,this._register(),this._forEachChild(function(b,c){b.startTime=a+c})},get playbackRate(){
return this._player.playbackRate},set playbackRate(a){this._player.playbackRate=a,this._forEachChild(function(b){b.playbackRate=a})},get finished(){return this._player.finished},play:function(){this._player.play(),this._register(),b.awaitStartTime(this),this._forEachChild(function(a){var b=a.currentTime;a.play(),a.currentTime=b})},pause:function(){this._player.pause(),this._register(),this._forEachChild(function(a){a.pause()})},finish:function(){this._player.finish(),this._register()},cancel:function(){this._player.cancel(),this._register(),this._removePlayers()},reverse:function(){this._player.reverse(),b.awaitStartTime(this),this._register(),this._forEachChild(function(a,b){a.reverse(),a.startTime=this.startTime+b*this.playbackRate,a.currentTime=this.currentTime+b*this.playbackRate})},addEventListener:function(a,b){var c=b;"function"==typeof b&&(c=function(a){a.target=this,b.call(this,a)}.bind(this),b._wrapper=c),this._player.addEventListener(a,c)},removeEventListener:function(a,b){this._player.removeEventListener(a,b&&b._wrapper||b)},_removePlayers:function(){for(;this._childPlayers.length;)this._childPlayers.pop().cancel()},_forEachChild:function(b){var c=0;if(this.source.children&&this._childPlayers.length<this.source.children.length&&this._constructChildren(),this._childPlayers.forEach(function(a){b.call(this,a,c),this.source instanceof window.AnimationSequence&&(c+=a.source.activeDuration)}.bind(this)),"pending"!=this._player.playState){var d=this.source._timing,e=this._player.currentTime;null!==e&&(e=a.calculateTimeFraction(a.calculateActiveDuration(d),e,d)),(null==e||isNaN(e))&&this._removePlayers()}}}}(c,e,f),function(a,b){function c(b){this._frames=a.normalizeKeyframes(b)}function d(){for(var a=!1;g.length;)g.shift()._updateChildren(),a=!0;return a}c.prototype={getFrames:function(){return this._frames}},b.Animation=function(b,d,e){return this.target=b,this._timingInput=e,this._timing=a.normalizeTimingInput(e),this.timing=a.makeTiming(e),this.effect="function"==typeof d?d:new c(d),this._effect=d,this.activeDuration=a.calculateActiveDuration(this._timing),this};var e=Element.prototype.animate;Element.prototype.animate=function(a,c){return b.timeline.play(new b.Animation(this,a,c))};var f=document.createElementNS("http://www.w3.org/1999/xhtml","div");b.newUnderlyingPlayerForAnimation=function(a){var b=a.target||f,c=a._effect;return"function"==typeof c&&(c=[]),e.apply(b,[c,a._timingInput])},b.bindPlayerForAnimation=function(a){a.source&&"function"==typeof a.source.effect&&b.bindPlayerForCustomEffect(a)};var g=[];b.awaitStartTime=function(a){null===a.startTime&&a._isGroup&&(0==g.length&&requestAnimationFrame(d),g.push(a))};var h=window.getComputedStyle;Object.defineProperty(window,"getComputedStyle",{configurable:!0,enumerable:!0,value:function(){var a=h.apply(this,arguments);return d()&&(a=h.apply(this,arguments)),a}}),window.Animation=b.Animation,window.Element.prototype.getAnimationPlayers=function(){return document.timeline.getAnimationPlayers().filter(function(a){return null!==a.source&&a.source.target==this}.bind(this))}}(c,e,f),function(a,b){function c(a){a._registered||(a._registered=!0,f.push(a),g||(g=!0,requestAnimationFrame(d)))}function d(){var a=f;f=[],a.sort(function(a,b){return a._sequenceNumber-b._sequenceNumber}),a=a.filter(function(a){a();var b=a._player?a._player.playState:"idle";return"running"!=b&&"pending"!=b&&(a._registered=!1),a._registered}),f.push.apply(f,a),f.length?(g=!0,requestAnimationFrame(d)):g=!1}var e=(document.createElementNS("http://www.w3.org/1999/xhtml","div"),0);b.bindPlayerForCustomEffect=function(b){var d=b.source.target,f=b.source.effect,g=b.source.timing,h=void 0;g=a.normalizeTimingInput(g);var i=function(){var c=i._player?i._player.currentTime:null;null!==c&&(c=a.calculateTimeFraction(a.calculateActiveDuration(g),c,g),isNaN(c)&&(c=null)),c!==h&&f(c,d,b.source),h=c};i._player=b,i._registered=!1,i._sequenceNumber=e++,b._callback=i,c(i)};var f=[],g=!1;b.Player.prototype._register=function(){this._callback&&c(this._callback)}}(c,e,f),function(a,b){function c(a){return a._timing.delay+a.activeDuration+a._timing.endDelay}function d(b,c){this.children=b||[],this._timing=a.normalizeTimingInput(c,!0),this.timing=a.makeTiming(c,!0),"auto"===this._timing.duration&&(this._timing.duration=this.activeDuration)}window.AnimationSequence=function(){d.apply(this,arguments)},window.AnimationGroup=function(){d.apply(this,arguments)},window.AnimationSequence.prototype={get activeDuration(){var a=0;return this.children.forEach(function(b){a+=c(b)}),Math.max(a,0)}},window.AnimationGroup.prototype={get activeDuration(){var a=0;return this.children.forEach(function(b){a=Math.max(a,c(b))}),a}},b.newUnderlyingPlayerForGroup=function(a){var c,d=function(a){var b=c._wrapper;return"pending"!=b.playState&&b.source&&null==a?void b._removePlayers():void 0};return c=b.timeline.play(new b.Animation(null,d,a._timing))},b.bindPlayerForGroup=function(a){a._player._wrapper=a,a._isGroup=!0,b.awaitStartTime(a),a._constructChildren(),a._setExternalPlayer(a)},b.groupChildDuration=c}(c,e,f)}({},function(){return this}()),Polymer("core-selection",{multi:!1,ready:function(){this.clear()},clear:function(){this.selection=[]},getSelection:function(){return this.multi?this.selection:this.selection[0]},isSelected:function(a){return this.selection.indexOf(a)>=0},setItemSelected:function(a,b){if(void 0!==a&&null!==a){if(b)this.selection.push(a);else{var c=this.selection.indexOf(a);c>=0&&this.selection.splice(c,1)}this.fire("core-select",{isSelected:b,item:a})}},select:function(a){this.multi?this.toggle(a):this.getSelection()!==a&&(this.setItemSelected(this.getSelection(),!1),this.setItemSelected(a,!0))},toggle:function(a){this.setItemSelected(a,!this.isSelected(a))}}),Polymer("core-selector",{selected:null,multi:!1,valueattr:"name",selectedClass:"core-selected",selectedProperty:"",selectedAttribute:"active",selectedItem:null,selectedModel:null,selectedIndex:-1,excludedLocalNames:"",target:null,itemsSelector:"",activateEvent:"tap",notap:!1,defaultExcludedLocalNames:"template",observe:{"selected multi":"selectedChanged"},ready:function(){this.activateListener=this.activateHandler.bind(this),this.itemFilter=this.filterItem.bind(this),this.excludedLocalNamesChanged(),this.observer=new MutationObserver(this.updateSelected.bind(this)),this.target||(this.target=this)},get items(){if(!this.target)return[];var a=this.target!==this?this.itemsSelector?this.target.querySelectorAll(this.itemsSelector):this.target.children:this.$.items.getDistributedNodes();return Array.prototype.filter.call(a,this.itemFilter)},filterItem:function(a){return!this._excludedNames[a.localName]},excludedLocalNamesChanged:function(){this._excludedNames={};var a=this.defaultExcludedLocalNames;this.excludedLocalNames&&(a+=" "+this.excludedLocalNames),a.split(/\s+/g).forEach(function(a){this._excludedNames[a]=1},this)},targetChanged:function(a){a&&(this.removeListener(a),this.observer.disconnect(),this.clearSelection()),this.target&&(this.addListener(this.target),this.observer.observe(this.target,{childList:!0}),this.updateSelected())},addListener:function(a){Polymer.addEventListener(a,this.activateEvent,this.activateListener)},removeListener:function(a){Polymer.removeEventListener(a,this.activateEvent,this.activateListener)},get selection(){return this.$.selection.getSelection()},selectedChanged:function(){1===arguments.length?this.processSplices(arguments[0]):this.updateSelected()},updateSelected:function(){this.validateSelected(),this.multi?(this.clearSelection(this.selected),this.selected&&this.selected.forEach(function(a){this.setValueSelected(a,!0)},this)):this.valueToSelection(this.selected)},validateSelected:function(){if(this.multi&&!Array.isArray(this.selected)&&null!=this.selected)this.selected=[this.selected];else if(!this.multi&&Array.isArray(this.selected)){var a=this.selected[0];this.clearSelection([a]),this.selected=a}},processSplices:function(a){for(var b,c=0;b=a[c];c++){for(var d=0;d<b.removed.length;d++)this.setValueSelected(b.removed[d],!1);for(var d=0;d<b.addedCount;d++)this.setValueSelected(this.selected[b.index+d],!0)}},clearSelection:function(a){this.$.selection.selection.slice().forEach(function(b){var c=this.valueForNode(b)||this.items.indexOf(b);(!a||a.indexOf(c)<0)&&this.$.selection.setItemSelected(b,!1)},this)},valueToSelection:function(a){var b=this.valueToItem(a);this.$.selection.select(b)},setValueSelected:function(a,b){var c=this.valueToItem(a);b^this.$.selection.isSelected(c)&&this.$.selection.setItemSelected(c,b)},updateSelectedItem:function(){this.selectedItem=this.selection},selectedItemChanged:function(){if(this.selectedItem){var a=this.selectedItem.templateInstance;this.selectedModel=a?a.model:void 0}else this.selectedModel=null;this.selectedIndex=this.selectedItem?parseInt(this.valueToIndex(this.selected)):-1},valueToItem:function(a){return null===a||void 0===a?null:this.items[this.valueToIndex(a)]},valueToIndex:function(a){for(var b,c=0,d=this.items;b=d[c];c++)if(this.valueForNode(b)==a)return c;return a},valueForNode:function(a){return a[this.valueattr]||a.getAttribute(this.valueattr)},selectionSelect:function(a,b){this.updateSelectedItem(),b.item&&this.applySelection(b.item,b.isSelected)},applySelection:function(a,b){this.selectedClass&&a.classList.toggle(this.selectedClass,b),this.selectedProperty&&(a[this.selectedProperty]=b),this.selectedAttribute&&a.setAttribute&&(b?a.setAttribute(this.selectedAttribute,""):a.removeAttribute(this.selectedAttribute))},activateHandler:function(a){if(!this.notap){var b=this.findDistributedTarget(a.target,this.items);if(b>=0){var c=this.items[b],d=this.valueForNode(c)||b;this.multi?this.selected?this.addRemoveSelected(d):this.selected=[d]:this.selected=d,this.asyncFire("core-activate",{item:c})}}},addRemoveSelected:function(a){var b=this.selected.indexOf(a);b>=0?this.selected.splice(b,1):this.selected.push(a)},findDistributedTarget:function(a,b){for(;a&&a!=this;){var c=Array.prototype.indexOf.call(b,a);if(c>=0)return c;a=a.parentNode}},selectIndex:function(a){var b=this.items[a];return b?(this.selected=this.valueForNode(b)||a,b):void 0},selectPrevious:function(a){var b=a&&!this.selectedIndex?this.items.length-1:this.selectedIndex-1;return this.selectIndex(b)},selectNext:function(a){var b=a&&this.selectedIndex>=this.items.length-1?0:this.selectedIndex+1;return this.selectIndex(b)}}),function(){window.CoreStyle=window.CoreStyle||{g:{},list:{},refMap:{}},Polymer("core-style",{publish:{ref:""},g:CoreStyle.g,refMap:CoreStyle.refMap,list:CoreStyle.list,ready:function(){this.id?this.provide():(this.registerRef(this.ref),window.ShadowDOMPolyfill||this.require())},attached:function(){!this.id&&window.ShadowDOMPolyfill&&this.require()},provide:function(){this.register(),this.textContent?this._completeProvide():this.async(this._completeProvide)},register:function(){var a=this.list[this.id];a?(Array.isArray(a)||(this.list[this.id]=[a]),this.list[this.id].push(this)):this.list[this.id]=this},_completeProvide:function(){this.createShadowRoot(),this.domObserver=new MutationObserver(this.domModified.bind(this)).observe(this.shadowRoot,{subtree:!0,characterData:!0,childList:!0}),this.provideContent()},provideContent:function(){this.ensureTemplate(),this.shadowRoot.textContent="",this.shadowRoot.appendChild(this.instanceTemplate(this.template)),this.cssText=this.shadowRoot.textContent},ensureTemplate:function(){if(!this.template&&(this.template=this.querySelector("template:not([repeat]):not([bind])"),!this.template)){this.template=document.createElement("template");for(var a=this.firstChild;a;)this.template.content.appendChild(a.cloneNode(!0)),a=a.nextSibling}},domModified:function(){this.cssText=this.shadowRoot.textContent,this.notify()},notify:function(){var a=this.refMap[this.id];if(a)for(var b,c=0;b=a[c];c++)b.require()},registerRef:function(a){this.refMap[this.ref]=this.refMap[this.ref]||[],this.refMap[this.ref].push(this)},applyRef:function(a){this.ref=a,this.registerRef(this.ref),this.require()},require:function(){var a=this.cssTextForRef(this.ref);if(a){if(this.ensureStyleElement(),this.styleElement._cssText===a)return;this.styleElement._cssText=a,window.ShadowDOMPolyfill&&(this.styleElement.textContent=a,a=WebComponents.ShadowCSS.shimStyle(this.styleElement,this.getScopeSelector())),this.styleElement.textContent=a}},cssTextForRef:function(a){var b=this.byId(a),c="";if(b)if(Array.isArray(b)){for(var d,e=[],f=0,g=b.length;g>f&&(d=b[f]);f++)e.push(d.cssText);c=e.join("\n\n")}else c=b.cssText;return b&&!c&&console.warn("No styles provided for ref:",a),c},byId:function(a){return this.list[a]},ensureStyleElement:function(){this.styleElement||(this.styleElement=window.ShadowDOMPolyfill?this.makeShimStyle():this.makeRootStyle()),this.styleElement||console.warn(this.localName,"could not setup style.")},makeRootStyle:function(){var a=document.createElement("style");return this.appendChild(a),a},makeShimStyle:function(){var a=this.findHost(this);if(a){var b=a.localName,c=document.querySelector("style["+b+"="+this.ref+"]");return c||(c=document.createElement("style"),c.setAttribute(b,this.ref),document.head.appendChild(c)),c}},getScopeSelector:function(){if(!this._scopeSelector){var a="",b=this.findHost(this);if(b){var c=b.hasAttribute("is"),d=c?b.getAttribute("is"):b.localName;a=WebComponents.ShadowCSS.makeScopeSelector(d,c)}this._scopeSelector=a}return this._scopeSelector},findHost:function(a){for(;a.parentNode;)a=a.parentNode;return a.host||wrap(document.documentElement)},cycle:function(a,b){function c(a){return Math.abs((Number(a)-b)%255)}if(a.match("#")){var d=this.hexToRgb(a);if(!d)return a;a="rgb("+d.r+","+d.b+","+d.g+")"}return a.replace(/rgb\(([^,]*),([^,]*),([^,]*)\)/,function(a,b,d,e){return"rgb("+c(b)+","+c(d)+", "+c(e)+")"})},hexToRgb:function(a){var b=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);return b?{r:parseInt(b[1],16),g:parseInt(b[2],16),b:parseInt(b[3],16)}:null}})}(),function(){var a="meta",b={},c={};Polymer("core-meta",{type:"default",alwaysPrepare:!0,ready:function(){this.register(this.id)},get metaArray(){var a=this.type;return c[a]||(c[a]=[]),c[a]},get metaData(){var a=this.type;return b[a]||(b[a]={}),b[a]},register:function(b,c){b&&b!==a&&(this.unregister(this,c),this.metaData[b]=this,this.metaArray.push(this))},unregister:function(a,b){delete this.metaData[b||a.id];var c=this.metaArray.indexOf(a);c>=0&&this.metaArray.splice(c,1)},get list(){return this.metaArray},byId:function(a){return this.metaData[a]}})}(),Polymer("core-transition",{type:"transition",go:function(a,b){this.complete(a)},setup:function(a){},teardown:function(a){},complete:function(a){this.fire("core-transitionend",null,a)},listenOnce:function(a,b,c,d){var e=this,f=function(){c.apply(e,d),a.removeEventListener(b,f,!1)};a.addEventListener(b,f,!1)}}),function(){var a=CoreStyle.g.transitions=CoreStyle.g.transitions||{};a.duration="500ms",a.heroDelay="50ms",a.scaleDelay="500ms",a.cascadeFadeDuration="250ms",Polymer("core-transition-pages",{publish:{scopeClass:"",activeClass:"",transitionProperty:""},completed:!1,prepare:function(a,b){this.boundCompleteFn=this.complete.bind(this,a),this.scopeClass&&a.classList.add(this.scopeClass)},go:function(a,b){this.completed=!1,this.activeClass&&a.classList.add(this.activeClass),a.addEventListener("transitionend",this.boundCompleteFn,!1)},setup:function(a){a._pageTransitionStyles||(a._pageTransitionStyles={});var b=this.calcStyleName();a._pageTransitionStyles[b]||(this.installStyleInScope(a,b),a._pageTransitionStyles[b]=!0)},calcStyleName:function(){return this.id||this.localName},installStyleInScope:function(a,b){a.shadowRoot||(a.createShadowRoot().innerHTML="<content></content>");var c=a.shadowRoot,d=document.createElement("core-style");c.insertBefore(d,c.firstChild),d.applyRef(b)},complete:function(a,b){"box-shadow"===b.propertyName||this.transitionProperty&&-1===b.propertyName.indexOf(this.transitionProperty)||(this.completed=!0,this.fire("core-transitionend",this,a))},ensureComplete:function(a){a.removeEventListener("transitionend",this.boundCompleteFn,!1),this.scopeClass&&a.classList.remove(this.scopeClass),this.activeClass&&a.classList.remove(this.activeClass)}})}(),function(){function a(b,c){var d,e,f,g,h=b.firstElementChild;for(e=[],f=b.shadowRoot;f;)e.push(f),f=f.olderShadowRoot;for(g=e.length-1;g>=0;g--)if(d=e[g].querySelector(c))return d;for(;h;){if(d=a(h,c))return d;h=h.nextElementSibling}return null}function b(a,c,d){var e,f,g,h,i,j=a.firstElementChild;for(g=[],f=a.shadowRoot;f;)g.push(f),f=f.olderShadowRoot;for(h=g.length-1;h>=0;h--)for(e=g[h].querySelectorAll(c),i=0;i<e.length;i++)d.push(e[i]);for(;j;)b(j,c,d),j=j.nextElementSibling;return d}var c="-webkit-transition"in document.documentElement.style,d=c?"-webkit-transform":"transform",e=c?"webkitTransition":"transition",f=c?"webkitTransform":"transform",g=window.ShadowDOMPolyfill;Polymer("hero-transition",{go:function(a,b){var c=["border-radius","width","height",d],g=b&&b.duration||CoreStyle.g.transitions.heroDuration||CoreStyle.g.transitions.duration;a._heroes.forEach(function(a){var d=a.h0.hasAttribute("hero-delayed")?CoreStyle.g.transitions.heroDelay:"",h=[];c.forEach(function(a){h.push(a+" "+g+" "+b.easing+" "+d)}),a.h1.style[e]=h.join(", "),a.h1.style.borderRadius=a.r1,a.h1.style[f]=""}),this["super"](arguments),a._heroes.length||(this.completed=!0)},prepare:function(a,b){this["super"](arguments);var c=b.src,d=b.dst;a._heroes&&a._heroes.length?this.ensureComplete(a):a._heroes=[];var e="[hero]",g=this.findAllInShadows(c,e);c.selectedItem&&(hs$=this.findAllInShadows(c.selectedItem,e),hsa$=[],Array.prototype.forEach.call(hs$,function(a){-1===g.indexOf(a)&&hsa$.push(a)}),g=g.concat(hsa$));for(var h,i=0;h=g[i];i++){var j=h.getAttribute("hero-id"),k='[hero][hero-id="'+j+'"]',l=this.findInShadows(d,k);if(!l&&d.selectedItem&&(l=this.findInShadows(d.selectedItem,k)),j&&l){var m=getComputedStyle(h),n=getComputedStyle(l),o={h0:h,b0:h.getBoundingClientRect(),r0:m.borderRadius,h1:l,b1:l.getBoundingClientRect(),r1:n.borderRadius},p=o.b0.left-o.b1.left,q=o.b0.top-o.b1.top,r=o.b0.width/o.b1.width,s=o.b0.height/o.b1.height;o.r0!==o.r1&&(o.h1.style.borderRadius=o.r0),o.h1.style[f]="translate("+p+"px,"+q+"px) scale("+r+","+s+")",o.h1.style[f+"Origin"]="0 0",a._heroes.push(o)}}},findInShadows:function(a,b){return a.querySelector(b)||(g?queryAllShadows(a,b):a.querySelector("::shadow "+b))},findAllInShadows:function(a,b){if(g){var c=a.querySelectorAll(b).array(),d=queryAllShadows(a,b,!0);return c.concat(d)}return a.querySelectorAll(b).array().concat(a.shadowRoot?a.shadowRoot.querySelectorAll(b).array():[])},ensureComplete:function(a){this["super"](arguments),a._heroes&&(a._heroes.forEach(function(a){a.h1.style[e]="",a.h1.style[f]=""}),a._heroes=[])},complete:function(a,b){var c=!1;a._heroes.forEach(function(a){a.h1===b.path[0]&&(c=!0)}),c&&this["super"](arguments)}}),queryAllShadows=function(c,d,e){return e?b(c,d,[]):a(c,d)}}(),Polymer("core-animated-pages",Polymer.mixin({eventDelegates:{"core-transitionend":"transitionEnd"},transitions:"",selected:0,lastSelected:null,registerCallback:function(){this.tmeta=document.createElement("core-transition")},created:function(){this._transitions=[],this.transitioning=[]},attached:function(){this.resizerAttachedHandler()},detached:function(){this.resizerDetachedHandler()},transitionsChanged:function(){this._transitions=this.transitions.split(" ")},_transitionsChanged:function(a){this._transitionElements&&this._transitionElements.forEach(function(a){a.teardown(this)},this),this._transitionElements=[],this._transitions.forEach(function(a){var b=this.getTransition(a);b&&(this._transitionElements.push(b),b.setup(this))},this)},getTransition:function(a){return this.tmeta.byId(a)},selectionSelect:function(a,b){this.updateSelectedItem()},applyTransition:function(a,b){this.animating&&(this.cancelAsync(this.animating),this.animating=null),Polymer.flush(),-1===this.transitioning.indexOf(a)&&this.transitioning.push(a),-1===this.transitioning.indexOf(b)&&this.transitioning.push(b),a.setAttribute("animate",""),b.setAttribute("animate","");var c={src:a,dst:b,easing:"cubic-bezier(0.4, 0, 0.2, 1)"};this.fire("core-animated-pages-transition-prepare"),this._transitionElements.forEach(function(a){a.prepare(this,c)},this),a.offsetTop,this.applySelection(b,!0),this.applySelection(a,!1),this._transitionElements.forEach(function(a){a.go(this,c)},this),this._transitionElements.length?this.animating=this.async(this.complete.bind(this),null,5e3):this.complete()},complete:function(){this.animating&&(this.cancelAsync(this.animating),this.animating=null),this.transitioning.forEach(function(a){a.removeAttribute("animate")}),this.transitioning=[],this._transitionElements.forEach(function(a){a.ensureComplete(this)},this),this.fire("core-animated-pages-transition-end")},transitionEnd:function(a){if(this.transitioning.length){var b=!0;this._transitionElements.forEach(function(a){a.completed||(b=!1)}),b&&this.job("transitionWatch",function(){this.complete()},100)}},selectedChanged:function(a){this.lastSelected=a,this["super"](arguments)},selectedItemChanged:function(a){if(this["super"](arguments),!a)return this.applySelection(this.selectedItem,!0),void this.async(this.notifyResize);if(this.hasAttribute("no-transition")||!this._transitionElements||!this._transitionElements.length)return this.applySelection(a,!1),this.applySelection(this.selectedItem,!0),void this.notifyResize();if(a&&this.selectedItem){var b=this;Polymer.flush(),Polymer.endOfMicrotask(function(){b.applyTransition(a,b.selectedItem),b.notifyResize()})}},resizerShouldNotify:function(a){for(;a&&a!=this;){if(a==this.selectedItem)return!0;a=a.parentElement||a.parentNode&&a.parentNode.host}}},Polymer.CoreResizer)),function(){Polymer("core-toolbar",{justify:"",middleJustify:"",bottomJustify:"",justifyChanged:function(a){this.updateBarJustify(this.$.topBar,this.justify,a)},middleJustifyChanged:function(a){this.updateBarJustify(this.$.middleBar,this.middleJustify,a)},bottomJustifyChanged:function(a){this.updateBarJustify(this.$.bottomBar,this.bottomJustify,a)},updateBarJustify:function(a,b,c){c&&a.removeAttribute(this.toLayoutAttrName(c)),b&&a.setAttribute(this.toLayoutAttrName(b),"")},toLayoutAttrName:function(a){return"between"===a?"justified":a+"-justified"}})}(),Polymer("core-iconset",{src:"",width:0,icons:"",iconSize:24,offsetX:0,offsetY:0,type:"iconset",created:function(){this.iconMap={},this.iconNames=[],this.themes={}},ready:function(){this.src&&this.ownerDocument!==document&&(this.src=this.resolvePath(this.src,this.ownerDocument.baseURI)),this["super"](),this.updateThemes()},iconsChanged:function(){var a=this.offsetX,b=this.offsetY;this.icons&&this.icons.split(/\s+/g).forEach(function(c,d){this.iconNames.push(c),this.iconMap[c]={offsetX:a,offsetY:b},a+this.iconSize<this.width?a+=this.iconSize:(a=this.offsetX,b+=this.iconSize)},this)},updateThemes:function(){var a=this.querySelectorAll("property[theme]");a&&a.array().forEach(function(a){this.themes[a.getAttribute("theme")]={offsetX:parseInt(a.getAttribute("offsetX"))||0,offsetY:parseInt(a.getAttribute("offsetY"))||0}},this)},getOffset:function(a,b){var c=this.iconMap[a];if(!c){var d=this.iconNames[Number(a)];c=this.iconMap[d]}var e=this.themes[b];return c&&e?{offsetX:c.offsetX+e.offsetX,offsetY:c.offsetY+e.offsetY}:c},applyIcon:function(a,b,c){var d=this.getOffset(b);if(c=c||1,a&&d){var b=a._icon||document.createElement("div"),e=b.style;return e.backgroundImage="url("+this.src+")",e.backgroundPosition=-d.offsetX*c+"px "+(-d.offsetY*c+"px"),e.backgroundSize=1===c?"auto":this.width*c+"px",b.parentNode!==a&&a.appendChild(b),b}}}),function(){var a;Polymer("core-icon",{src:"",icon:"",alt:null,observe:{icon:"updateIcon",alt:"updateAlt"},defaultIconset:"icons",ready:function(){return a||(a=document.createElement("core-iconset")),this.hasAttribute("aria-label")?void(this.hasAttribute("role")||this.setAttribute("role","img")):void this.updateAlt()},srcChanged:function(){var a=this._icon||document.createElement("div");a.textContent="",a.setAttribute("fit",""),a.style.backgroundImage="url("+this.src+")",a.style.backgroundPosition="center",a.style.backgroundSize="100%",a.parentNode||this.appendChild(a),this._icon=a},getIconset:function(b){return a.byId(b||this.defaultIconset)},updateIcon:function(a,b){if(!this.icon)return void this.updateAlt();var c=String(this.icon).split(":"),d=c.pop();if(d){var e=this.getIconset(c.pop());e&&(this._icon=e.applyIcon(this,d),this._icon&&this._icon.setAttribute("fit",""))}a&&a.split(":").pop()==this.getAttribute("aria-label")&&this.updateAlt()},updateAlt:function(){this.getAttribute("aria-hidden")||(""===this.alt?(this.setAttribute("aria-hidden","true"),this.hasAttribute("role")&&this.removeAttribute("role"),this.hasAttribute("aria-label")&&this.removeAttribute("aria-label")):(this.setAttribute("aria-label",this.alt||this.icon.split(":").pop()),this.hasAttribute("role")||this.setAttribute("role","img"),this.hasAttribute("aria-hidden")&&this.removeAttribute("aria-hidden")))}})}(),Polymer("core-iconset-svg",{iconSize:24,type:"iconset",created:function(){this._icons={}},ready:function(){this["super"](),this.updateIcons()},iconById:function(a){return this._icons[a]||(this._icons[a]=this.querySelector('[id="'+a+'"]'))},cloneIcon:function(a){var b=this.iconById(a);if(b){var c=b.cloneNode(!0);c.removeAttribute("id");var d=document.createElementNS("http://www.w3.org/2000/svg","svg");return d.setAttribute("viewBox","0 0 "+this.iconSize+" "+this.iconSize),d.style.pointerEvents="none",d.appendChild(c),d}},get iconNames(){return this._iconNames||(this._iconNames=this.findIconNames()),this._iconNames},findIconNames:function(){var a=this.querySelectorAll("[id]").array();return a.length?a.map(function(a){return a.id}):void 0},applyIcon:function(a,b){var c=a,d=c.querySelector("svg");d&&d.remove();var e=this.cloneIcon(b);return e?(e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.style.display="block",c.insertBefore(e,c.firstElementChild),e):void 0},updateIcons:function(a,b){a=a||"[icon]",b=b||"updateIcon";for(var c,d=window.ShadowDOMPolyfill?"":"html /deep/ ",e=document.querySelectorAll(d+a),f=0;c=e[f];f++)c[b]&&c[b].call(c)}}),function(){function a(a,b,c){var d=a/1e3,e=b/1e3,f=d+e,g=c.width,h=c.height,i=1.1*Math.min(Math.sqrt(g*g+h*h),l)+5,j=1.1-.2*(i/l),k=f/j,m=i*(1-Math.pow(80,-k));return Math.abs(m)}function b(a,b,c){var d=b/1e3;return 0>=b?c.initialOpacity:Math.max(0,c.initialOpacity-d*c.opacityDecayVelocity)}function c(a,c,d){var e=a/1e3,f=.3*e,g=b(a,c,d);return Math.max(0,Math.min(f,g))}function d(a,c,d){var e=b(a.tDown,a.tUp,d);return.01>e&&c>=Math.min(a.maxRadius,l)}function e(a,c,d){var e=b(a.tDown,a.tUp,d);return e>=d.initialOpacity&&c>=Math.min(a.maxRadius,l)}function f(a,b,c,d,e,f){void 0!==f&&(a.bg.style.opacity=f),a.wave.style.opacity=e;var g=d/(a.containerSize/2),h=b-a.containerWidth/2,i=c-a.containerHeight/2;a.wc.style.webkitTransform="translate3d("+h+"px,"+i+"px,0)",a.wc.style.transform="translate3d("+h+"px,"+i+"px,0)",a.wave.style.webkitTransform="scale("+g+","+g+")",a.wave.style.transform="scale3d("+g+","+g+",1)"}function g(a){var b=window.getComputedStyle(a),c=b.color,d=document.createElement("div");d.style.backgroundColor=c,d.classList.add("wave");var e=document.createElement("div");e.classList.add("wave-container"),e.appendChild(d);var f=a.$.waves;f.appendChild(e),a.$.bg.style.backgroundColor=c;var g={bg:a.$.bg,wc:e,wave:d,waveColor:c,maxRadius:0,isMouseDown:!1,mouseDownStart:0,mouseUpStart:0,tDown:0,tUp:0};return g}function h(a,b){if(a.waves){var c=a.waves.indexOf(b);a.waves.splice(c,1),b.wc.remove()}}function i(a,b){var c=a.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);return"undefined"==typeof b&&(b=1),c?"rgba("+c[1]+", "+c[2]+", "+c[3]+", "+b+")":"rgba(255, 255, 255, "+b+")"}function j(a,b){return Math.sqrt(m(a.x-b.x,2)+m(a.y-b.y,2))}function k(a,b){var c=j(a,{x:0,y:0}),d=j(a,{x:b.w,y:0}),e=j(a,{x:0,y:b.h}),f=j(a,{x:b.w,y:b.h});return Math.max(c,d,e,f)}var l=150,m=Math.pow,n=Date.now;window.performance&&performance.now&&(n=performance.now.bind(performance)),Polymer("paper-ripple",{initialOpacity:.25,opacityDecayVelocity:.8,backgroundFill:!0,pixelDensity:2,eventDelegates:{down:"downAction",up:"upAction"},ready:function(){this.waves=[]},downAction:function(a){var b=g(this);this.cancelled=!1,b.isMouseDown=!0,b.tDown=0,b.tUp=0,b.mouseUpStart=0,b.mouseDownStart=n();var c=this.getBoundingClientRect(),d=c.width,e=c.height,f=a.x-c.left,h=a.y-c.top;b.startPosition={x:f,y:h},this.classList.contains("recenteringTouch")&&(b.endPosition={x:d/2,y:e/2},b.slideDistance=j(b.startPosition,b.endPosition)),b.containerSize=Math.max(d,e),b.containerWidth=d,b.containerHeight=e,b.maxRadius=k(b.startPosition,{w:d,h:e}),b.wc.style.top=(b.containerHeight-b.containerSize)/2+"px",b.wc.style.left=(b.containerWidth-b.containerSize)/2+"px",b.wc.style.width=b.containerSize+"px",b.wc.style.height=b.containerSize+"px",this.waves.push(b),this._loop||(this._loop=this.animate.bind(this,{width:d,height:e}),requestAnimationFrame(this._loop))},upAction:function(){for(var a=0;a<this.waves.length;a++){var b=this.waves[a];if(b.isMouseDown){b.isMouseDown=!1,b.mouseUpStart=n(),b.mouseDownStart=0,b.tUp=0;break}}this._loop&&requestAnimationFrame(this._loop)},cancel:function(){this.cancelled=!0},animate:function(g){for(var j=!1,k=[],l=0,m=0,o=null,p={initialOpacity:this.initialOpacity,opacityDecayVelocity:this.opacityDecayVelocity,height:g.height,width:g.width},q=0;q<this.waves.length;q++){var r=this.waves[q];r.mouseDownStart>0&&(r.tDown=n()-r.mouseDownStart),r.mouseUpStart>0&&(r.tUp=n()-r.mouseUpStart);var s=r.tUp,t=r.tDown;l=Math.max(l,t),m=Math.max(m,s);var u=a(t,s,p),v=b(t,s,p);i(r.waveColor,v);o=r.waveColor;var w=r.startPosition.x,x=r.startPosition.y;if(r.endPosition){var y=Math.min(1,u/r.containerSize*2/Math.sqrt(2));w+=y*(r.endPosition.x-r.startPosition.x),x+=y*(r.endPosition.y-r.startPosition.y)}var z=null;if(this.backgroundFill){var A=c(t,s,p);z=i(r.waveColor,A)}f(r,w,x,u,v,A);var B=e(r,u,p),C=d(r,u,p),D=!C||B,E=r.mouseUpStart?!C:!B;j=j||E,(!D||this.cancelled)&&k.push(r)}j&&requestAnimationFrame(this._loop);for(var q=0;q<k.length;++q){var r=k[q];h(this,r)}!this.waves.length&&this._loop&&(this.$.bg.style.backgroundColor=null,this._loop=null,this.fire("core-transitionend"))}})}(),function(){var a={eventDelegates:{down:"downAction",up:"upAction"},toggleBackground:function(){if(this.active){if(!this.$.bg){var a=document.createElement("div");a.setAttribute("id","bg"),a.setAttribute("fit",""),a.style.opacity=.25,this.$.bg=a,this.shadowRoot.insertBefore(a,this.shadowRoot.firstChild)}this.$.bg.style.backgroundColor=getComputedStyle(this).color}else this.$.bg&&(this.$.bg.style.backgroundColor="")},activeChanged:function(){this["super"](),!this.toggle||this.lastEvent&&!this.matches(":host-context([noink])")||this.toggleBackground()},pressedChanged:function(){this["super"](),this.lastEvent&&(this.$.ripple&&!this.hasAttribute("noink")&&(this.pressed?this.$.ripple.downAction(this.lastEvent):this.$.ripple.upAction()),this.adjustZ())},focusedChanged:function(){this.adjustZ()},disabledChanged:function(){this._disabledChanged(),this.adjustZ()},recenteringTouchChanged:function(){this.$.ripple&&this.$.ripple.classList.toggle("recenteringTouch",this.recenteringTouch)},fillChanged:function(){this.$.ripple&&this.$.ripple.classList.toggle("fill",this.fill)},adjustZ:function(){this.$.shadow&&(this.active?this.$.shadow.setZ(2):this.disabled?this.$.shadow.setZ(0):this.focused?this.$.shadow.setZ(3):this.$.shadow.setZ(1))},downAction:function(a){if(this._downAction(),!this.hasAttribute("noink")&&(this.lastEvent=a,!this.$.ripple)){var b=document.createElement("paper-ripple");b.setAttribute("id","ripple"),b.setAttribute("fit",""),this.recenteringTouch&&b.classList.add("recenteringTouch"),this.fill||b.classList.add("circle"),this.$.ripple=b,
this.shadowRoot.insertBefore(b,this.shadowRoot.firstChild)}},upAction:function(){this._upAction(),this.toggle&&(this.toggleBackground(),this.$.ripple&&this.$.ripple.cancel())}};Polymer.mixin2(a,Polymer.CoreFocusable),Polymer("paper-button-base",a)}(),Polymer("paper-icon-button",{publish:{src:"",icon:"",recenteringTouch:!0,fill:!1},iconChanged:function(a){var b=this.getAttribute("aria-label");b&&b!==a||this.setAttribute("aria-label",this.icon)}}),Polymer("core-header-panel",{publish:{mode:{value:"",reflect:!0},tallClass:"tall",shadow:!1},animateDuration:200,modeConfigs:{shadowMode:{waterfall:1,"waterfall-tall":1},noShadow:{seamed:1,cover:1,scroll:1},tallMode:{"waterfall-tall":1},outerScroll:{scroll:1}},ready:function(){this.scrollHandler=this.scroll.bind(this),this.addListener()},detached:function(){this.removeListener(this.mode)},addListener:function(){this.scroller.addEventListener("scroll",this.scrollHandler)},removeListener:function(a){var b=this.getScrollerForMode(a);b.removeEventListener("scroll",this.scrollHandler)},domReady:function(){this.async("scroll")},modeChanged:function(a){var b=this.modeConfigs,c=this.header;c&&(b.tallMode[a]&&!b.tallMode[this.mode]?(c.classList.remove(this.tallClass),this.async(function(){c.classList.remove("animate")},null,this.animateDuration)):c.classList.toggle("animate",b.tallMode[this.mode])),b&&(b.outerScroll[this.mode]||b.outerScroll[a])&&(this.removeListener(a),this.addListener()),this.scroll()},get header(){return this.$.headerContent.getDistributedNodes()[0]},getScrollerForMode:function(a){return this.modeConfigs.outerScroll[a]?this.$.outerContainer:this.$.mainContainer},get scroller(){return this.getScrollerForMode(this.mode)},scroll:function(){var a=this.modeConfigs,b=this.$.mainContainer,c=this.header,d=b.scrollTop,e=0===d;this.$.dropShadow.classList.toggle("hidden",!this.shadow&&(e&&a.shadowMode[this.mode]||a.noShadow[this.mode])),c&&a.tallMode[this.mode]&&c.classList.toggle(this.tallClass,e||c.classList.contains(this.tallClass)&&b.scrollHeight<this.$.outerContainer.offsetHeight),this.fire("scroll",{target:this.scroller},this,!1)}}),Polymer("core-media-query",{queryMatches:!1,query:"",ready:function(){this._mqHandler=this.queryHandler.bind(this),this._mq=null},queryChanged:function(){this._mq&&this._mq.removeListener(this._mqHandler);var a=this.query;"("!==a[0]&&(a="("+this.query+")"),this._mq=window.matchMedia(a),this._mq.addListener(this._mqHandler),this.queryHandler(this._mq)},queryHandler:function(a){this.queryMatches=a.matches,this.asyncFire("core-media-change",a)}}),Polymer("core-drawer-panel",{publish:{drawerWidth:"256px",responsiveWidth:"640px",selected:{value:null,reflect:!0},defaultSelected:"main",narrow:{value:!1,reflect:!0},rightDrawer:!1,disableSwipe:!1,forceNarrow:!1,disableEdgeSwipe:!1},eventDelegates:{trackstart:"trackStart",trackx:"trackx",trackend:"trackEnd",down:"downHandler",up:"upHandler",tap:"tapHandler"},transition:!1,edgeSwipeSensitivity:15,peeking:!1,dragging:!1,hasTransform:!0,hasWillChange:!0,toggleAttribute:"core-drawer-toggle",created:function(){this.hasTransform="transform"in this.style,this.hasWillChange="willChange"in this.style},domReady:function(){this.async(function(){this.transition=!0})},togglePanel:function(){this.selected=this.isMainSelected()?"drawer":"main"},openDrawer:function(){this.selected="drawer"},closeDrawer:function(){this.selected="main"},queryMatchesChanged:function(){this.narrow=this.queryMatches||this.forceNarrow,this.narrow&&(this.selected=this.defaultSelected),this.setAttribute("touch-action",this.swipeAllowed()?"pan-y":""),this.fire("core-responsive-change",{narrow:this.narrow})},forceNarrowChanged:function(){this.queryMatchesChanged()},swipeAllowed:function(){return this.narrow&&!this.disableSwipe},isMainSelected:function(){return"main"===this.selected},startEdgePeek:function(){this.width=this.$.drawer.offsetWidth,this.moveDrawer(this.translateXForDeltaX(this.rightDrawer?-this.edgeSwipeSensitivity:this.edgeSwipeSensitivity)),this.peeking=!0},stopEdgePeak:function(){this.peeking&&(this.peeking=!1,this.moveDrawer(null))},downHandler:function(a){!this.dragging&&this.isMainSelected()&&this.isEdgeTouch(a)&&this.startEdgePeek()},upHandler:function(a){this.stopEdgePeak()},tapHandler:function(a){a.target&&this.toggleAttribute&&a.target.hasAttribute(this.toggleAttribute)&&this.togglePanel()},isEdgeTouch:function(a){return!this.disableEdgeSwipe&&this.swipeAllowed()&&(this.rightDrawer?a.pageX>=this.offsetWidth-this.edgeSwipeSensitivity:a.pageX<=this.edgeSwipeSensitivity)},trackStart:function(a){this.swipeAllowed()&&(this.dragging=!0,this.isMainSelected()&&(this.dragging=this.peeking||this.isEdgeTouch(a)),this.dragging&&(this.width=this.$.drawer.offsetWidth,this.transition=!1,a.preventTap()))},translateXForDeltaX:function(a){var b=this.isMainSelected();return this.rightDrawer?Math.max(0,b?this.width+a:a):Math.min(0,b?a-this.width:a)},trackx:function(a){if(this.dragging){if(this.peeking){if(Math.abs(a.dx)<=this.edgeSwipeSensitivity)return;this.peeking=!1}this.moveDrawer(this.translateXForDeltaX(a.dx))}},trackEnd:function(a){this.dragging&&(this.dragging=!1,this.transition=!0,this.moveDrawer(null),this.rightDrawer?this.selected=a.xDirection>0?"main":"drawer":this.selected=a.xDirection>0?"drawer":"main")},transformForTranslateX:function(a){return null===a?"":this.hasWillChange?"translateX("+a+"px)":"translate3d("+a+"px, 0, 0)"},moveDrawer:function(a){var b=this.$.drawer.style;this.hasTransform?b.transform=this.transformForTranslateX(a):b.webkitTransform=this.transformForTranslateX(a)}}),function(){function a(a){var b="";if(a){var c=a.toLowerCase();1==c.length?l.test(c)&&(b=c):b="multiply"==c?"*":c}return b}function b(a){var b="";return a&&(b=m.test(a)?j[a]:a.toLowerCase()),b}function c(a){var b="";return Number(a)&&(b=a>=65&&90>=a?String.fromCharCode(32+a):a>=112&&123>=a?"f"+(a-112):a>=48&&57>=a?String(48-a):a>=96&&105>=a?String(96-a):k[a]),b}function d(d){var e=a(d.key)||b(d.keyIdentifier)||c(d.keyCode)||a(d.detail.key)||"";return{shift:d.shiftKey,ctrl:d.ctrlKey,meta:d.metaKey,alt:d.altKey,key:e}}function e(a){var b=a.split("+"),c=Object.create(null);return b.forEach(function(a){"shift"==a?c.shift=!0:"ctrl"==a?c.ctrl=!0:"alt"==a?c.alt=!0:c.key=a}),c}function f(a,b){return Boolean(a.alt)==Boolean(b.alt)&&Boolean(a.ctrl)==Boolean(b.ctrl)&&Boolean(a.shift)==Boolean(b.shift)&&a.key===b.key}function g(a){for(var b,c=d(a),e=0;e<this._desiredKeys.length;e++)if(b=this._desiredKeys[e],f(b,c)){a.preventDefault(),a.stopPropagation(),this.fire("keys-pressed",c,this,!1);break}}function h(a,b){a&&a.addEventListener&&a.addEventListener("keydown",b)}function i(a,b){a&&a.removeEventListener&&a.removeEventListener("keydown",b)}var j={"U+0009":"tab","U+001B":"esc","U+0020":"space","U+002A":"*","U+0030":"0","U+0031":"1","U+0032":"2","U+0033":"3","U+0034":"4","U+0035":"5","U+0036":"6","U+0037":"7","U+0038":"8","U+0039":"9","U+0041":"a","U+0042":"b","U+0043":"c","U+0044":"d","U+0045":"e","U+0046":"f","U+0047":"g","U+0048":"h","U+0049":"i","U+004A":"j","U+004B":"k","U+004C":"l","U+004D":"m","U+004E":"n","U+004F":"o","U+0050":"p","U+0051":"q","U+0052":"r","U+0053":"s","U+0054":"t","U+0055":"u","U+0056":"v","U+0057":"w","U+0058":"x","U+0059":"y","U+005A":"z","U+007F":"del"},k={9:"tab",13:"enter",27:"esc",33:"pageup",34:"pagedown",35:"end",36:"home",32:"space",37:"left",38:"up",39:"right",40:"down",46:"del",106:"*"},l=/[a-z0-9*]/,m=/U\+/;Polymer("core-a11y-keys",{created:function(){this._keyHandler=g.bind(this)},attached:function(){this.target||(this.target=this.parentNode),h(this.target,this._keyHandler)},detached:function(){i(this.target,this._keyHandler)},publish:{keys:"",target:null},keysChanged:function(){var a=this.keys.replace("*","* shift+*");this._desiredKeys=a.toLowerCase().split(" ").map(e)},targetChanged:function(a){i(a,this._keyHandler),h(this.target,this._keyHandler)}})}(),Polymer("core-menu"),Polymer("core-range",{value:0,min:0,max:100,step:1,ratio:0,observe:{"value min max step":"update"},calcRatio:function(a){return(this.clampValue(a)-this.min)/(this.max-this.min)},clampValue:function(a){return Math.min(this.max,Math.max(this.min,this.calcStep(a)))},calcStep:function(a){return this.step?Math.round(a/this.step)/(1/this.step):a},validateValue:function(){var a=this.clampValue(this.value);return this.value=this.oldValue=isNaN(a)?this.oldValue:a,this.value!==a},update:function(){this.validateValue(),this.ratio=100*this.calcRatio(this.value)}}),Polymer("paper-progress",{secondaryProgress:0,indeterminate:!1,step:0,observe:{"value secondaryProgress min max indeterminate":"update"},update:function(){this["super"](),this.secondaryProgress=this.clampValue(this.secondaryProgress),this.secondaryRatio=100*this.calcRatio(this.secondaryProgress),this.$.activeProgress.classList.toggle("indeterminate",this.indeterminate)},transformProgress:function(a,b){var c="scaleX("+b/100+")";a.style.transform=a.style.webkitTransform=c},ratioChanged:function(){this.transformProgress(this.$.activeProgress,this.ratio)},secondaryRatioChanged:function(){this.transformProgress(this.$.secondaryProgress,this.secondaryRatio)}}),Polymer("core-input",{publish:{committedValue:"",preventInvalidInput:!1},previousValidInput:"",eventDelegates:{input:"inputAction",change:"changeAction"},ready:function(){this.disabledHandler(),this.placeholderHandler()},attributeChanged:function(a,b){this[a+"Handler"]&&this[a+"Handler"](b)},disabledHandler:function(){this.disabled?this.setAttribute("aria-disabled",""):this.removeAttribute("aria-disabled")},placeholderHandler:function(){this.placeholder?this.setAttribute("aria-label",this.placeholder):this.removeAttribute("aria-label")},commit:function(){this.committedValue=this.value},changeAction:function(){this.commit()},inputAction:function(a){this.preventInvalidInput&&(a.target.validity.valid?this.previousValidInput=a.target.value:a.target.value=this.previousValidInput)}}),function(){var a=CoreStyle.g.paperInput=CoreStyle.g.paperInput||{};a.labelColor="#757575",a.focusedColor="#4059a9",a.invalidColor="#d34336",Polymer("paper-input-decorator",{publish:{label:"",floatingLabel:!1,disabled:{value:!1,reflect:!0},labelVisible:null,isInvalid:!1,autoValidate:!1,error:"",focused:{value:!1,reflect:!0}},computed:{floatingLabelVisible:"floatingLabel && !_labelVisible",_labelVisible:"(labelVisible === true || labelVisible === false) ? labelVisible : _autoLabelVisible"},ready:function(){Polymer.addEventListener(this,"focus",this.focusAction.bind(this),!0),Polymer.addEventListener(this,"blur",this.blurAction.bind(this),!0)},attached:function(){this.input=this.querySelector("input,textarea"),this.mo=new MutationObserver(function(){this.input=this.querySelector("input,textarea")}.bind(this)),this.mo.observe(this,{childList:!0})},detached:function(){this.mo.disconnect(),this.mo=null},prepareLabelTransform:function(){var a=this.$.floatedLabelText.getBoundingClientRect(),b=this.$.labelText.getBoundingClientRect();if(0!==a.width){var c=a.height/b.height;this.$.labelText.cachedTransform="scale3d("+a.width/b.width+","+c+",1) translate3d(0,"+(a.top-b.top)/c+"px,0)"}},animateFloatingLabel:function(){return!this.floatingLabel||this.labelAnimated?!1:(this.$.labelText.cachedTransform||this.prepareLabelTransform(),this.$.labelText.cachedTransform?(this.labelAnimated=!0,this.async(function(){this.transitionEndAction()},null,250),this._labelVisible?(this.$.labelText.style.webkitTransform||this.$.labelText.style.transform||(this.$.labelText.style.webkitTransform=this.$.labelText.cachedTransform,this.$.labelText.style.transform=this.$.labelText.cachedTransform,this.$.labelText.offsetTop),this.$.labelText.style.webkitTransform="",this.$.labelText.style.transform=""):(this.$.labelText.style.webkitTransform=this.$.labelText.cachedTransform,this.$.labelText.style.transform=this.$.labelText.cachedTransform,this.input.placeholder=""),!0):!1)},animateUnderline:function(a){if(this.focused){var b=this.$.underline.getBoundingClientRect(),c=a.x-b.left;this.$.focusedUnderline.style.mozTransformOrigin=c+"px",this.$.focusedUnderline.style.webkitTransformOrigin=c+"px ",this.$.focusedUnderline.style.transformOriginX=c+"px",this.underlineAnimated=!0}},validate:function(){return this.input?(this.isInvalid=!this.input.validity.valid,this.input.validity.valid):!0},_labelVisibleChanged:function(a){void 0!==a&&(this.animateFloatingLabel()||this.updateInputLabel(this.input,this.label))},labelVisibleChanged:function(){"true"===this.labelVisible?this.labelVisible=!0:"false"===this.labelVisible&&(this.labelVisible=!1)},labelChanged:function(){this.input&&this.updateInputLabel(this.input,this.label)},isInvalidChanged:function(){this.classList.toggle("invalid",this.isInvalid)},focusedChanged:function(){this.updateLabelVisibility(this.input&&this.input.value),this.lastEvent&&(this.animateUnderline(this.lastEvent),this.lastEvent=null),this.underlineVisible=this.focused},inputChanged:function(a){this.input&&(this.updateLabelVisibility(this.input.value),this.updateInputLabel(this.input,this.label),this.autoValidate&&this.validate()),a&&this.updateInputLabel(a,"")},focusAction:function(){this.focused=!0},blurAction:function(){this.focused=!1},updateLabelVisibility:function(a){var b=null!==a&&void 0!==a?String(a):a;this._autoLabelVisible=!this.focused&&!b||!this.floatingLabel&&!b},updateInputLabel:function(a,b){this._labelVisible?this.input.placeholder=this.label:this.input.placeholder="",b?a.setAttribute("aria-label",b):a.removeAttribute("aria-label")},inputAction:function(){this.updateLabelVisibility(this.input.value),this.autoValidate&&this.validate()},downAction:function(a){return a.target!==this.input&&this.focused?void a.preventDefault():void(this.lastEvent=a)},tapAction:function(a){this.disabled||this.focused||this.input&&(this.input.focus(),a.preventDefault())},transitionEndAction:function(){this.underlineAnimated=!1,this.labelAnimated=!1,this._labelVisible&&(this.input.placeholder=this.label)},charCounterErrorAction:function(a){this.isInvalid=a.detail.hasError,this.$.errorIcon.hidden=a.detail.hideErrorIcon}})}(),Polymer("paper-input",{publish:{label:"",floatingLabel:!1,disabled:{value:!1,reflect:!0},value:"",committedValue:""},focus:function(){this.$.input.focus()},valueChanged:function(){this.$.decorator.updateLabelVisibility(this.value)},changeAction:function(a){this.fire("change",null,this)}}),Polymer("paper-slider",{snaps:!1,pin:!1,disabled:!1,secondaryProgress:0,editable:!1,maxMarkers:100,dragging:!1,observe:{"step snaps":"update"},ready:function(){this.update()},update:function(){this.positionKnob(this.calcRatio(this.value)),this.updateMarkers()},minChanged:function(){this.update(),this.setAttribute("aria-valuemin",this.min)},maxChanged:function(){this.update(),this.setAttribute("aria-valuemax",this.max)},valueChanged:function(){this.update(),this.setAttribute("aria-valuenow",this.value),this.fire("core-change")},disabledChanged:function(){this.disabled?this.removeAttribute("tabindex"):this.tabIndex=0},immediateValueChanged:function(){this.dragging||(this.value=this.immediateValue),this.editable&&(this.$.input.value=this.immediateValue),this.fire("immediate-value-change")},expandKnob:function(){this.expand=!0},resetKnob:function(){this.expandJob&&this.expandJob.stop(),this.expand=!1},positionKnob:function(a){this.immediateValue=this.calcStep(this.calcKnobPosition(a))||0,this._ratio=this.snaps?this.calcRatio(this.immediateValue):a,this.$.sliderKnob.style.left=100*this._ratio+"%"},inputChange:function(){this.value=this.$.input.value,this.fire("change")},calcKnobPosition:function(a){return(this.max-this.min)*a+this.min},trackStart:function(a){this._w=this.$.sliderBar.offsetWidth,this._x=this._ratio*this._w,this._startx=this._x||0,this._minx=-this._startx,this._maxx=this._w-this._startx,this.$.sliderKnob.classList.add("dragging"),this.dragging=!0,a.preventTap()},trackx:function(a){var b=Math.min(this._maxx,Math.max(this._minx,a.dx));this._x=this._startx+b,this.immediateValue=this.calcStep(this.calcKnobPosition(this._x/this._w))||0;var c=this.$.sliderKnob.style;c.transform=c.webkitTransform="translate3d("+(this.snaps?this.calcRatio(this.immediateValue)*this._w-this._startx:b)+"px, 0, 0)"},trackEnd:function(){var a=this.$.sliderKnob.style;a.transform=a.webkitTransform="",this.$.sliderKnob.classList.remove("dragging"),this.dragging=!1,this.resetKnob(),this.value=this.immediateValue,this.fire("change")},knobdown:function(a){a.preventDefault(),this.expandKnob()},bardown:function(a){a.preventDefault(),this.transiting=!0,this._w=this.$.sliderBar.offsetWidth;var b=this.$.sliderBar.getBoundingClientRect(),c=(a.x-b.left)/this._w;this.positionKnob(c),this.expandJob=this.job(this.expandJob,this.expandKnob,60),this.asyncFire("change")},knobTransitionEnd:function(a){a.target===this.$.sliderKnob&&(this.transiting=!1)},updateMarkers:function(){this.markers=[];var a=(this.max-this.min)/this.step;if(this.snaps||!(a>this.maxMarkers))for(var b=0;a>b;b++)this.markers.push("")},increment:function(){this.value=this.clampValue(this.value+this.step)},decrement:function(){this.value=this.clampValue(this.value-this.step)},incrementKey:function(a,b){"end"===b.key?this.value=this.max:this.increment(),this.fire("change")},decrementKey:function(a,b){"home"===b.key?this.value=this.min:this.decrement(),this.fire("change")}}),Polymer("paper-tab",{noink:!1,eventDelegates:{down:"downAction",up:"upAction"},downAction:function(a){this.noink||this.parentElement&&this.parentElement.noink||this.$.ink.downAction(a)},upAction:function(){this.$.ink.upAction()},cancelRipple:function(){this.$.ink.upAction()}}),Polymer("paper-tabs",Polymer.mixin({noink:!1,nobar:!1,noslide:!1,scrollable:!1,disableDrag:!1,hideScrollButton:!1,alignBottom:!1,eventDelegates:{"core-resize":"resizeHandler"},activateEvent:"tap",step:10,holdDelay:10,ready:function(){this["super"](),this._trackxHandler=this.trackx.bind(this),Polymer.addEventListener(this.$.tabsContainer,"trackx",this._trackxHandler),this._tabsObserver=new MutationObserver(this.updateBar.bind(this))},domReady:function(){this.async("resizeHandler"),this._tabsObserver.observe(this,{childList:!0,subtree:!0,characterData:!0})},attached:function(){this.resizableAttachedHandler()},detached:function(){Polymer.removeEventListener(this.$.tabsContainer,"trackx",this._trackxHandler),this._tabsObserver.disconnect(),this.resizableDetachedHandler()},trackStart:function(a){if(this.scrollable&&!this.disableDrag){var b=a.target;b&&b.cancelRipple&&b.cancelRipple(),this._startx=this.$.tabsContainer.scrollLeft,a.preventTap()}},trackx:function(a){this.scrollable&&!this.disableDrag&&(this.$.tabsContainer.scrollLeft=this._startx-a.dx)},resizeHandler:function(){this.scroll(),this.updateBar()},scroll:function(){if(this.scrollable){var a=this.$.tabsContainer,b=a.scrollLeft;this.leftHidden=0===b,this.rightHidden=b===Math.max(0,a.scrollWidth-a.clientWidth)}},holdLeft:function(){this.holdJob=setInterval(this.scrollToLeft.bind(this),this.holdDelay)},holdRight:function(){this.holdJob=setInterval(this.scrollToRight.bind(this),this.holdDelay)},releaseHold:function(){clearInterval(this.holdJob),this.holdJob=null},scrollToLeft:function(){this.$.tabsContainer.scrollLeft-=this.step},scrollToRight:function(){this.$.tabsContainer.scrollLeft+=this.step},updateBar:function(){this.async("selectedItemChanged")},selectedItemChanged:function(a){var b=this.selectedIndex;this["super"](arguments);var c=this.$.selectionBar.style;if(!this.selectedItem)return c.width=0,void(c.left=0);var d=this.$.tabsContent.getBoundingClientRect();if(this._w=d.width,this._l=d.left,d=this.selectedItem.getBoundingClientRect(),this._sw=d.width,this._sl=d.left,this._sOffsetLeft=this._sl-this._l,this.noslide||null==a)return void this.positionBarForSelected();var e=a.getBoundingClientRect(),f=5;this.$.selectionBar.classList.add("expand"),b<this.selectedIndex?(c.width=this.calcPercent(this._sl+this._sw-e.left)-f+"%",this._transitionCounter=1):(c.width=this.calcPercent(e.left+e.width-this._sl)-f+"%",c.left=this.calcPercent(this._sOffsetLeft)+f+"%",this._transitionCounter=2),this.scrollable&&this.scrollToSelectedIfNeeded()},scrollToSelectedIfNeeded:function(){var a=this.$.tabsContainer.scrollLeft;(this._sOffsetLeft+this._sw<a||this._sOffsetLeft-a>this.$.tabsContainer.offsetWidth)&&(this.$.tabsContainer.scrollLeft=this._sOffsetLeft)},positionBarForSelected:function(){var a=this.$.selectionBar.style;a.width=this.calcPercent(this._sw)+"%",a.left=this.calcPercent(this._sOffsetLeft)+"%"},calcPercent:function(a){return 100*a/this._w},barTransitionEnd:function(a){this._transitionCounter--;var b=this.$.selectionBar.classList;b.contains("expand")&&!this._transitionCounter?(b.remove("expand"),b.add("contract"),this.positionBarForSelected()):b.contains("contract")&&b.remove("contract")}},Polymer.CoreResizable)),Polymer("paper-shadow",{publish:{z:1,animated:!1},setZ:function(a){this.z!==a&&(this.$["shadow-bottom"].classList.remove("paper-shadow-bottom-z-"+this.z),this.$["shadow-bottom"].classList.add("paper-shadow-bottom-z-"+a),this.$["shadow-top"].classList.remove("paper-shadow-top-z-"+this.z),this.$["shadow-top"].classList.add("paper-shadow-top-z-"+a),this.z=a)}}),Polymer("core-key-helper",{ENTER_KEY:13,ESCAPE_KEY:27}),function(){Polymer("core-overlay-layer",{publish:{opened:!1},openedChanged:function(){this.classList.toggle("core-opened",this.opened)},addElement:function(a){if(this.parentNode||document.querySelector("body").appendChild(this),a.parentNode!==this){a.__contents=[];for(var b,c=a.querySelectorAll("content"),d=0,e=c.length;e>d&&(b=c[d]);d++)this.moveInsertedElements(b),this.cacheDomLocation(b),b.parentNode.removeChild(b),a.__contents.push(b);this.cacheDomLocation(a),this.updateEventController(a);var f=this.makeHost();f.shadowRoot.appendChild(a),a.__host=f}},makeHost:function(){var a=document.createElement("overlay-host");return a.createShadowRoot(),this.appendChild(a),a},moveInsertedElements:function(a){var b=a.getDistributedNodes(),c=a.parentNode;a.__contents=[];for(var d,e=0,f=b.length;f>e&&(d=b[e]);e++)this.cacheDomLocation(d),this.updateEventController(d),a.__contents.push(d),c.appendChild(d)},updateEventController:function(a){a.eventController=this.element.findController(a)},removeElement:function(a){a.eventController=null,this.replaceElement(a);var b=a.__host;b&&b.parentNode.removeChild(b)},replaceElement:function(a){if(a.__contents){for(var b,c=0,d=a.__contents;b=d[c];c++)this.replaceElement(b);a.__contents=null}if(a.__parentNode){var e=a.__nextElementSibling&&a.__nextElementSibling===a.__parentNode?a.__nextElementSibling:null;a.__parentNode.insertBefore(a,e)}},cacheDomLocation:function(a){a.__nextElementSibling=a.nextElementSibling,a.__parentNode=a.parentNode}})}(),function(){function a(a){var b=f();j.push(a);var d=f();b>=d&&c(a,b)}function b(a){var b=j.indexOf(a);b>=0&&(j.splice(b,1),d(a,""))}function c(a,b){d(a.target,b+2)}function d(a,b){a.style.zIndex=b}function e(){return j[j.length-1]}function f(){var a,b=e();if(b){var c=window.getComputedStyle(b.target).zIndex;isNaN(c)||(a=Number(c))}return a||k}function g(){var a=e();a&&!a.transitioning&&a.applyFocus()}function h(a){if(a.opened)l.push(a);else{var b=l.indexOf(a);b>=0&&l.splice(b,1)}}function i(){return l}Polymer("core-overlay",Polymer.mixin({publish:{target:null,sizingTarget:null,opened:!1,backdrop:!1,layered:!1,autoCloseDisabled:!1,autoFocusDisabled:!1,closeAttribute:"core-overlay-toggle",closeSelector:"",transition:"core-transition-fade"},captureEventName:"tap",targetListeners:{tap:"tapHandler",keydown:"keydownHandler","core-transitionend":"transitionend"},attached:function(){this.resizerAttachedHandler()},detached:function(){this.resizerDetachedHandler()},resizerShouldNotify:function(){return this.opened},registerCallback:function(a){this.layer=document.createElement("core-overlay-layer"),this.keyHelper=document.createElement("core-key-helper"),this.meta=document.createElement("core-transition"),this.scrim=document.createElement("div"),this.scrim.className="core-overlay-backdrop"},ready:function(){this.target=this.target||this,Polymer.flush()},toggle:function(){this.opened=!this.opened},open:function(){this.opened=!0},close:function(){this.opened=!1},domReady:function(){this.ensureTargetSetup()},targetChanged:function(a){if(this.target&&(this.target.tabIndex<0&&(this.target.tabIndex=-1),this.addElementListenerList(this.target,this.targetListeners),this.target.style.display="none",this.target.__overlaySetup=!1),a){this.removeElementListenerList(a,this.targetListeners);var b=this.getTransition();b?b.teardown(a):(a.style.position="",a.style.outline=""),a.style.display=""}},transitionChanged:function(a){this.target&&(a&&this.getTransition(a).teardown(this.target),this.target.__overlaySetup=!1)},ensureTargetSetup:function(){if(this.target&&!this.target.__overlaySetup){this.sizingTarget||(this.sizingTarget=this.target),this.target.__overlaySetup=!0,this.target.style.display="";var a=this.getTransition();a&&a.setup(this.target);var b=this.target.style,c=getComputedStyle(this.target);"static"===c.position&&(b.position="fixed"),b.outline="none",b.display="none"}},openedChanged:function(){this.transitioning=!0,this.ensureTargetSetup(),this.prepareRenderOpened(),this.async(function(){this.target.style.display="",this.target.offsetWidth,this.renderOpened()}),this.fire("core-overlay-open",this.opened)},prepareRenderOpened:function(){this.opened&&a(this),this.prepareBackdrop(),this.async(function(){this.autoCloseDisabled||this.enableElementListener(this.opened,document,this.captureEventName,"captureHandler",!0)}),this.enableElementListener(this.opened,window,"resize","resizeHandler"),this.opened&&(this.target.offsetHeight,this.discoverDimensions(),this.preparePositioning(),this.positionTarget(),this.updateTargetDimensions(),this.finishPositioning(),this.layered&&(this.layer.addElement(this.target),this.layer.opened=this.opened))},renderOpened:function(){this.notifyResize();var a=this.getTransition();a?a.go(this.target,{opened:this.opened}):this.transitionend(),this.renderBackdropOpened()},transitionend:function(a){a&&a.target!==this.target||(this.transitioning=!1,this.opened||(this.resetTargetDimensions(),this.target.style.display="none",this.completeBackdrop(),b(this),this.layered&&(e()||(this.layer.opened=this.opened),this.layer.removeElement(this.target))),this.fire("core-overlay-"+(this.opened?"open":"close")+"-completed"),this.applyFocus())},prepareBackdrop:function(){this.backdrop&&this.opened&&(this.scrim.parentNode||(document.body.appendChild(this.scrim),this.scrim.style.zIndex=f()-1),h(this))},renderBackdropOpened:function(){this.backdrop&&i().length<2&&this.scrim.classList.toggle("core-opened",this.opened)},completeBackdrop:function(){this.backdrop&&(h(this),0===i().length&&this.scrim.parentNode.removeChild(this.scrim))},preparePositioning:function(){this.target.style.transition=this.target.style.webkitTransition="none",this.target.style.transform=this.target.style.webkitTransform="none",this.target.style.display=""},discoverDimensions:function(){if(!this.dimensions){var a=getComputedStyle(this.target),b=getComputedStyle(this.sizingTarget);this.dimensions={position:{v:"auto"!==a.top?"top":"auto"!==a.bottom?"bottom":null,h:"auto"!==a.left?"left":"auto"!==a.right?"right":null,css:a.position},size:{v:"none"!==b.maxHeight,h:"none"!==b.maxWidth},margin:{top:parseInt(a.marginTop)||0,right:parseInt(a.marginRight)||0,bottom:parseInt(a.marginBottom)||0,left:parseInt(a.marginLeft)||0}}}},finishPositioning:function(a){this.target.style.display="none",this.target.style.transform=this.target.style.webkitTransform="",this.target.offsetWidth,this.target.style.transition=this.target.style.webkitTransition=""},getTransition:function(a){return this.meta.byId(a||this.transition)},getFocusNode:function(){return this.target.querySelector("[autofocus]")||this.target},applyFocus:function(){var a=this.getFocusNode();this.opened?this.autoFocusDisabled||a.focus():(a.blur(),e()==this?console.warn("Current core-overlay is attempting to focus itself as next! (bug)"):g())},positionTarget:function(){this.fire("core-overlay-position",{target:this.target,sizingTarget:this.sizingTarget,opened:this.opened}),this.dimensions.position.v||(this.target.style.top="0px"),this.dimensions.position.h||(this.target.style.left="0px")},updateTargetDimensions:function(){this.sizeTarget(),this.repositionTarget()},sizeTarget:function(){this.sizingTarget.style.boxSizing="border-box";var a=this.dimensions,b=this.target.getBoundingClientRect();a.size.v||this.sizeDimension(b,a.position.v,"top","bottom","Height"),a.size.h||this.sizeDimension(b,a.position.h,"left","right","Width")},sizeDimension:function(a,b,c,d,e){var f=this.dimensions,g=b===d,h=g?c:d,i=window["inner"+e],j=f.margin[h]+(g?i-a[d]:a[c]),k="offset"+e,l=this.target[k]-this.sizingTarget[k];this.sizingTarget.style["max"+e]=i-j-l+"px"},repositionTarget:function(){if("fixed"===this.dimensions.position.css){if(!this.dimensions.position.v){var a=(window.innerHeight-this.target.offsetHeight)/2;a-=this.dimensions.margin.top,this.target.style.top=a+"px"}if(!this.dimensions.position.h){var b=(window.innerWidth-this.target.offsetWidth)/2;b-=this.dimensions.margin.left,this.target.style.left=b+"px"}}},resetTargetDimensions:function(){this.dimensions&&this.dimensions.size.v||(this.sizingTarget.style.maxHeight="",this.target.style.top=""),this.dimensions&&this.dimensions.size.h||(this.sizingTarget.style.maxWidth="",this.target.style.left=""),this.dimensions=null},tapHandler:function(a){a.target&&this.closeSelector&&a.target.matches(this.closeSelector)||this.closeAttribute&&a.target.hasAttribute(this.closeAttribute)?this.toggle():this.autoCloseJob&&(this.autoCloseJob.stop(),this.autoCloseJob=null)},captureHandler:function(a){this.autoCloseDisabled||e()!=this||(this.autoCloseJob=this.job(this.autoCloseJob,function(){this.close()}))},keydownHandler:function(a){this.autoCloseDisabled||a.keyCode!=this.keyHelper.ESCAPE_KEY||(this.close(),a.stopPropagation())},resizeHandler:function(){this.updateTargetDimensions()},addElementListenerList:function(a,b){for(var c in b)this.addElementListener(a,c,b[c])},removeElementListenerList:function(a,b){for(var c in b)this.removeElementListener(a,c,b[c])},enableElementListener:function(a,b,c,d,e){a?this.addElementListener(b,c,d,e):this.removeElementListener(b,c,d,e)},addElementListener:function(a,b,c,d){var e=this._makeBoundListener(c);a&&e&&Polymer.addEventListener(a,b,e,d)},removeElementListener:function(a,b,c,d){var e=this._makeBoundListener(c);a&&e&&Polymer.removeEventListener(a,b,e,d)},_makeBoundListener:function(a){var b=this,c=this[a];if(c){var d="_bound"+a;return this[d]||(this[d]=function(a){c.call(b,a)}),this[d]}}},Polymer.CoreResizer));var j=[],k=10,l=[]}(),Polymer("core-transition-css",{baseClass:"core-transition",openedClass:"core-opened",closedClass:"core-closed",completeEventName:"transitionend",publish:{transitionType:null},registerCallback:function(a){this.transitionStyle=a.templateContent().firstElementChild},fetchTemplate:function(){return null},go:function(a,b){void 0!==b.opened&&this.transitionOpened(a,b.opened)},setup:function(a){a._hasTransitionStyle||(a.shadowRoot||(a.createShadowRoot().innerHTML="<content></content>"),this.installScopeStyle(this.transitionStyle,"transition",a.shadowRoot),a._hasTransitionStyle=!0),a.classList.add(this.baseClass),this.transitionType&&a.classList.add(this.baseClass+"-"+this.transitionType)},teardown:function(a){a.classList.remove(this.baseClass),this.transitionType&&a.classList.remove(this.baseClass+"-"+this.transitionType)},transitionOpened:function(a,b){this.listenOnce(a,this.completeEventName,function(){b||a.classList.remove(this.closedClass),this.complete(a)}),a.classList.toggle(this.openedClass,b),a.classList.toggle(this.closedClass,!b)}}),Polymer("paper-dialog-base",{publish:{heading:"",transition:"",layered:!0},ready:function(){this["super"](),this.sizingTarget=this.$.scroller},headingChanged:function(a){
var b=this.getAttribute("aria-label");b&&b!==a||this.setAttribute("aria-label",this.heading)},openAction:function(){this.$.scroller.scrollTop&&(this.$.scroller.scrollTop=0)}}),Polymer("paper-dialog"),Polymer("paper-action-dialog",{publish:{closeSelector:"[affirmative],[dismissive]"}}),Polymer("core-dropdown-base",{publish:{opened:!1},eventDelegates:{tap:"toggleOverlay"},overlayListeners:{"core-overlay-open":"openAction"},get dropdown(){if(!this._dropdown){this._dropdown=this.querySelector(".dropdown");for(var a in this.overlayListeners)this.addElementListener(this._dropdown,a,this.overlayListeners[a])}return this._dropdown},attached:function(){this.dropdown},addElementListener:function(a,b,c,d){var e=this._makeBoundListener(c);a&&e&&Polymer.addEventListener(a,b,e,d)},removeElementListener:function(a,b,c,d){var e=this._makeBoundListener(c);a&&e&&Polymer.removeEventListener(a,b,e,d)},_makeBoundListener:function(a){var b=this,c=this[a];if(c){var d="_bound"+a;return this[d]||(this[d]=function(a){c.call(b,a)}),this[d]}},openedChanged:function(){if(!this.disabled){var a=this.dropdown;a&&(a.opened=this.opened)}},openAction:function(a){this.opened=!!a.detail},toggleOverlay:function(a){this.dropdown.contains(a.target)||this.disabled||(this.opened=!this.opened)}}),Polymer("paper-menu-button",{overlayListeners:{"core-overlay-open":"openAction","core-activate":"activateAction"},activateAction:function(){this.opened=!1}}),function(){function a(a){var b;return((b=document.documentElement)||(b=document.body.parentNode))&&"number"==typeof b[a]?b:document.body}function b(){var b,c,d=a("clientWidth"),e=document.body;return"number"==typeof document.clientWidth?{w:document.clientWidth,h:document.clientHeight}:d===e||(b=Math.max(d.clientWidth,e.clientWidth))>self.innerWidth||(c=Math.max(d.clientHeight,e.clientHeight))>self.innerHeight?{w:e.clientWidth,h:e.clientHeight}:{w:b,h:c}}Polymer("core-dropdown",{publish:{relatedTarget:null,halign:"left",valign:"top"},measure:function(){var a=this.target,b=a.style.position;a.style.position="fixed",a.style.left="0px",a.style.top="0px";var c=a.getBoundingClientRect();return a.style.position=b,a.style.left=null,a.style.top=null,c},resetTargetDimensions:function(){var a=this.dimensions,b=this.target.style;a.position.h_by===this.localName&&(b[a.position.h]=null,a.position.h_by=null),a.position.v_by===this.localName&&(b[a.position.v]=null,a.position.v_by=null);var b=this.sizingTarget.style;b.width=null,b.height=null,this["super"]()},positionTarget:function(){if(!this.relatedTarget&&(this.relatedTarget=this.target.parentElement||this.target.parentNode&&this.target.parentNode.host,!this.relatedTarget))return void this["super"]();var a=this.sizingTarget,b=this.measure();a.style.width=Math.ceil(b.width)+"px",a.style.height=Math.ceil(b.height)+"px",this.layered?this.positionLayeredTarget():this.positionNestedTarget()},positionLayeredTarget:function(){var a=this.target,c=this.relatedTarget.getBoundingClientRect(),d=this.dimensions,e=d.margin,f=b();d.position.h||("right"===this.halign?(a.style.right=f.w-c.right-e.right+"px",d.position.h="right"):(a.style.left=c.left-e.left+"px",d.position.h="left"),d.position.h_by=this.localName),d.position.v||("bottom"===this.valign?(a.style.bottom=f.h-c.bottom-e.bottom+"px",d.position.v="bottom"):(a.style.top=c.top-e.top+"px",d.position.v="top"),d.position.v_by=this.localName),(d.position.h_by||d.position.v_by)&&(a.style.position="fixed")},positionNestedTarget:function(){var a=this.target,b=this.relatedTarget,c=a.offsetParent,d=b.offsetParent;window.ShadowDOMPolyfill&&(c=wrap(c),d=wrap(d)),c!==d&&c!==b&&console.warn("core-dropdown-overlay: dropdown's offsetParent must be the relatedTarget or the relatedTarget's offsetParent!");var e=this.dimensions,f=e.margin,g=c===b;e.position.h||("right"===this.halign?(a.style.right=(g?0:c.offsetWidth-b.offsetLeft-b.offsetWidth)-f.right+"px",e.position.h="right"):(a.style.left=(g?0:b.offsetLeft)-f.left+"px",e.position.h="left"),e.position.h_by=this.localName),e.position.v||("bottom"===this.valign?(a.style.bottom=(g?0:c.offsetHeight-b.offsetTop-b.offsetHeight)-f.bottom+"px",e.position.v="bottom"):(a.style.top=(g?0:b.offsetTop)-f.top+"px",e.position.v="top"),e.position.v_by=this.localName)}})}(),Polymer("paper-dropdown-transition",{publish:{duration:500},setup:function(a){this["super"](arguments);var b={top:"0%",left:"0%",bottom:"100%",right:"100%"},c=a.$.background;c.style.webkitTransformOrigin=b[a.halign]+" "+b[a.valign],c.style.transformOrigin=b[a.halign]+" "+b[a.valign]},transitionOpened:function(a,b){if(this["super"](arguments),b){this.player&&this.player.cancel();var c=Number(a.getAttribute("duration"))||this.duration,d=[],e=a.getBoundingClientRect(),f=a.$.ripple,g=.2;d.push(new Animation(f,[{opacity:.9,transform:"scale(0)"},{opacity:.9,transform:"scale(1)"}],{duration:c*g})),d.push(new Animation(a.$.background,[{opacity:0,transform:"scale(0)"},{opacity:0,transform:"scale(0)"}],{duration:0,delay:0,fill:"forwards"}));var h=a.$.background,i=40/e.width,j=40/e.height;d.push(new Animation(h,[{opacity:.9,transform:"scale("+i+","+j+")"},{opacity:1,transform:"scale("+Math.max(i,.95)+","+Math.max(j,.5)+")"},{opacity:1,transform:"scale(1, 1)"}],{delay:c*g,duration:c*(1-g),fill:"forwards"}));var k=a.querySelector(".menu");if(k){var l=k.items||k.children.array(),m=g+(1-g)/2,n=c*(1-m)/l.length,o="bottom"===this.valign;l.forEach(function(a,b){d.push(new Animation(a,[{opacity:0},{opacity:1}],{delay:c*m+n*(o?l.length-1-b:b),duration:n,fill:"both"}))}.bind(this)),d.push(new Animation(a.$.scroller,[{opacity:1},{opacity:1}],{delay:c*m,duration:n*l.length,fill:"both"}))}else d.push(new Animation(a.$.scroller,[{opacity:0},{opacity:1}],{delay:c*(g+(1-g)/2),duration:.5*c,fill:"both"}));var p=new AnimationGroup(d,{easing:"cubic-bezier(0.4, 0, 0.2, 1)"});this.player=document.timeline.play(p),this.player.onfinish=function(){this.fire("core-transitionend",this,a)}.bind(this)}else this.fire("core-transitionend",this,a)}}),Polymer("paper-dropdown",{publish:{transition:"paper-dropdown-transition"},ready:function(){this["super"](),this.sizingTarget=this.$.scroller}}),function(){var a={publish:{label:"Select an item",openedIcon:"arrow-drop-up",closedIcon:"arrow-drop-down"},selectedItemLabel:"",overlayListeners:{"core-overlay-open":"openAction","core-activate":"activateAction","core-select":"selectAction"},activateAction:function(a){this.opened=!1},selectAction:function(a){var b=a.detail;b.isSelected?(this.$.label.classList.add("selectedItem"),this.selectedItemLabel=b.item.label||b.item.textContent):(this.$.label.classList.remove("selectedItem"),this.selectedItemLabel="")}};Polymer.mixin2(a,Polymer.CoreFocusable),Polymer("paper-dropdown-menu",a)}(),Polymer("core-collapse",Polymer.mixin({target:null,horizontal:!1,opened:!1,duration:.33,fixedSize:!1,allowOverflow:!1,created:function(){this.transitionEndListener=this.transitionEnd.bind(this)},ready:function(){this.target=this.target||this},domReady:function(){this.async(function(){this.afterInitialUpdate=!0})},attached:function(){this.resizerAttachedHandler()},detached:function(){this.target&&this.removeListeners(this.target),this.resizableDetachedHandler()},targetChanged:function(a){a&&this.removeListeners(a),this.target&&(this.isTargetReady=!!this.target,this.classList.toggle("core-collapse-closed",this.target!==this),this.toggleOpenedStyle(!1),this.horizontalChanged(),this.addListeners(this.target),this.toggleClosedClass(!0),this.update())},addListeners:function(a){a.addEventListener("transitionend",this.transitionEndListener)},removeListeners:function(a){a.removeEventListener("transitionend",this.transitionEndListener)},horizontalChanged:function(){this.dimension=this.horizontal?"width":"height"},openedChanged:function(){this.update(),this.fire("core-collapse-open",this.opened)},toggle:function(){this.opened=!this.opened},setTransitionDuration:function(a){var b=this.target.style;b.transition=a?this.dimension+" "+a+"s":null,0===a&&this.async("transitionEnd")},transitionEnd:function(){this.opened&&!this.fixedSize&&this.updateSize("auto",null),this.setTransitionDuration(null),this.toggleOpenedStyle(this.opened),this.toggleClosedClass(!this.opened),this.asyncFire("core-resize",null,this.target),this.notifyResize()},toggleClosedClass:function(a){this.hasClosedClass=a,this.target.classList.toggle("core-collapse-closed",a)},toggleOpenedStyle:function(a){this.target.style.overflow=this.allowOverflow&&a?"":"hidden"},updateSize:function(a,b,c){this.setTransitionDuration(b),this.calcSize();var d=this.target.style,e=d[this.dimension]===a;d[this.dimension]=a,c&&e&&this.transitionEnd()},update:function(){this.target&&(this.isTargetReady||this.targetChanged(),this.horizontalChanged(),this[this.opened?"show":"hide"](),this.notifyResize())},calcSize:function(){return this.target.getBoundingClientRect()[this.dimension]+"px"},getComputedSize:function(){return getComputedStyle(this.target)[this.dimension]},show:function(){if(this.toggleClosedClass(!1),!this.afterInitialUpdate)return void this.transitionEnd();if(!this.fixedSize){this.updateSize("auto",null);var a=this.calcSize();if("0px"==a)return void this.transitionEnd();this.updateSize(0,null)}this.async(function(){this.updateSize(this.size||a,this.duration,!0)})},hide:function(){this.toggleOpenedStyle(!1),(!this.hasClosedClass||this.fixedSize)&&(this.fixedSize?this.size=this.getComputedSize():this.updateSize(this.calcSize(),null),this.async(function(){this.updateSize(0,this.duration)}))}},Polymer.CoreResizer)),function(){function a(a){return a.id||(a.id="core-label-"+b++),a.id}var b=0;Polymer("core-label",{publish:{"for":{reflect:!0,value:""}},eventDelegates:{tap:"tapHandler"},created:function(){a(this),this._forElement=null},ready:function(){this["for"]||(this._forElement=this.querySelector("[for]"),this._tie())},tapHandler:function(a){this._forElement&&a.target!==this._forElement&&(this._forElement.focus(),this._forElement.click(),this.fire("tap",null,this._forElement))},_tie:function(){this._forElement&&this._forElement.setAttribute("aria-labelledby",this.id)},_findScope:function(){for(var a=this.parentNode;a&&a.parentNode;)a=a.parentNode;return a},forChanged:function(a,b){this._forElement&&this._forElement.removeAttribute("aria-labelledby");var c=this._findScope();c&&(this._forElement=c.querySelector(b),this._forElement&&this._tie())}})}(),function(){var a=navigator.userAgent.match(/iP(?:hone|ad;(?: U;)? CPU) OS (\d+)/),b=a&&a[1]>=8;Polymer("core-list",Polymer.mixin({publish:{data:null,groups:null,scrollTarget:null,selectionEnabled:!0,multi:!1,selection:null,grid:!1,width:null,height:200,runwayFactor:4},eventDelegates:{tap:"tapHandler","core-resize":"updateSize"},_scrollTop:0,observe:{"isAttached data grid width template scrollTarget":"initialize","multi selectionEnabled":"_resetSelection"},ready:function(){this._boundScrollHandler=this.scrollHandler.bind(this),this._boundPositionItems=this._positionItems.bind(this),this._oldMulti=this.multi,this._oldSelectionEnabled=this.selectionEnabled,this._virtualStart=0,this._virtualCount=0,this._physicalStart=0,this._physicalOffset=0,this._physicalSize=0,this._physicalSizes=[],this._physicalAverage=0,this._itemSizes=[],this._dividerSizes=[],this._repositionedItems=[],this._aboveSize=0,this._nestedGroups=!1,this._groupStart=0,this._groupStartIndex=0},attached:function(){this.isAttached=!0,this.template=this.querySelector("template"),this.template.bindingDelegate||(this.template.bindingDelegate=this.element.syntax),this.resizableAttachedHandler()},detached:function(){this.isAttached=!1,this._target&&this._target.removeEventListener("scroll",this._boundScrollHandler),this.resizableDetachedHandler()},updateSize:function(){this._positionPending||this._needItemInit||(this._resetIndex(this._getFirstVisibleIndex()||0),this.initialize())},_resetSelection:function(){this._oldMulti!=this.multi&&!this.multi||this._oldSelectionEnabled!=this.selectionEnabled&&!this.selectionEnabled?(this._clearSelection(),this.refresh()):this.selection=this.$.selection.getSelection(),this._oldMulti=this.multi,this._oldSelectionEnabled=this.selectionEnabled},_adjustVirtualIndex:function(a,b){if(0!==this._targetSize){for(var c=0,d=0;d<a.length;d++){var e,f,g=a[d],h=g.index;if(b&&(e=this.data.indexOf(b),h+=this.virtualIndexForGroup(e)),h>=this._virtualStart)break;var i=Math.max(g.addedCount-g.removed.length,h-this._virtualStart);if(c+=i,this._physicalStart+=i,this._virtualStart+=i,this._grouped){if(b)f=g.index;else{var j=this.groupForVirtualIndex(g.index);e=j.group,f=j.groupIndex}e==this._groupStart&&f<this._groupStartIndex&&(this._groupStartIndex+=i)}}this._virtualStart<this._physicalCount?this._resetIndex(this._getFirstVisibleIndex()||0):(c=Math.max(c/this._rowFactor*this._physicalAverage,-this._physicalOffset),this._physicalOffset+=c,this._scrollTop=this.setScrollTop(this._scrollTop+c))}},_updateSelection:function(a){for(var b=0;b<a.length;b++)for(var c=a[b],d=0;d<c.removed.length;d++){var e=c.removed[d];this.$.selection.setItemSelected(e,!1)}},groupsChanged:function(){!!this.groups!=this._grouped&&this.updateSize()},initialize:function(){if(this.template&&this.isAttached){var a;1==arguments.length?(a=arguments[0],this._nestedGroups||this._adjustVirtualIndex(a),this._updateSelection(a)):this._clearSelection();var b=this.scrollTarget||this;this._target!==b&&this.initializeScrollTarget(b),this.initializeData(a,!1)}},initializeScrollTarget:function(a){this._target&&this._target.removeEventListener("scroll",this._boundScrollHandler,!1),this._target=a,a.addEventListener("scroll",this._boundScrollHandler,!1),a!=this&&a.setScrollTop&&a.getScrollTop?(this.setScrollTop=function(b){return a.setScrollTop(b),a.getScrollTop()},this.getScrollTop=a.getScrollTop.bind(a),this.syncScroller=a.sync?a.sync.bind(a):function(){},this.adjustPositionAllowed=!1):(this.setScrollTop=function(b){return a.scrollTop=b,a.scrollTop},this.getScrollTop=function(){return a.scrollTop},this.syncScroller=function(){},this.adjustPositionAllowed=!0),b&&(a.style.webkitOverflowScrolling="touch",this.adjustPositionAllowed=!1),this._target.style.willChange="transform","static"==getComputedStyle(this._target).position&&(this._target.style.position="relative"),this._target.style.boxSizing=this._target.style.mozBoxSizing="border-box",this.style.overflowY=a==this?"auto":null},updateGroupObservers:function(a){if(this._nestedGroups||(a=this._groupObservers&&this._groupObservers.length?[{index:0,addedCount:0,removed:this._groupObservers}]:null),this._nestedGroups&&(a=a||[{index:0,addedCount:this.data.length,removed:[]}]),a){for(var b=this._groupObservers||[],c=0;c<a.length;c++){var d,e=a[c],f=[e.index,e.removed.length];if(e.removed.length)for(d=e.index;d<e.removed.length;d++)b[d].close();if(e.addedCount)for(d=e.index;d<e.addedCount;d++){var g=new ArrayObserver(this.data[d]);f.push(g),g.open(this.getGroupDataHandler(this.data[d]))}b.splice.apply(b,f)}this._groupObservers=b}},getGroupDataHandler:function(a){return function(b){this.groupDataChanged(b,a)}.bind(this)},groupDataChanged:function(a,b){this._adjustVirtualIndex(a,b),this._updateSelection(a),this.initializeData(null,!0)},initializeData:function(a,b){var c;if(this.grid){if(!this.width)throw"Grid requires the `width` property to be set";var d=getComputedStyle(this._target),e=parseInt(d.paddingLeft||0)+parseInt(d.paddingRight||0);this._rowFactor=Math.floor((this._target.offsetWidth-e)/this.width)||1,this._rowMargin=(this._target.offsetWidth-this._rowFactor*this.width-e)/2}else this._rowFactor=1,this._rowMargin=0;if(this.data&&this.data.length)if(this.groups){if(this._grouped=!0,this._nestedGroups=Array.isArray(this.data[0]),this._nestedGroups){if(this.groups.length!=this.data.length)throw"When using nested grouped data, data.length and groups.length must agree!";for(this._virtualCount=0,c=0;c<this.groups.length;c++)this._virtualCount+=this.data[c]&&this.data[c].length}else{this._virtualCount=this.data.length;var f=0;for(c=0;c<this.groups.length;c++)f+=this.groups[c].length;if(f!=this.data.length)throw"When using groups data, the sum of group[n].length's and data.length must agree!"}var g=this.groupForVirtualIndex(this._virtualStart);this._groupStart=g.group,this._groupStartIndex=g.groupIndex}else this._grouped=!1,this._nestedGroups=!1,this._virtualCount=this.data.length;else this._virtualCount=0,this._grouped=!1,this._nestedGroups=!1;b||this.updateGroupObservers(a);var h=this._physicalCount||0,i=this._target.offsetHeight;!i&&this._target.offsetParent&&console.warn("core-list must either be sized or be inside an overflow:auto div that is sized"),this._physicalCount=Math.min(Math.ceil(i/(this._physicalAverage||this.height))*this.runwayFactor*this._rowFactor,this._virtualCount),this._physicalCount=Math.max(h,this._physicalCount),this._physicalData=this._physicalData||new Array(this._physicalCount);for(var j=!1;h<this._physicalCount;){var k=this.templateInstance?Object.create(this.templateInstance.model):{};this._physicalData[h++]=k,j=!0}this.template.model=this._physicalData,this.template.setAttribute("repeat",""),this._dir=0,this._needItemInit||(j?(this._needItemInit=!0,this.resetMetrics(),this.onMutation(this,this.initializeItems)):this.refresh())},initializeItems:function(){this._physicalItems&&this._physicalItems.length||0;this._physicalItems=this._physicalItems||[new Array(this._physicalCount)],this._physicalDividers=this._physicalDividers||new Array(this._physicalCount);for(var a=0,b=this.template.nextElementSibling;b&&a<this._physicalCount;b=b.nextElementSibling)null!=b.getAttribute("divider")?this._physicalDividers[a]=b:this._physicalItems[a++]=b;this.refresh(),this._needItemInit=!1},_updateItemData:function(a,b,c,d,e){var f,g=this._physicalItems[b],h=this._physicalData[b],i=this.dataForIndex(c,d,e);if(a||h.model!=i){if(h.model=i,h.index=c,h.physicalIndex=b,h.selected=this.selectionEnabled&&i?this._selectedData.get(i):null,this._grouped){var j=this.groups[d];h.groupModel=j&&(this._nestedGroups?j:j.data),h.groupIndex=d,h.groupItemIndex=e,g._isDivider=this.data.length&&0===e,g._isRowStart=e%this._rowFactor===0}else h.groupModel=null,h.groupIndex=null,h.groupItemIndex=null,g._isDivider=!1,g._isRowStart=c%this._rowFactor===0;g.hidden=!i;var k=this._physicalDividers[b];k&&k.hidden==g._isDivider&&(k.hidden=!g._isDivider),f=!a}else f=!1;return f||a},scrollHandler:function(){b?this._raf||(this._raf=requestAnimationFrame(function(){this._raf=null,this.refresh()}.bind(this))):this.refresh()},resetMetrics:function(){this._physicalAverage=0,this._physicalAverageCount=0},updateMetrics:function(a){for(var b=0,c=0,d=0;d<this._physicalCount;d++){var e=this._physicalItems[d];if(!e.hidden){var f=this._itemSizes[d]=e.offsetHeight;if(e._isDivider){var g=this._physicalDividers[d];g&&(f+=this._dividerSizes[d]=g.offsetHeight)}this._physicalSizes[d]=f,e._isRowStart&&(b+=f,c++)}}this._physicalSize=b,this._viewportSize=this.$.viewport.offsetHeight,this._targetSize=this._target.offsetHeight,this._target!=this?this._aboveSize=this.offsetTop:this._aboveSize=parseInt(getComputedStyle(this._target).paddingTop),c&&(b=this._physicalAverage*this._physicalAverageCount+b,this._physicalAverageCount+=c,this._physicalAverage=Math.round(b/this._physicalAverageCount))},getGroupLen:function(a){return a=arguments.length?a:this._groupStart,this._nestedGroups?this.data[a].length:this.groups[a].length},changeStartIndex:function(a){if(this._virtualStart+=a,this._grouped){for(;a>0;){var b=this.getGroupLen()-this._groupStartIndex-1;a>b?(a-=b+1,this._groupStart++,this._groupStartIndex=0):(this._groupStartIndex+=a,a=0)}for(;0>a;)-a>this._groupStartIndex?(a+=this._groupStartIndex,this._groupStart--,this._groupStartIndex=this.getGroupLen()):(this._groupStartIndex+=a,a=this.getGroupLen())}this.grid&&(a=this._grouped?this._groupStartIndex%this._rowFactor:this._virtualStart%this._rowFactor,a&&this.changeStartIndex(-a))},getRowCount:function(a){if(this.grid){if(this._grouped){if(0>a){if(this._groupStartIndex>0)return-Math.min(this._rowFactor,this._groupStartIndex);var b=this.getGroupLen(this._groupStart-1);return-Math.min(this._rowFactor,b%this._rowFactor||this._rowFactor)}return Math.min(this._rowFactor,this.getGroupLen()-this._groupStartIndex)}return a*this._rowFactor}return a},_virtualToPhysical:function(a){var b=(a-this._physicalStart)%this._physicalCount;return 0>b?this._physicalCount+b:b},groupForVirtualIndex:function(a){if(this._grouped){var b;for(b=0;b<this.groups.length;b++){var c=this.getGroupLen(b);if(c>a)break;a-=c}return{group:b,groupIndex:a}}return{}},virtualIndexForGroup:function(a,b){for(b=b?Math.min(b,this.getGroupLen(a)):0,a--;a>=0;)b+=this.getGroupLen(a--);return b},dataForIndex:function(a,b,c){if(this.data){if(!this._nestedGroups)return this.data[a];if(a<this._virtualCount)return this.data[b][c]}},refresh:function(){var a,b,c=this._scrollTop;this._scrollTop=this.getScrollTop();var d=this._scrollTop-c;if(this._dir=0>d?-1:d>0?1:0,Math.abs(d)>Math.max(this._physicalSize,this._targetSize))b=Math.round(d/this._physicalAverage*this._rowFactor),b=Math.max(b,-this._virtualStart),b=Math.min(b,this._virtualCount-this._virtualStart-1),this._physicalOffset+=Math.max(d,-this._physicalOffset),this.changeStartIndex(b);else{var e=this._aboveSize+this._physicalOffset,f=.3*Math.max((this._physicalSize-this._targetSize,this._physicalSize));this._upperBound=e+f,this._lowerBound=e+this._physicalSize-this._targetSize-f;var g=this._dir>0?this._upperBound:this._lowerBound;if(this._dir>0&&this._scrollTop>g||this._dir<0&&this._scrollTop<g){var h=Math.abs(this._scrollTop-g);for(a=0;a<this._physicalCount&&h>0&&(this._dir<0&&this._virtualStart>0||this._dir>0&&this._virtualStart<this._virtualCount-this._physicalCount);a++){var i=this._virtualToPhysical(this._dir>0?this._virtualStart:this._virtualStart+this._physicalCount-1),j=this._physicalSizes[i];h-=j;var k=this.getRowCount(this._dir);this._dir>0&&(this._physicalOffset+=j),this.changeStartIndex(k),this._dir<0&&this._repositionedItems.push(this._virtualStart)}}}this._updateItems(!d)&&(Observer.hasObjectObserve?this.async(this._boundPositionItems):(Platform.flush(),Platform.endOfMicrotask(this._boundPositionItems)))},_updateItems:function(a){var b,c,d,e=!1,f=this._groupStart,g=this._groupStartIndex;for(b=0;b<this._physicalCount;++b)c=this._virtualStart+b,d=this._virtualToPhysical(c),e=this._updateItemData(a,d,c,f,g)||e,g++,this.groups&&f<this.groups.length-1&&g>=this.getGroupLen(f)&&(g=0,f++);return e},_positionItems:function(){var a,b,c,d;if(this.updateMetrics(),this._dir<0){for(;this._repositionedItems.length;)b=this._repositionedItems.pop(),c=this._virtualToPhysical(b),this._physicalOffset-=this._physicalSizes[c];this._scrollTop+this._targetSize<this._viewportSize&&this._updateScrollPosition(this._scrollTop)}var e,f=0,g=this._rowMargin,h=this._physicalOffset,i=0;for(a=0;a<this._physicalCount;++a)b=this._virtualStart+a,c=this._virtualToPhysical(b),d=this._physicalItems[c],d._isDivider&&(0!==f&&(h+=i,f=0),e=this._physicalDividers[c],g=this._rowMargin,!e||e._translateX==g&&e._translateY==h||(e.style.opacity=1,this.grid&&(e.style.width=this.width*this._rowFactor+"px"),e.style.transform=e.style.webkitTransform="translate3d("+g+"px,"+h+"px,0)",e._translateX=g,e._translateY=h),h+=this._dividerSizes[c]),(d._translateX!=g||d._translateY!=h)&&(d.style.opacity=1,d.style.transform=d.style.webkitTransform="translate3d("+g+"px,"+h+"px,0)",d._translateX=g,d._translateY=h),i=this._itemSizes[c],this.grid?(f++,f>=this._rowFactor&&(f=0,h+=i),g=this._rowMargin+f*this.width):h+=i;this._scrollTop>=0&&this._updateViewportHeight()},_updateViewportHeight:function(){var a=Math.max(this._virtualCount-this._virtualStart-this._physicalCount,0);a=Math.ceil(a/this._rowFactor);var b=this._physicalOffset+this._physicalSize+a*this._physicalAverage;this._viewportSize!=b&&(this._viewportSize=b,this.$.viewport.style.height=this._viewportSize+"px",this.syncScroller())},_updateScrollPosition:function(a){var b=0===this._virtualStart?this._physicalOffset:Math.min(a+this._physicalOffset,0);b&&(this.adjustPositionAllowed&&(this._scrollTop=this.setScrollTop(a-b)),this._physicalOffset-=b)},tapHandler:function(a){var b=a.target,c=a.path;this.selectionEnabled&&b!==this&&requestAnimationFrame(function(){var a=window.ShadowDOMPolyfill?wrap(document.activeElement):this.shadowRoot.activeElement;if((!a||a==this||a.parentElement==this||document.activeElement==document.body)&&"input"!=c[0].localName&&"button"!=c[0].localName&&"select"!=c[0].localName){var d=b.templateInstance&&b.templateInstance.model;if(d){var e=this.dataForIndex(d.index,d.groupIndex,d.groupItemIndex),f=this._physicalItems[d.physicalIndex];this.multi||e!=this.selection?this.$.selection.select(e):this.$.selection.select(null),this.asyncFire("core-activate",{data:e,item:f})}}}.bind(this))},selectedHandler:function(a,b){this.selection=this.$.selection.getSelection();var c=this.indexesForData(b.item);this._selectedData.set(b.item,b.isSelected),c.physical>=0&&c.virtual>=0&&this.refresh()},selectItem:function(a){if(this.selectionEnabled){var b=this.data[a];b&&this.$.selection.select(b)}},setItemSelected:function(a,b){var c=this.data[a];c&&this.$.selection.setItemSelected(c,b)},indexesForData:function(a){var b=-1,c=0;if(this._nestedGroups)for(var d=0;d<this.groups.length;d++){if(b=this.data[d].indexOf(a),!(0>b)){b+=c;break}c+=this.data[d].length}else b=this.data.indexOf(a);var e=this.virtualToPhysicalIndex(b);return{virtual:b,physical:e}},virtualToPhysicalIndex:function(a){for(var b=0,c=this._physicalData.length;c>b;b++)if(this._physicalData[b].index===a)return b;return-1},clearSelection:function(){this._clearSelection(),this.refresh()},_clearSelection:function(){this._selectedData=new WeakMap,this.$.selection.clear(),this.selection=this.$.selection.getSelection()},_getFirstVisibleIndex:function(){for(var a=0;a<this._physicalCount;a++){var b=this._virtualStart+a,c=this._virtualToPhysical(b),d=this._physicalItems[c];if(!d.hidden&&d._translateY>=this._scrollTop-this._aboveSize)return b}},_resetIndex:function(a){a=Math.min(a,this._virtualCount-1),a=Math.max(a,0),this.changeStartIndex(a-this._virtualStart),this._scrollTop=this.setScrollTop(this._aboveSize+a/this._rowFactor*this._physicalAverage),this._physicalOffset=this._scrollTop-this._aboveSize,this._dir=0},scrollToItem:function(a){this.scrollToGroupItem(null,a)},scrollToGroup:function(a){this.scrollToGroupItem(a,0)},scrollToGroupItem:function(a,b){null!=a&&(b=this.virtualIndexForGroup(a,b)),this._resetIndex(b),this.refresh()}},Polymer.CoreResizable))}(),function(){function a(a,b){return b&&"Infinity"===a?Number.POSITIVE_INFINITY:Number(a)}Polymer("core-animation",{publish:{target:{value:null,reflect:!0},keyframes:{value:null,reflect:!0},customEffect:{value:null,reflect:!0},composite:{value:"replace",reflect:!0},duration:{value:"auto",reflect:!0},fill:{value:"auto",reflect:!0},easing:{value:"linear",reflect:!0},delay:{value:0,reflect:!0},endDelay:{value:0,reflect:!0},iterations:{value:1,reflect:!0},iterationStart:{value:0,reflect:!0},iterationComposite:{value:"replace",reflect:!0},direction:{value:"normal",reflect:!0},playbackRate:{value:1,reflect:!0},autoplay:{value:!1,reflect:!0}},animation:!1,observe:{target:"apply",keyframes:"apply",customEffect:"apply",composite:"apply",duration:"apply",fill:"apply",easing:"apply",iterations:"apply",iterationStart:"apply",iterationComposite:"apply",delay:"apply",endDelay:"apply",direction:"apply",playbackRate:"apply",autoplay:"apply"},ready:function(){this.apply()},play:function(){return this.apply(),this.animation&&!this.autoplay?(this.player=document.timeline.play(this.animation),this.player.onfinish=this.animationFinishHandler.bind(this),this.player):void 0},cancel:function(){this.player&&this.player.cancel()},finish:function(){this.player&&this.player.finish()},pause:function(){this.player&&this.player.pause()},hasTarget:function(){return null!==this.target},apply:function(){return this.animation=this.makeAnimation(),this.autoplay&&this.animation&&this.play(),this.animation},makeSingleAnimation:function(a){return a.classList.add("core-animation-target"),new Animation(a,this.animationEffect,this.timingProps)},makeAnimation:function(){if(!this.target)return null;var a;if(Array.isArray(this.target)){var b=[];this.target.forEach(function(a){b.push(this.makeSingleAnimation(a))}.bind(this)),a=new AnimationGroup(b)}else a=this.makeSingleAnimation(this.target);return a},animationChanged:function(){this.fire("core-animation-change",this)},targetChanged:function(a){a&&a.classList.remove("core-animation-target")},get timingProps(){var b={},c={delay:{isNumber:!0},endDelay:{isNumber:!0},fill:{},iterationStart:{isNumber:!0},iterations:{isNumber:!0,allowInfinity:!0},duration:{isNumber:!0},playbackRate:{isNumber:!0},direction:{},easing:{}};for(t in c)if(null!==this[t]){var d=c[t].property||t;b[d]=c[t].isNumber&&"auto"!==this[t]?a(this[t],c[t].allowInfinity):this[t]}return b},get animationEffect(){var a,b=[];if(this.keyframes)b=this.keyframes;else if(!this.customEffect){var c=this.querySelectorAll("core-animation-keyframe");0===c.length&&this.shadowRoot&&(c=this.shadowRoot.querySelectorAll("core-animation-keyframe")),Array.prototype.forEach.call(c,function(a){b.push(a.properties)})}return a=this.customEffect?this.customEffect:b},animationFinishHandler:function(){this.fire("core-animation-finish")}})}(),Polymer("core-animation-keyframe",{publish:{offset:{value:null,reflect:!0}},get properties(){var a={},b=this.querySelectorAll("core-animation-prop");return Array.prototype.forEach.call(b,function(b){a[b.name]=b.value}),null!==this.offset&&(a.offset=this.offset),a}}),Polymer("core-animation-prop",{publish:{name:{value:"",reflect:!0},value:{value:"",reflect:!0}}}),Polymer("core-item",{}),function(){var a={label:null,eventDelegates:{"core-resize":"positionChanged"},computed:{hasTooltipContent:"label || !!tipElement"},publish:{show:{value:!1,reflect:!0},position:{value:"bottom",reflect:!0},noarrow:{value:!1,reflect:!0}},tipAttribute:"tip",attached:function(){this.updatedChildren(),this.resizableAttachedHandler()},detached:function(){this.resizableDetachedHandler()},updatedChildren:function(){this.tipElement=null;for(var a,b=0;a=this.$.c.getDistributedNodes()[b];++b)if(a.hasAttribute&&a.hasAttribute(this.tipAttribute)){this.tipElement=a;break}this.job("positionJob",this.setPosition),this.onMutation(this,this.updatedChildren)},labelChanged:function(a,b){this.job("positionJob",this.setPosition)},positionChanged:function(a,b){this.job("positionJob",this.setPosition)},setPosition:function(){var a=this.clientWidth,b=this.clientHeight,c=this.$.tooltip.clientWidth,d=this.$.tooltip.clientHeight;switch(this.position){case"top":case"bottom":this.$.tooltip.style.left=(a-c)/2+"px",this.$.tooltip.style.top=null;break;case"left":case"right":this.$.tooltip.style.left=null,this.$.tooltip.style.top=(b-d)/2+"px"}}};Polymer.mixin2(a,Polymer.CoreFocusable),Polymer.mixin(a,Polymer.CoreResizable),Polymer("core-tooltip",a)}(),Polymer("paper-item",{publish:{raised:!1,recenteringTouch:!1,fill:!0}}),Polymer("core-xhr",{request:function(a){var b=new XMLHttpRequest,c=a.url,d=a.method||"GET",e=!a.sync,f=this.toQueryString(a.params);f&&"GET"==d.toUpperCase()&&(c+=(c.indexOf("?")>0?"&":"?")+f);var g=this.isBodyMethod(d)?a.body||f:null;return b.open(d,c,e),a.responseType&&(b.responseType=a.responseType),a.withCredentials&&(b.withCredentials=!0),this.makeReadyStateHandler(b,a.callback),this.setRequestHeaders(b,a.headers),b.send(g),e||b.onreadystatechange(b),b},toQueryString:function(a){var b=[];for(var c in a){var d=a[c];c=encodeURIComponent(c),b.push(null==d?c:c+"="+encodeURIComponent(d))}return b.join("&")},isBodyMethod:function(a){return this.bodyMethods[(a||"").toUpperCase()]},bodyMethods:{POST:1,PUT:1,PATCH:1,DELETE:1},makeReadyStateHandler:function(a,b){a.onreadystatechange=function(){4==a.readyState&&b&&b.call(null,a.response,a)}},setRequestHeaders:function(a,b){if(b)for(var c in b)a.setRequestHeader(c,b[c]);
}}),Polymer("core-ajax",{url:"",handleAs:"",auto:!1,params:"",response:null,error:null,loading:!1,progress:null,method:"",headers:null,body:null,contentType:"application/x-www-form-urlencoded",withCredentials:!1,xhrArgs:null,created:function(){this.progress={}},ready:function(){this.xhr=document.createElement("core-xhr")},receive:function(a,b){this.isSuccess(b)?this.processResponse(b):this.processError(b),this.complete(b)},isSuccess:function(a){var b=a.status||0;return b>=200&&300>b},processResponse:function(a){var b=this.evalResponse(a);a===this.activeRequest&&(this.response=b),this.fire("core-response",{response:b,xhr:a})},processError:function(a){var b=this.evalResponse(a),c={statusCode:a.status,response:b};a===this.activeRequest&&(this.error=c),this.fire("core-error",{response:c,xhr:a})},processProgress:function(a,b){if(b===this.activeRequest){var c={lengthComputable:a.lengthComputable,loaded:a.loaded,total:a.total};this.progress=c}},complete:function(a){a===this.activeRequest&&(this.loading=!1),this.fire("core-complete",{response:a.status,xhr:a})},evalResponse:function(a){return this[(this.handleAs||"text")+"Handler"](a)},xmlHandler:function(a){return a.responseXML},textHandler:function(a){return a.responseText},jsonHandler:function(a){var b=a.responseText;try{return JSON.parse(b)}catch(c){return console.warn("core-ajax caught an exception trying to parse response as JSON:"),console.warn("url:",this.url),console.warn(c),b}},documentHandler:function(a){return a.response},blobHandler:function(a){return a.response},arraybufferHandler:function(a){return a.response},urlChanged:function(){if(!this.handleAs){var a=String(this.url).split(".").pop();switch(a){case"json":this.handleAs="json"}}this.autoGo()},paramsChanged:function(){this.autoGo()},bodyChanged:function(){this.autoGo()},autoChanged:function(){this.autoGo()},autoGo:function(){this.auto&&(this.goJob=this.job(this.goJob,this.go,0))},getParams:function(a){return a=this.params||a,a&&"string"==typeof a&&(a=JSON.parse(a)),a},go:function(){var a=this.xhrArgs||{};a.body=this.body||a.body,a.params=this.getParams(a.params),a.headers=this.headers||a.headers||{},a.headers&&"string"==typeof a.headers&&(a.headers=JSON.parse(a.headers));var b=Object.keys(a.headers).some(function(a){return"content-type"===a.toLowerCase()});if(a.body instanceof FormData?delete a.headers["Content-Type"]:!b&&this.contentType&&(a.headers["Content-Type"]=this.contentType),("arraybuffer"===this.handleAs||"blob"===this.handleAs||"document"===this.handleAs)&&(a.responseType=this.handleAs),a.withCredentials=this.withCredentials,a.callback=this.receive.bind(this),a.url=this.url,a.method=this.method,this.response=this.error=this.progress=null,this.activeRequest=a.url&&this.xhr.request(a),this.activeRequest){this.loading=!0;var c=this.activeRequest;"onprogress"in c?this.activeRequest.addEventListener("progress",function(a){this.processProgress(a,c)}.bind(this),!1):this.progress={lengthComputable:!1}}return this.activeRequest},abort:function(){this.activeRequest&&(this.activeRequest.abort(),this.activeRequest=null,this.progress={},this.loading=!1)}}),function(){"use strict";function a(a){console.log("Creating objectStore"),a.createObjectStore(m)}function b(a,d){("."===d[0]||""===d[0])&&(d=d.slice(1)),a.getDirectory(d[0],{create:!0},function(a){d.length&&b(a,d.slice(1))},c)}function c(a){var b="";switch(a.code){case FileError.QUOTA_EXCEEDED_ERR:b="QUOTA_EXCEEDED_ERR";break;case FileError.NOT_FOUND_ERR:b="NOT_FOUND_ERR";break;case FileError.SECURITY_ERR:b="SECURITY_ERR";break;case FileError.INVALID_MODIFICATION_ERR:b="INVALID_MODIFICATION_ERR";break;case FileError.INVALID_STATE_ERR:b="INVALID_STATE_ERR";break;default:b="Unknown Error"}console.log("Error: "+b)}function d(a){console.error(a)}function e(a){return chrome.i18n.getMessage(a)}function f(a){var b=new ColorThief;return b.getPalette(a,4)}function g(a){return parseInt(a,16)>8388607.5?"black":"white"}function h(a){var b=a.toString(16);return 1===b.length?"0"+b:b}function i(a,b,c){return h(a)+h(b)+h(c)}var j=document.querySelector("#tmpl");window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem;var k=window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.OIndexedDB||window.msIndexedDB,l=1,m="metaData";j.dbname=m,j.createObjectStore=a;var n;String.prototype.hexEncode=function(){for(var a,b="",c=0;c<this.length;){for(a=this.charCodeAt(c++).toString(16);a.length<2;)a=a;b+=a}return"enc:"+b},Polymer("app-globals",{texts:{fromStart:e("fromStart"),playFrom:e("playFrom"),hasBookmark:e("hasBookmark"),moreLikeThis:e("moreLikeThis"),backButton:e("backButton"),playTrackLabel:e("playTrack"),moreOptionsLabel:e("moreOptionsLabel"),closeLabel:e("closeLabel"),add2PlayQueue:e("add2PlayQueue"),favoriteAlbum:e("favoriteAlbum"),downloadButton:e("downloadButton"),albumTracklist:e("albumTracklist"),deletebookMarkConfirm:e("deletebookMarkConfirm"),accept:e("accept"),decline:e("decline"),added2Queue:e("added2Queue"),noResults:e("noResults"),noFavoriteHeader:e("noFavoriteHeader"),noFavoriteMessage:e("noFavoriteMessage"),addContent:e("addContent"),addPodcasts:e("addPodcasts"),addAlbums:e("addAlbums"),addPodcast:e("addPodcast"),foundHere:e("foundHere"),deleteLabel:e("deleteLabel"),playPodcastLabel:e("playPodcast"),removeDownloadLabel:e("removeDownloadLabel"),saveFileLabel:e("saveFileLabel"),pauseDownload:e("abortDownload"),label:e("nowPlayingTitle"),appName:e("appName"),appDesc:e("appDesc"),folderSelector:e("folderSelector"),shuffleButton:e("shuffleButton"),artistButton:e("artistButton"),podcastButton:e("podcastButton"),favoritesButton:e("favoritesButton"),searchButton:e("searchButton"),settingsButton:e("settingsButton"),nowPlayingLabel:e("nowPlayingLabel"),folderSelectorLabel:e("folderSelectorLabel"),clearQueue:e("clearQueue"),volumeLabel:e("volumeLabel"),analistics:e("analistics"),shuffleOptionsLabel:e("shuffleOptionsLabel"),optional:e("optional"),artistLabel:e("artistLabel"),albumLabel:e("albumLabel"),genreLabel:e("genreLabel"),songReturn:e("songReturn"),playButton:e("playButton"),yearError:e("yearError"),releasedAfter:e("releasedAfter"),releasedBefore:e("releasedBefore"),submitButton:e("submitButton"),deleteConfirm:e("deleteConfirm"),urlError:e("urlError"),podcastSubmissionLabel:e("podcastSubmissionLabel"),diskUsed:e("diskUsed"),diskRemaining:e("diskRemaining"),playlistsButton:e("playlistsButton"),createPlaylistLabel:e("createPlaylistLabel"),playlistLabel:e("playlistLabel"),reloadAppLabel:e("reloadApp"),settingsDeleted:e("settingsDeleted"),recommendReload:e("recommendReload"),jumpToLabel:e("jumpToLabel"),refreshPodcastLabel:e("refreshPodcast"),registeredEmail:e("registeredEmail"),licenseKey:e("licenseKey"),keyDate:e("keyDate"),validLicense:e("validLicense"),invalidLicense:e("invalidLicense"),adjustVolumeLabel:e("adjustVolumeLabel"),showDownloads:e("showDownloads"),shuffleList:e("shuffleList"),randomized:e("randomized"),markCreated:e("markCreated"),bookmarks:e("bookmarks"),createBookmarkText:e("createBookmark"),toggleList:e("toggleList"),playlists:e("playlists"),downloads:e("downloads"),repeatText:e("repeatText"),md5:e("md5"),precache:e("precache"),urlLabel:e("urlLabel"),usernameError:e("usernameError"),usernameLabel:e("usernameLabel"),passwordLabel:e("passwordLabel"),showPass:e("showPass"),hideThePass:e("hidePass"),bitrateLabel:e("bitrateLabel"),anonStats:e("anonStats"),autoBookmark:e("autoBookmark"),cacheDetails:e("cacheDetails"),clearCacheLabel:e("clearCacheLabel"),clearSettingsLabel:e("clearSettingsLabel"),licenseInfoLink:e("licenseInfoLink"),showLicenseLabel:e("showLicenseLabel"),configLabel:e("configLabel"),useThis:e("useThis"),testButton:e("testButton"),moreByArtist:e("moreByArtist"),queryMethodLabel:e("queryMethodLabel"),indexesLabel:e("indexesLabel"),apiVersion:e("apiVersion"),connect:e("connect"),connectSave:e("connectSave"),attemptError:e("attemptError"),saveButton:e("saveButton"),cancelButton:e("cancelButton"),editButton:e("editButton"),exportButton:e("exportButton"),querySizeLabel:e("querySizeLabel"),deleteAllbookMarkConfirm:e("deleteAllbookMarkConfirm"),resumePlaylist:e("resumePlaylist")},openIndexedDB:function(){return new Promise(function(b,c){var d=k.open(m,l);d.onerror=function(a){c(a),console.log("Error creating/accessing IndexedDB database")},d.onsuccess=function(){if(console.log("Success creating/accessing IndexedDB database"),b(),n=this.result,j.db=n,n.setVersion&&n.version!==l){var c=n.setVersion(l);c.onsuccess=function(){a(n)}}},d.onupgradeneeded=function(c){b(),a(c.target.result)}})},initFS:function(){return new Promise(function(a,c){navigator.webkitPersistentStorage.requestQuota(536870912,function(d){window.requestFileSystem(PERSISTENT,d,function(c){j.filePath=encodeURIComponent(j.url)+"/"+encodeURIComponent(j.user),j.fs=c,c.root.getDirectory(j.filePath,{create:!0},function(b){console.log("Opened file system: "+c.name+"/"+j.filePath),a()},function(){console.log("Creating file system: "+c.name+"/"+j.filePath),b(c.root,j.filePath.split("/")),a()})},c)},c)})},formatBytes:function(a){return 1024>a?a+" Bytes":1048576>a?(a/1024).toFixed(2)+" KB":1073741824>a?(a/1048576).toFixed(2)+" MB":(a/1073741824).toFixed(2)+" GB"},secondsToMins:function(a){var b=Math.floor(a/60);return b+":"+("0"+Math.floor(a-60*b)).slice(-2)},attachAnimation:function(a){var b=new CoreAnimation;return b.duration=1e3,b.iterations="Infinity",b.keyframes=[{opacity:1},{opacity:0}],b.target=a,b},makeToast:function(a){var b=j.$.toast;b.text=a,b.show()},closeDrawer:function(){return new Promise(function(a,b){j.dataLoading=!0,j.$.panel.closeDrawer(),j.async(a)})},doXhr:function(a,b){return new Promise(function(c,d){var f=new XMLHttpRequest;f.open("GET",a,!0),f.responseType=b,f.onload=c,f.onerror=function(a){d(a),j.$.globals.makeToast(e("connectionError")),document.querySelector("#loader").classList.contains("hide")||j.$.firstRun.open(),j.dataLoading=!1,console.error(a)},f.send(),j.lastRequest=f})},_putInDb:function(a,b){return new Promise(function(c,d){var e=n.transaction([m],"readwrite");b&&(e.objectStore(m).put(a,b),e.objectStore(m).get(b).onsuccess=function(a){c(a.target.result)})})},getDbItem:function(a){return new Promise(function(b,c){if(a){var d=n.transaction([m],"readwrite"),e=d.objectStore(m).get(a);e.onsuccess=b,e.onerror=c}})},_getImageFile:function(a){return new Promise(function(b,d){var e=this.buildUrl("getCoverArt",{size:550,id:a}),f=a+".jpg";this.doXhr(e,"blob").then(function(a){j.fs.root.getFile(j.filePath+"/"+f,{create:!0},function(e){e.createWriter(function(c){c.onwriteend=function(a){j.fs.root.getFile(j.filePath+"/"+f,{create:!1},function(a){b(a.toURL())},d)},c.onerror=function(a){d(a),console.log("Write failed: "+a.toString())};var e=new Blob([a.target.response],{type:"image/jpeg"});c.write(e)}.bind(this),c)}.bind(this),c)}.bind(this))}.bind(this))},_fetchArtistHeaderImage:function(a,b){return new Promise(function(c,d){j.fs.root.getFile(j.filePath+"/artist-"+b+".jpg",{create:!1,exclusive:!0},function(a){this.getDbItem("artist-"+b+"-palette").then(function(b){var d=b.target.result;c({url:a.toURL(),fabBgColor:d[0],fabColor:d[1]})}.bind(this))}.bind(this),function(){this.doXhr(a,"blob").then(this._resizeLargeImage).then(function(a){this._saveArtistImage(a,b).then(function(a){this._stealColor(a,"artist-"+b).then(function(b){c({url:a,fabBgColor:b[0],fabColor:b[1]})})}.bind(this))}.bind(this))}.bind(this))}.bind(this))},_resizeLargeImage:function(a){return new Promise(function(b,c){var d=800,e=a.target.response,f=new Image;f.src=window.URL.createObjectURL(e),f.onload=function(){if(window.URL.revokeObjectURL(f.src),f.remove(),f.width>d){var a=Math.abs(d/f.width),c=document.createElement("canvas");c.width=Math.abs(f.width*a),c.height=Math.abs(f.height*a);var g=c.getContext("2d");g.drawImage(f,0,0,c.width,c.height),c.toBlob(function(a){c.remove(),b(a)},"image/jpeg")}else b(e)}})},_cropImage:function(a,b){return new Promise(function(c,d){var e=808,f=Math.abs(e/21),g=Math.abs(9*f),h=new Image;h.src=a,h.onload=function(){h.remove(),SmartCrop.crop(h,{width:e,height:g},function(a){var d=document.createElement("canvas");d.width=e,d.height=g;var f=d.getContext("2d"),i=function(b){return b?a.crops[b]:a.crops[1]}(b);f.drawImage(h,i.x,i.y,i.width,i.height,0,0,e,g);var j=d.toDataURL("image/jpg");d.remove(),c(j)})}})},_saveArtistImage:function(a,b){return new Promise(function(d,e){var f=j.filePath+"/artist-"+b+".jpg";j.fs.root.getFile(f,{create:!0},function(b){b.createWriter(function(b){b.onwriteend=function(a){j.fs.root.getFile(f,{create:!1},function(a){d(a.toURL())},e)},b.onerror=function(a){e(a),console.log("Write failed: "+a.toString())};var c=new Blob([a],{type:"image/jpeg"});b.write(c)},c)},c)})},fetchImage:function(a){return new Promise(function(b,c){j.fs.root.getFile(j.filePath+"/"+a+".jpg",{create:!1,exclusive:!0},function(a){b(a.toURL())}.bind(this),function(){this._getImageFile(a).then(function(c){this._stealColor(c,a).then(function(){b(c)})}.bind(this))}.bind(this))}.bind(this))},_stealColor:function(a,b){return new Promise(function(c,d){if(b){var e=new Image;e.src=a,e.onload=function(){e.remove();var a=1,d=f(e),h=[],j=d[a][0],k=d[a][1],l=d[a][2],m=i(j,k,l);h[0]="rgb("+j+","+k+","+l+");",h[1]=g(m),h[2]="rgba("+j+","+k+","+l+",0.4);",h[3]=function(){return"white"!==h[1]?"#444444":"#c8c8c8"}(),this._putInDb(h,b+"-palette").then(c)}.bind(this)}}.bind(this))},playListIndex:function(a){j.playing===a?j.$.player.playAudio(j.playlist[a]):j.playing=a},_waitForIO:function(a){return new Promise(function(b,c){var d=Date.now(),e=function(){return a.readyState===a.WRITING&&Date.now()-d<4e3?void setTimeout(e,100):void(a.readyState===a.WRITING?(console.error("Write operation taking too long, aborting! (current writer readyState is "+a.readyState+")"),a.abort()):b())};setTimeout(e,100)})},_writeFileEntry:function(a,b){return new Promise(function(c,e){a.createWriter(function(a){a.onerror=e,a.onwriteend=c,a.truncate(b.size),this._waitForIO(a).then(function(){a.seek(0),a.write(b)})}.bind(this),d)}.bind(this))},readAsText:function(a){return new Promise(function(b,c){a.file(function(a){var c=new FileReader;c.onerror=d,c.onload=function(a){b(a.target.result)},c.readAsText(a)})})},loadFileEntry:function(a){return new Promise(function(b,c){a?a.file(function(c){this.readAsText(a).then(function(a){b(a)})}.bind(this)):c()}.bind(this))},makeSalt:function(a){for(var b="",c="ABCD/EFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",d=0;a>d;d++)b+=c.charAt(Math.floor(Math.random()*c.length));return b},toQueryString:function(a){var b=[];for(var c in a)c=encodeURIComponent(c),b.push(null===a[c]?c:c+"="+encodeURIComponent(a[c]));return b.join("&")},buildUrl:function(a,b){return null!==b&&"object"==typeof b&&(b="&"+this.toQueryString(b)),j.user!==j.params.u&&(j.params.u=j.user),j.version!==j.params.v&&(j.params.v=j.version),b||(b=""),versionCompare(j.version,"1.13.0")>=0&&j.md5Auth?(j.params.p&&delete j.params.p,j.params.s=this.makeSalt(16),j.params.t=md5(j.pass+j.params.s),j.url+"/rest/"+a+".view?"+this.toQueryString(j.params)+b):(j.params.t&&(delete j.params.t,delete j.params.s),j.params.p=j.pass.hexEncode(),j.url+"/rest/"+a+".view?"+this.toQueryString(j.params)+b)}})}(),function(){"use strict";Polymer("album-art",{imgURL:"",defaultImgURL:"../../../images/default-cover-art.png",albumSize:0,showingDetails:!1,isLoading:!1,mouseIn:function(a,b,c){c.setZ(2)},mouseOut:function(a,b,c){c.setZ(1)},ready:function(){this.artist=this.artist||"Artist Name",this.album=this.album||"Album Title",this.app=document.getElementById("tmpl"),this.app.colorThiefAlbum=this.app.colorThiefAlbum||"#db4437",this.app.colorThiefAlbumOff=this.app.colorThiefAlbumOff||"white"},setImage:function(a){this.$.card.style.backgroundImage="url('"+a+"')",this.$.smallCover.style.backgroundImage="url('"+a+"')",this.isLoading=!1,this.imgURL=a},showDialog:function(){this.async(function(){this.app.dataLoading=!0,this.app.tracker.sendAppView("Album Details"),this.playlist[0].palette&&(this.app.colorThiefAlbum=this.playlist[0].palette[0],this.app.colorThiefAlbumOff=this.playlist[0].palette[1]);var a=this.app.$.albumDialog;a.details={album:this.album,artist:this.artist,cover:this.imgURL,palette:this.palette,id:this.item,isFavorite:this.isFavorite,size:this.albumSize,tracks:this.playlist,artistId:this.artistId},a.opened=!0,this.app.$.fab.ident=this.id,this.app.dataLoading=!1})},chooseOption:function(){void 0!==this.bookmarkIndex?(this.app.dataLoading=!1,this.bookmarkTime=this.$.globals.secondsToMins(this.playlist[this.bookmarkIndex].bookmarkPosition/1e3),this.$.albumPlaybackConfirm.open(),this.app.$.albumDialog.opened&&(this.app.$.fab.state="bottom",this.app.$.albumDialog.opened=!1)):this.playAlbum()},playFromBookmark:function(){this.shortPlaylist=this.playlist.splice(this.bookmarkIndex),this.app.dataLoading=!1,this.app.$.albumDialog.opened=!1,this.app.playlist=this.shortPlaylist,this.$.globals.playListIndex(0)},playAlbum:function(){for(var a=this.playlist.length,b=0;a>b;b++)this.playlist[b].bookmarkPosition&&delete this.playlist[b].bookmarkPosition;this.app.dataLoading=!1,this.app.$.albumDialog.opened=!1,"bottom"!==this.app.$.fab.state&&(this.app.$.fab.state="bottom"),this.app.playlist=this.playlist,this.$.globals.playListIndex(0)},doPlayback:function(){this.app.dataLoading=!0,this.doQuery().then(this.chooseOption.bind(this))},showDetails:function(){this.app.dataLoading=!0,this.doQuery().then(this.showDialog.bind(this))},processJSON:function(a){return new Promise(function(b,c){var d=a.target.response["subsonic-response"];this.playlist.length=0;var e=function(){return"ID3"===this.app.queryMethod?{tracks:d.album.song,artistId:d.album.artistId}:{tracks:d.directory.child,artistId:d.directory.parent}}.bind(this)();e.tracks.sort(function(a,b){return a.discNumber-b.discNumber||a.track-b.track}),this.artistId=e.artistId;for(var f=e.tracks,g=f.length,h=0;g>h;h++)this.albumSize=this.albumSize+f[h].size,this.playlist.push({id:f[h].id,artist:f[h].artist,title:f[h].title,duration:this.$.globals.secondsToMins(f[h].duration),cover:this.imgURL,bookmarkPosition:f[h].bookmarkPosition,palette:this.palette,disc:f[h].discNumber,track:f[h].track}),f[h].bookmarkPosition&&void 0===this.bookmarkIndex&&(this.bookmarkIndex=h);this.async(b)}.bind(this))},doQuery:function(){return new Promise(function(a,b){var c=function(){return"ID3"===this.app.queryMethod?{artId:"al-"+this.item,request:"getAlbum"}:{artId:this.item,request:"getMusicDirectory"}}.bind(this)(),d=this.$.globals.buildUrl(c.request,{id:this.item});this.$.globals.getDbItem(c.artId+"-palette").then(function(b){this.palette=b.target.result,this.$.globals.doXhr(d,"json").then(this.processJSON.bind(this)).then(a)}.bind(this))}.bind(this))},_updateItem:function(){this.bookmarkIndex=void 0,!this.item||this.app.scrolling||this.app._animating?this.async(this._updateItem,null,200):(this.playlist=[],this.albumSize=0,this.isLoading=!0,this.$.globals.fetchImage(function(){return"ID3"===this.app.queryMethod?"al-"+this.item:this.item}.bind(this)()).then(this.setImage.bind(this)))},itemChanged:function(){this.async(this._updateItem)}})}(),Polymer("paper-spinner",{eventDelegates:{animationend:"reset",webkitAnimationEnd:"reset"},publish:{active:{value:!1,reflect:!0},alt:{value:"loading",reflect:!0}},ready:function(){this.hasAttribute("aria-label")?this.alt=this.getAttribute("aria-label"):this.setAttribute("aria-label",this.alt),this.active||this.setAttribute("aria-hidden","true")},activeChanged:function(){this.active?(this.$.spinnerContainer.classList.remove("cooldown"),this.$.spinnerContainer.classList.add("active"),this.removeAttribute("aria-hidden")):(this.$.spinnerContainer.classList.add("cooldown"),this.setAttribute("aria-hidden","true"))},altChanged:function(){""===this.alt?this.setAttribute("aria-hidden","true"):this.removeAttribute("aria-hidden"),this.setAttribute("aria-label",this.alt)},reset:function(){this.$.spinnerContainer.classList.remove("active","cooldown")}}),Polymer("paper-button",{publish:{raised:!1,recenteringTouch:!1,fill:!0},_activate:function(){if(this.click(),this.fire("tap"),!this.pressed){var a=this.getBoundingClientRect(),b=a.left+a.width/2,c=a.top+a.height/2;this.downAction({x:b,y:c});var d=function e(){this.upAction(),this.removeEventListener("keyup",e)}.bind(this);this.addEventListener("keyup",d)}}}),function(){var a;Polymer("paper-toast",{text:"",duration:3e3,opened:!1,responsiveWidth:"480px",swipeDisabled:!1,autoCloseDisabled:!1,narrowMode:!1,eventDelegates:{trackstart:"trackStart",track:"track",trackend:"trackEnd",transitionend:"transitionEnd"},narrowModeChanged:function(){this.classList.toggle("fit-bottom",this.narrowMode),this.opened&&this.$.overlay.resizeHandler()},openedChanged:function(){this.opened?this.dismissJob=this.job(this.dismissJob,this.dismiss,this.duration):(this.dismissJob&&this.dismissJob.stop(),this.dismiss())},toggle:function(){this.opened=!this.opened},show:function(){a&&a.dismiss(),a=this,this.opened=!0},dismiss:function(){this.dragging?this.shouldDismiss=!0:(this.opened=!1,a===this&&(a=null))},trackStart:function(a){this.swipeDisabled||(a.preventTap(),this.vertical=a.yDirection,this.w=this.offsetWidth,this.h=this.offsetHeight,this.dragging=!0,this.classList.add("dragging"))},track:function(a){if(this.dragging){var b=this.style;if(this.vertical){var c=a.dy;b.opacity=(this.h-Math.abs(c))/this.h,b.transform=b.webkitTransform="translate3d(0, "+c+"px, 0)"}else{var d=a.dx;b.opacity=(this.w-Math.abs(d))/this.w,b.transform=b.webkitTransform="translate3d("+d+"px, 0, 0)"}}},trackEnd:function(a){if(this.dragging){this.classList.remove("dragging"),this.style.opacity="",this.style.transform=this.style.webkitTransform="";var b=this.classList;this.vertical?(b.toggle("fade-out-down",1===a.yDirection&&a.dy>0),b.toggle("fade-out-up",-1===a.yDirection&&a.dy<0)):(b.toggle("fade-out-right",1===a.xDirection&&a.dx>0),b.toggle("fade-out-left",-1===a.xDirection&&a.dx<0)),this.dragging=!1}},transitionEnd:function(){var a=this.classList;a.contains("fade-out-right")||a.contains("fade-out-left")||a.contains("fade-out-down")||a.contains("fade-out-up")?(this.dismiss(),a.remove("fade-out-right","fade-out-left","fade-out-down","fade-out-up")):this.shouldDismiss&&this.dismiss(),this.shouldDismiss=!1}})}(),Polymer("core-submenu",{publish:{active:{value:!1,reflect:!0}},opened:!1,get items(){return this.$.submenu.items},hasItems:function(){return!!this.items.length},unselectAllItems:function(){this.$.submenu.selected=null,this.$.submenu.clearSelection()},activeChanged:function(){this.hasItems()&&(this.opened=this.active),this.active||this.unselectAllItems()},toggle:function(){this.opened=!this.opened},activate:function(){this.hasItems()&&this.active&&(this.toggle(),this.unselectAllItems())}}),Polymer("core-scroll-threshold",{publish:{scrollTarget:null,orient:"v",upperThreshold:null,lowerThreshold:null,upperTriggered:!1,lowerTriggered:!1},observe:{"upperThreshold lowerThreshold scrollTarget orient":"setup"},ready:function(){this._boundScrollHandler=this.checkThreshold.bind(this)},detached:function(){this._scrollTarget&&this._scrollTarget.removeEventListener("scroll",this._boundScrollHandler)},setup:function(){var a=this.scrollTarget||this;this._scrollTarget&&this._scrollTarget!=a&&this._scrollTarget.removeEventListener("scroll",this._boundScrollHandler),a&&(this._scrollTarget=a,this._scrollTarget.addEventListener("scroll",this._boundScrollHandler)),this.style.overflow=a==this?"auto":null,this.scrollPosition="v"==this.orient?"scrollTop":"scrollLeft",this.sizeExtent="v"==this.orient?"offsetHeight":"offsetWidth",this.scrollExtent="v"==this.orient?"scrollHeight":"scrollWidth",this.upperThreshold||(this.upperTriggered=!1),this.lowerThreshold||(this.lowerTriggered=!1)},checkThreshold:function(a){var b=this._scrollTarget[this.scrollPosition];if(this.upperTriggered||null===this.upperThreshold||b<this.upperThreshold&&((null===this.lowerThreshold||this.lowerTriggered)&&this._scrollTarget.removeEventListener("scroll",this._boundScrollHandler),this.upperTriggered=!0,this.fire("upper-trigger")),!this.lowerTriggered&&null!==this.lowerThreshold){var c=b+this._scrollTarget[this.sizeExtent],d=this._scrollTarget[this.scrollExtent];d-c<this.lowerThreshold&&((null===this.upperThreshold||this.upperTriggered)&&this._scrollTarget.removeEventListener("scroll",this._boundScrollHandler),this.lowerTriggered=!0,this.fire("lower-trigger"))}},clearUpper:function(a){a?this._waitForMutation(function(){this.clearUpper()}.bind(this)):this.async(function(){this.upperTriggered=!1,this._scrollTarget.addEventListener("scroll",this._boundScrollHandler)})},clearLower:function(a){a?this._waitForMutation(function(){this.clearLower()}.bind(this)):this.async(function(){this.lowerTriggered=!1,this._scrollTarget.addEventListener("scroll",this._boundScrollHandler)})},_waitForMutation:function(a){var b=new MutationObserver(function(c){a.call(this,b,c),b.disconnect()}.bind(this));b.observe(this._scrollTarget,{attributes:!0,childList:!0,subtree:!0})}}),function(){"use strict";var a=document.getElementById("tmpl");Polymer("album-wall",{wall:[],podcast:[],artist:[],ready:function(){this.showing=this.showing||"wall",this.queryMethod=this.queryMethod||"ID3"},_attemptRefresh:function(){if(this.async(this._attemptRefresh,null,12e4),"podcast"===this.showing){var a=this.$.globals.buildUrl("getPodcasts");this.$.globals.doXhr(a,"json").then(function(a){this.response=a.target.response}.bind(this))}},domReady:function(){this.app=a,this.audio=this.app.$.player.audio,this.scrollTarget=this.app.appScroller(),this._attemptRefresh()},mediaFolderChanged:function(a,b){this.$.globals.closeDrawer().then(function(){"none"===b?delete this.post.musicFolderId:this.post.musicFolderId=Number(b),this.app.pageLimit=!1,this.$.threshold.clearLower(),this.async(this.refreshContent)}.bind(this))},clearData:function(){return new Promise(function(a){this.wall=[],this.artist=[],this.podcast=[],this.app.pageLimit=!1,this.isLoading=!0,this.app.dataLoading=!0,this.$.list.updateSize(),this.$.podcast.updateSize(),this.$.artists.updateSize(),this.async(a,null,250)}.bind(this))},responseCallback:function(){this.app.dataLoading=!1,this.isLoading=!1,this.app.showApp()},responseChanged:function(){this.response&&"subsonic-response"in this.response&&this.async(function(){var a=this.response["subsonic-response"];if("failed"===a.status)this.$.globals.makeToast(a.error.message);else switch(!0){case"albumList2"in a&&"album"in a.albumList2:this.wall=this.wall.concat(a.albumList2.album);for(var b=0;b<this.wall.length;b++)this.wall[b].listMode=this.listMode;this.showing="wall",this.async(this.responseCallback);break;case"albumList"in a&&"album"in a.albumList:this.wall=this.wall.concat(a.albumList.album);for(var b=0;b<this.wall.length;b++)this.wall[b].listMode=this.listMode;this.showing="wall",this.async(this.responseCallback);break;case"starred2"in a&&"album"in a.starred2:this.wall=this.wall.concat(a.starred2.album);for(var b=0;b<this.wall.length;b++)this.wall[b].listMode=this.listMode;this.showing="wall",this.async(this.responseCallback);break;case"starred"in a&&"album"in a.starred:this.wall=this.wall.concat(a.starred.album);for(var b=0;b<this.wall.length;b++)this.wall[b].listMode=this.listMode;this.showing="wall",this.async(this.responseCallback);break;case"podcasts"in a&&"channel"in a.podcasts:for(var c=a.podcasts.channel,d=c.length,b=0;d>b;b++)if("episode"in c[b])for(var e=c[b].episode.length,f=0;e>f;f++)c[b].episode[f].podcastRole=this.app.activeUser.podcastRole;this.podcast=c,this.async(this.responseCallback),this.showing="podcast";break;case"artists"in a&&"index"in a.artists:this.artist=a.artists.index,this.showing="artists",this.async(this.responseCallback);break;case"indexes"in a&&"index"in a.indexes:this.artist=a.indexes.index,this.showing="artists",this.async(this.responseCallback);break;case"searchResult3"in a&&"album"in a.searchResult3:for(var g=a.searchResult3.album,h=g.length,i=[],b=0;h>b;b++)this.containsObject(g[b],i)||i.push(g[b]);this.wall=i;for(var b=0;b<this.wall.length;b++)this.wall[b].listMode=this.listMode;this.showing="wall",this.async(this.responseCallback);break;case"searchResult2"in a&&"album"in a.searchResult2:for(var g=a.searchResult2.album,h=g.length,i=[],b=0;h>b;b++)this.containsObject(g[b],i)||i.push(g[b]);this.wall=i;for(var b=0;b<this.wall.length;b++)this.wall[b].listMode=this.listMode;this.showing="wall",this.async(this.responseCallback);break;default:this.app.dataLoading=!1,this.isLoading=!1,this.app.showApp(),this.app.pageLimit=!0}})},artistDetails:function(a,b,c){var d=document.getElementById("aDetails");this.app.dataLoading=!0,d.queryData(c.attributes.ident.value)},listModeChanged:function(){this.async(function(){if(this.listMode&&"getArtists"!==this.request&&"getPodcasts"!==this.request){this.app.dataLoading=!0;for(var a=0;a<this.wall.length;a++)this.wall[a].listMode=this.listMode;switch(this.listMode){case"cover":this.$.list.width="260",this.$.list.grid=!0,this.$.list.height="260";break;case"list":this.$.list.grid=!1,this.$.list.width=chrome.app.window.current().innerBounds.width,this.$.list.height="60"}this.app.dataLoading=!1,this.$.list.updateSize()}})},doAjax:function(){this.request=this.request||"getAlbumList2",this.post=this.post||{type:"newest",size:60,offset:0},this.$.ajax.url=this.$.globals.buildUrl(this.request,this.post),this.$.ajax.go()},_saveLastRequest:function(){chrome.storage.sync.set({sortType:this.post.type,request:this.request,mediaFolder:this.mediaFolder})},getPodcast:function(){this.showing="podcast",this.clearData().then(function(){this.request="getPodcasts",this.post.type&&delete this.post.type,this.post.offset=0,this._saveLastRequest(),this.async(this.doAjax.bind(this))}.bind(this))},getStarred:function(){this.showing="wall",this.clearData().then(function(){this.request=function(){return"ID3"===this.queryMethod?"getStarred2":"getStarred"}.bind(this)(),this.post.type&&delete this.post.type,this.post.offset=0,this._saveLastRequest(),this.async(this.doAjax.bind(this))}.bind(this))},getArtist:function(){this.clearData().then(function(){this.showing="artists",this.request=function(){return"ID3"===this.queryMethod?"getArtists":"getIndexes"}.bind(this)(),this.post.type&&delete this.post.type,this.post.offset=0,this._saveLastRequest(),this.async(this.doAjax.bind(this))}.bind(this))},sortChanged:function(){this.showing="wall",this.clearData().then(function(){this.app.pageLimit=!1,this.request=function(){return"ID3"===this.queryMethod?"getAlbumList2":"getAlbumList"}.bind(this)(),this.post.type=this.sort,this.post.offset=0,this._saveLastRequest(),this.async(this.doAjax.bind(this))}.bind(this))},errorChanged:function(){this.error&&(console.error(this.error),this.$.globals.makeToast(chrome.i18n.getMessage("connectionError")))},loadMore:function(){this.$.threshold.clearLower(),this.isLoading||"getStarred2"===this.request||"getPodcasts"===this.request||"getArtists"===this.request||this.app.pageLimit||0!==this.app.page||(this.isLoading=!0,this.post.offset=parseInt(this.post.offset,10)+parseInt(this.post.size,10),this.async(this.doAjax.bind(this)))},querySizeChanged:function(){this.post.size=this.querySize},getPaletteFromDb:function(a,b){this.app.getDbItem(a+"-palette",function(a){b(a.target.result)}.bind(this))},doPlay:function(a){this.app.playlist=[a],this.app.dataLoading=!1,this.$.globals.playListIndex(0)},mouseIn:function(a,b,c){c.setZ(2)},mouseOut:function(a,b,c){c.setZ(1)},playChoice:function(a,b,c){this.$.playbackConfirm.open(),this.bookMark={id:c.attributes.streamId.value,title:c.attributes.trackTitle.value,bookmarkPosition:c.attributes.bookmark.value,cover:c.attributes.cover.value},this.bookmarkTime=this.$.globals.secondsToMins(c.attributes.bookmark.value/1e3)},playPodcast:function(a,b,c){this.app.dataLoading=!0;var d={id:c.attributes.streamId.value,artist:"",artist:"",title:c.attributes.trackTitle.value};c.attributes.bookmark&&(d.bookmarkPosition=c.attributes.bookmark.value);var e=c.attributes.cover.value;
e?this.$.globals.fetchImage(e).then(function(a){this.async(function(){this.$.globals.getDbItem(e+"-palette").then(function(b){d.cover=a,d.palette=b.target.result,this.doPlay(d)}.bind(this))},null,200)}.bind(this)):(d.cover="../../../images/default-cover-art.png",this.doPlay(d))},_openSubsonic:function(){window.open(this.app.url)},conBookDel:function(a){this.delID=a.path[0].dataset.id,this.$.bookmarkConfirm.open()},deleteBookmark:function(a){this.$.globals.doXhr(this.$.globals.buildUrl("deleteBookmark",{id:this.delID}),"json").then(function(a){"ok"===a.target.response["subsonic-response"].status?this.refreshContent():this.$.globals.makeToast(a.target.response["subsonic-response"].error.message)}.bind(this))},add2Playlist:function(a,b,c){var d,e={id:c.attributes.streamId.value,artist:"",title:c.attributes.trackTitle.value};this.app.dataLoading=!0;var f=c.attributes.cover.value;f?this.$.globals.fetchImage(f).then(function(a){this.async(function(){this.$.globals.getDbItem(f+"-palette").then(function(b){e.cover=a,e.palette=b.target.result,"audio"in this.app.$.player&&!this.app.$.player.audio.paused?(this.app.dataLoading=!1,this.app.playlist.push(e),this.$.globals.makeToast(chrome.i18n.getMessage("added2Queue"))):(this.app.dataLoading=!1,this.doPlay(e),this.$.globals.makeToast(chrome.i18n.getMessage("added2Queue")))}.bind(this))},null,200)}.bind(this)):(d="../../../images/default-cover-art.png","audio"in this.app.$.player&&!this.app.$.player.audio.paused?(e.cover=d,this.app.playlist.push(e),this.$.globals.makeToast(chrome.i18n.getMessage("added2Queue"))):(e.cover=d,this.doPlay(e),this.$.globals.makeToast(chrome.i18n.getMessage("added2Queue"))))},showingChanged:function(){var a=document.getElementById("fab");"podcast"===this.showing?a.state="podcast":a.state="off"},topOfPage:function(){this.scrollTarget.scrollTop=0},deleteDialog:function(a,b,c){this.app.delID=c.attributes.ident.value,this.app.$.confirmDelete.open()},deleteChannel:function(a){this.$.globals.doXhr(this.$.globals.buildUrl("deletePodcastChannel",{id:a}),"json").then(function(a){"ok"===a.target.response["subsonic-response"].status&&this.clearData().then(this.doAjax.bind(this))}.bind(this))},refreshContent:function(){0!==this.post.offset&&(this.post.offset=0),this.clearData().then(this.doAjax.bind(this))},downloadEpisode:function(a,b,c){var d=this.$.globals.buildUrl("downloadPodcastEpisode",{id:c.attributes.ident.value});this.$.globals.doXhr(d,"json").then(function(a){"ok"===a.target.response["subsonic-response"].status&&this.clearData().then(function(){this.doAjax(),this.$.globals.makeToast(chrome.i18n.getMessage("downloadPodcast"))}.bind(this))}.bind(this))},episodeDialog:function(a,b,c){this.app.delID=c.attributes.ident.value,this.app.$.episodeConfirm.open()},deleteEpisode:function(a){var b=this.$.globals.buildUrl("deletePodcastEpisode",{id:a});this.$.globals.doXhr(b,"json").then(function(a){"ok"===a.target.response["subsonic-response"].status&&this.clearData().then(this.doAjax.bind(this))}.bind(this))},toggleCollapse:function(a,b,c){var d="#"+c.attributes.ident.value;this.$.all.querySelector(d).toggle()},playSomething:function(a,b){var c=this.$.all.querySelector("#"+a);c.chooseOption(),b()},findIndexByKeyValue:function(a,b,c){for(var d=a.length,e=0;d>e;e+=1)if(a[e][b]===c)return e;return null},jumpToLetter:function(a){var b=this.findIndexByKeyValue(this.artist,"name",a);this.$.artists.scrollToItem(b)},containsObject:function(a,b){for(var c=b.length,d=0;c>d;d+=1)if(b[d].id===a.id)return!0;return!1}})}(),Polymer("volume-slider",{created:function(){this.volume=this.volume||100},volumeChanged:function(){var a=document.getElementById("tmpl").$.player.audio;a&&(a.volume=this.volume/100),simpleStorage.setSync({volume:this.volume})}}),function(){"use strict";var a=document.getElementById("tmpl");Polymer("subsonic-login",{timer:0,ready:function(){this.app=a,this.testingURL=!1,this.post={version:"1.11.0",name:"Config1",md5Auth:!0}},_updateConfig:function(){this.newConfig=!Boolean(a.configs[a.currentConfig]),this.newConfig?this.post.config=0:(this.post=a.configs[a.currentConfig],this.post.config=a.currentConfig)},configChanged:function(){this.async(this._updateConfig)},_newConfig:function(){this.post={};var b=a.configs.length;this.post.config=b,this.post.version="1.11.0",this.post.name="Config"+Math.abs(b+1),this.$.auth.hidden=!0,this.async(this.validateInputs)},_selectConfigFile:function(){chrome.fileSystem.chooseEntry({type:"openFile",accepts:[{mimeTypes:["text/js"],extensions:["cfg"]}]},function(a){a&&this.$.globals.loadFileEntry(a).then(function(a){var b=atob(a),c=JSON.parse(b);if(c.user&&c.url&&c.pass&&c.name&&c.md5Auth&&c.version){for(var d in c)this.post[d]=c[d];versionCompare(c.version,"1.13.0")>=0&&(this.$.auth.hidden=!1),this.async(this.validateInputs)}else this.$.globals.makeToast("Error Importing Config")}.bind(this))}.bind(this))},_testPostSettings:function(){return new Promise(function(b,c){var d={u:this.post.user,v:this.post.version||"1.11.0",f:"json",c:"PolySonic"};versionCompare(this.post.version,"1.13.0")>=0&&this.post.md5Auth?(d.s=this.$.globals.makeSalt(16),d.t=md5(this.post.pass+d.s)):d.p=this.post.pass.hexEncode();var e=this.post.url+"/rest/ping.view?"+this.$.globals.toQueryString(d);a.$.globals.doXhr(e,"json").then(function(a){b(a.target.response["subsonic-response"])},c)}.bind(this))},_cancelAttempt:function(){this.isLoading=!1,a.dataLoading=!1,a.lastRequest.abort()},testURL:function(a){var b=a.target;if(!this.invalid1){this.testingURL=!0,this.isLoading=!0;var c=b.value.substr(-1);"/"===c&&(b.value=b.value.substring(0,b.value.length-1));var d=new XMLHttpRequest;d.open("GET",b.value+"/rest/ping.view?f=json",!0),d.responseType="json",d.onload=function(a){var b=a.target.response["subsonic-response"];this.post.version=b.version,versionCompare(b.version,"1.13.0")>=0&&(this.$.auth.hidden=!1),console.log("API Version: "+b.version),this.testingURL=!1,this.isLoading=!1,this.attempt=!1}.bind(this),d.onerror=function(a){this.testingURL=!1,this.isLoading=!1,this.attempt=!1}.bind(this),this.attempt&&this.attempt.abort(),d.send(),this.attempt=d}},_completeConnection:function(){var b=document.querySelector("settings-menu");b.post=a.configs[a.currentConfig],b.post.config=a.currentConfig,simpleStorage.setSync({configs:a.configs}),simpleStorage.setLocal({currentConfig:a.currentConfig}),this.$.globals.makeToast("Loading Data");var c=this.$.globals.buildUrl("getMusicFolders");this.$.globals.doXhr(c,"json").then(function(b){var c=b.target.response["subsonic-response"];a.mediaFolders=c.musicFolders.musicFolder,a.folder="none",c.musicFolders.musicFolder&&!c.musicFolders.musicFolder[1]?a.$.sortBox.style.display="none":a.$.sortBox.style.display="block"}.bind(this))},_setConfig:function(){return new Promise(function(b,c){var d=this.post;for(var e in d)a[e]=d[e];b()}.bind(this))},submit:function(){if(this.invalid1&&this.invalid2)this.$.globals.makeToast("URL & Username Required");else if(this.invalid1)this.$.globals.makeToast("URL Required");else if(this.invalid2)this.$.globals.makeToast("Username Required");else if(!this.invalid1&&!this.invalid2&&!this.invalid3){var b=this.post.url.substr(-1);"/"===b&&(this.post.url=this.post.url.substring(0,this.post.url.length-1)),this.isLoading=!0,this._testPostSettings().then(function(b){this.isLoading=!1,"ok"===b.status?(a.$.firstRun.close(),this._clearImages().then(this._setConfig.bind(this)).then(this.$.globals.openIndexedDB).then(this.$.globals.initFS).then(a.userDetails).then(function(){a.currentConfig=this.post.config;var b=a.configs[a.currentConfig];void 0!==b||a.configs.length?void 0===b&&a.configs.length?(a.configs.push(this.post),this._completeConnection()):this._completeConnection():(a.configs=[this.post],this._completeConnection())}.bind(this),function(a){throw this.isLoading=!1,new Error(a)}.bind(this))):(this.isLoading=!1,this.$.globals.makeToast(this.response["subsonic-response"].error.message))}.bind(this),function(){this.isLoading=!1,this.$.globals.makeToast("Error Connecting")}.bind(this))}},validateInputs:function(){this.parentNode.notifyResize();var a=this.$.validate.querySelectorAll("paper-input-decorator");Array.prototype.forEach.call(a,function(a){a.isInvalid=!a.querySelector("input").validity.valid})},_checkKeyup:function(a){this.validateInputs(),"Enter"===a.keyIdentifier&&(a.target.blur(),this.submit())},hidePass:function(a,b,c){var d=this.$.password.type,e=this.$.showPass,f=this.timer;"text"===d?(this.$.password.type="password",e.innerHTML=this.$.globals.texts.showPass,f&&(clearTimeout(f),f=0)):(this.$.password.type="text",e.innerHTML=this.$.globals.texts.hideThePass,f=setTimeout(function(){this.$.password.type="password",e.innerHTML=this.$.globals.texts.showPass,f=0}.bind(this),15e3))},_select:function(){var b=this.post.config,c=a.configs[this.post.config];c&&(this.post=c,this.post.config=b)},_selectAction:function(){this.async(this._select)},postChanged:function(){"post"in this&&(this.async(this.validateInputs,null,200),"post"in this&&"version"in this.post&&this._53orGreater(this.post.version)&&(this.$.auth.hidden=!1),"config"in this.post&&(this.newConfig=!Boolean(a.configs[this.post.config])))},_53orGreater:function(a){return versionCompare(a,"1.13.0")>=0?!0:!1},_clearImages:function(){return new Promise(function(b,c){a.fs?a.fs.root.getDirectory(encodeURIComponent(a.url),{},function(d){d.removeRecursively(function(d){a.db.close();var e=indexedDB.deleteDatabase(a.dbname);e.onsuccess=b,e.onerror=c,e.onblocked=c},c)}):b()})}})}(),Polymer("paper-radio-button",{publish:{checked:{value:!1,reflect:!0},label:"",toggles:!1,disabled:{value:!1,reflect:!0}},eventDelegates:{tap:"tap"},tap:function(){if(!this.disabled){var a=this.checked;this.toggle(),this.checked!==a&&this.fire("change")}},toggle:function(){this.checked=!this.toggles||!this.checked},checkedChanged:function(){this.setAttribute("aria-checked",this.checked?"true":"false"),this.fire("core-change")},labelChanged:function(){this.setAttribute("aria-label",this.label)}}),Polymer("paper-toggle-button",{checked:!1,disabled:!1,eventDelegates:{down:"downAction",up:"upAction",tap:"tap",trackstart:"trackStart",trackx:"trackx",trackend:"trackEnd"},downAction:function(a){var b=this.$.ink.getBoundingClientRect();this.$.ink.downAction({x:b.left+b.width/2,y:b.top+b.height/2})},upAction:function(a){this.$.ink.upAction()},tap:function(){this.disabled||(this.checked=!this.checked,this.fire("change"))},trackStart:function(a){this.disabled||(this._w=this.$.toggleBar.offsetWidth/2,a.preventTap())},trackx:function(a){this._x=Math.min(this._w,Math.max(0,this.checked?this._w+a.dx:a.dx)),this.$.toggleButton.classList.add("dragging");var b=this.$.toggleButton.style;b.webkitTransform=b.transform="translate3d("+this._x+"px,0,0)"},trackEnd:function(){var a=this.$.toggleButton.style;a.transform=a.webkitTransform="",this.$.toggleButton.classList.remove("dragging");var b=this.checked;this.checked=Math.abs(this._x)>this._w/2,this.checked!==b&&this.fire("change")},checkedChanged:function(){this.setAttribute("aria-pressed",Boolean(this.checked)),this.fire("core-change")}}),function(){var a=a=document.getElementById("tmpl");document.getElementById("wall");Polymer("settings-menu",{post:{bitRate:this.bitRate||320},_manifest:chrome.runtime.getManifest(),_speeds:[96,128,192,256,320],_querySizes:[20,30,40,50,60,120],_setQuerySize:function(){this.async(function(){simpleStorage.setSync({querySize:a.querySize})})},_queryMethods:["ID3","Folder"],_timer:0,elementReady:!1,domReady:function(){this.app=a,this._outputVersion(this._manifest),this.elementReady=!0,this.$.editorMD5.hidden=!1},_outputVersion:function(a){this.polysonicVersion=a.version,console.log("App version: "+this.polysonicVersion)},_authChanged:function(a){var b=a.target;simpleStorage.setSync({md5Auth:b.checked})},validateInputs:function(){var a=this.$.validate.querySelectorAll("paper-input-decorator");Array.prototype.forEach.call(a,function(a){a.isInvalid=!a.querySelector("input").validity.valid})},_submit:function(){if(this.validateInputs(),this.invalidAddress&&this.inValidName&&this.invalidPassword?this.$.globals.makeToast("URL, Username & Password Required"):this.invalidAddress?this.$.globals.makeToast("URL Required"):this.inValidName?this.$.globals.makeToast("Username Required"):this.inValidPassword&&this.$.globals.makeToast("Password Required"),!this.invalidAddress&&!this.inValidName&&!this.inValidPassword){var a=this.post.url.substr(-1);"/"===a&&(this.post.url=this.post.url.substring(0,this.post.url.length-1)),this.isLoading=!0,this._testPostSettings().then(function(a){"ok"===a.status?simpleStorage.getSync("configs").then(function(a){a.push({name:this.post.name,url:this.post.url,user:this.post.user,pass:this.post.pass,md5Auth:this.post.md5Auth,version:this.post.version}),simpleStorage.setSync({configs:a}),this.app.configs=a,this.$.globals.makeToast("Config Saved"),this.newConfig=!Boolean(this.app.configs[this.post.config]),this._setFormDisabledState(!this.newConfig),this.isLoading=!1}.bind(this)):"failed"===a.status?(this.$.globals.makeToast(this._response["subsonic-response"].error.message),this.isLoading=!1):(this.$.connectionError.open(),this.$.globals.makeToast("Error Connecting to Server. Check Settings"),this.isLoading=!1)}.bind(this),function(){this.$.connectionError.open(),this.$.globals.makeToast("Error Connecting to Server. Check Settings"),this.isLoading=!1}.bind(this))}},_saveAnyway:function(){this.$.connectionError.close(),this.isLoading=!0,simpleStorage.getSync("configs").then(function(a){a.push({name:this.post.name,url:this.post.url,user:this.post.user,pass:this.post.pass,md5Auth:this.post.md5Auth,version:this.post.version}),simpleStorage.setSync({configs:a}),this.app.configs=a,this.$.globals.makeToast("Config Saved"),this.newConfig=!Boolean(this.app.configs[this.post.config]),this._setFormDisabledState(!this.newConfig),this.isLoading=!1}.bind(this))},_hidePass:function(a,b,c){var d=this.$.password.type,e=this.$.showPass,f=this._timer;"text"===d?(this.$.password.type="password",e.innerHTML=this.$.globals.texts.showPass,f&&(clearTimeout(f),f=0)):(this.$.password.type="text",e.innerHTML=this.$.globals.texts.hideThePass,f=setTimeout(function(){this.$.password.type="password",e.innerHTML=this.$.globals.texts.showPass,f=0}.bind(this),15e3))},_clearImages:function(){return new Promise(function(b,c){a.fs.root.getDirectory(encodeURIComponent(a.url),{},function(d){d.removeRecursively(function(d){a.db.close();var e=indexedDB.deleteDatabase(a.dbname);e.onsuccess=b,e.onerror=c,e.onblocked=c},c)},c)})},_confirmDelete:function(){this.$.confirmDelete.open()},_clearCache:function(){a.dataLoading=!0,this._clearImages().then(a.$.globals.openIndexedDB).then(a.$.globals.initFS).then(a.calculateStorageSize).then(function(){this.$.globals.makeToast("Cache cleared"),a.dataLoading=!1}.bind(this))},_clearSettings:function(){this._clearImages().then(function(){chrome.storage.sync.clear(),chrome.storage.local.clear(),a.$.reloadAppDialog.open()},function(){this.$.globals.makeToast("Error deleteing Database")}.bind(this))},_bitRateSelect:function(){this.async(function(){simpleStorage.setLocal({bitRate:this.app.bitRate}),console.log("Bitrate: "+this.app.bitRate)})},_queryMethodSelect:function(){a.dataLoading=!0,this.async(function(){this._clearImages().then(function(){a.$.globals.openIndexedDB().then(function(){switch(a.$.globals.initFS(),a.dataLoading=!1,a.$.wall.request){case"getIndexes":a.$.wall.getArtist();break;case"getArtists":a.$.wall.getArtist();break;case"getAlbumList":a.$.wall.sortChanged();break;case"getAlbumList2":a.$.wall.sortChanged();break;case"getStarred":a.$.wall.getStarred();break;case"getStarred2":a.$.wall.getStarred()}simpleStorage.setSync({queryMethod:a.queryMethod})})})})},_errorChanged:function(){0===this._error.statusCode&&this.$.globals.makeToast(chrome.i18n.getMessage("connectionError"))},_defaultConfigs:function(){"config"in this&&simpleStorage.getSync("configs").then(function(a){if(a){var b=0;b="post"in this&&"config"in this.post?this.post.config:this.config;var c=a[b];this.post=c,this.post.config=b}else this.post={},this.post.config=0}.bind(this))},_setConfig:function(){return new Promise(function(b,c){var d=this.post;for(var e in d)a[e]=d[e];b()}.bind(this))},_cancelAttempt:function(){this.isLoading=!1,a.dataLoading=!1,a.lastRequest.abort(),this.async(function(){this._setFormDisabledState(!0)},null,500)},_testPostSettings:function(){return new Promise(function(b,c){var d={u:this.post.user,v:this.post.version||"1.11.0",f:"json",c:"PolySonic"};versionCompare(this.post.version,"1.13.0")>=0&&this.post.md5Auth?(d.s=this.$.globals.makeSalt(16),d.t=md5(this.post.pass+d.s)):d.p=this.post.pass.hexEncode();var e=this.post.url+"/rest/ping.view?"+this.$.globals.toQueryString(d);a.$.globals.doXhr(e,"json").then(function(a){b(a.target.response["subsonic-response"])},c)}.bind(this))},_useThis:function(){this.isLoading=!0,a.folder="none",this._testPostSettings().then(function(b){"ok"===b.status?(a.$.player.audio&&!a.$.player.audio.paused&&a.$.player.audio.pause(),a.playlist=[],a.currentConfig=this.post.config,simpleStorage.setLocal({currentConfig:a.currentConfig}),this.isLoading=!1,a.dataLoading=!0,this._clearImages().then(this._setConfig.bind(this)).then(this.$.globals.openIndexedDB).then(this.$.globals.initFS).then(a.userDetails).then(function(){console.log("Connected with config "+a.configs[a.currentConfig].name);var b=a.$.globals.buildUrl("getMusicFolders");a.$.globals.doXhr(b,"json").then(function(b){a.mediaFolders=b.target.response["subsonic-response"].musicFolders.musicFolder,void 0!==a.mediaFolders&&a.mediaFolders[1]?a.$.sortBox.style.display="block":a.$.sortBox.style.display="none",a.$.wall.refreshContent(),a.dataLoading=!1,this.async(function(){this._setFormDisabledState(!0)},null,500)}.bind(this))}.bind(this))):(this.isLoading=!1,console.log(b),this.$.globals.makeToast("Error connecting with config "+a.configs[this.post.config].name))}.bind(this),function(){this.isLoading=!1,this.$.globals.makeToast("Error connecting with config "+a.configs[this.post.config].name)}.bind(this))},_53orGreater:function(a){return versionCompare(a,"1.13.0")>=0?!0:!1},postChanged:function(){"post"in this&&(this.async(this.validateInputs,null,200),"post"in this&&"version"in this.post&&this._53orGreater(this.post.version)&&(this.$.editorMD5.hidden=!1),"config"in this.post&&(this.newConfig=!Boolean(this.app.configs[this.post.config]),this._setFormDisabledState(!this.newConfig)))},_setFormDisabledState:function(a){this.validateInputs(),this.$.md5.disabled=a;for(var b=this.$.validate.querySelectorAll("paper-input-decorator"),c=0;c<b.length;c++)b[c].disabled=a,b[c].querySelector("input").disabled=a},_editConfig:function(){this.isLoading=!0,this._setFormDisabledState(!1),this.isLoading=!1,this.editing=!0},_exportConfig:function(){simpleStorage.getSync("configs").then(function(a){var b=a[this.post.config];"config"in b&&delete b.config,chrome.fileSystem.chooseEntry({type:"saveFile",suggestedName:b.name+" config.cfg"},function(a){if(a){var c=new Blob([btoa(JSON.stringify(b))],{type:"text/js"});this.$.globals._writeFileEntry(a,c).then(function(){this.$.globals.makeToast("Export Complete"),this.async(function(){this._setFormDisabledState(!0)},null,500)}.bind(this))}else this.$.globals.makeToast("Error Saving Config"),this.async(function(){this._setFormDisabledState(!0)},null,500),console.error("Error Saving Config",e)}.bind(this))}.bind(this))},_selectConfigFile:function(){chrome.fileSystem.chooseEntry({type:"openFile",accepts:[{mimeTypes:["text/js"],extensions:["cfg"]}]},function(a){a&&this.$.globals.loadFileEntry(a).then(function(a){var b=atob(a),c=JSON.parse(b);if(c.user&&c.url&&c.pass&&c.name&&c.md5Auth&&c.version){for(var d in c)this.post[d]=c[d];this.async(this.validateInputs)}else this.$.globals.makeToast("Error Importing Config")}.bind(this))}.bind(this))},_saveEdits:function(){this.isLoading=!0,this.validateInputs(),this.async(function(){this._setFormDisabledState(!0)},null,200),this._isValidData()?simpleStorage.getSync().then(function(b){var c=b.configs[this.post.config];for(var d in c)c[d]=this.post[d];simpleStorage.setSync({configs:b.configs}),this.app.configs=b.configs,this.isLoading=!1,this.editing=!1,this.post.config===this.app.currentConfig&&(this.app.md5Auth!==this.post.md5Auth&&(this.app.md5Auth=this.post.md5Auth),this.app.url!==this.post.url&&this._testPostSettings().then(function(b){"ok"===b.status?this._clearImages().then(this._setConfig.bind(this)).then(this.$.globals.openIndexedDB).then(this.$.globals.initFS).then(a.userDetails).then(function(){console.log("config "+this.app.configs[this.app.currentConfig].name+" Refreshed");var b=a.$.globals.buildUrl("getMusicFolders");this.$.globals.doXhr(b,"json").then(function(b){a.folder="none",a.mediaFolders=b.target.response["subsonic-response"].musicFolders.musicFolder,void 0!==a.mediaFolders&&a.mediaFolders[1]?a.$.sortBox.style.display="block":a.$.sortBox.style.display="none",a.tracker.sendAppView("Album Wall"),this.isLoading=!1}.bind(this))}.bind(this))["catch"](function(a){throw new Error(a)}):(this.isLoading=!1,this.$.globals.makeToast("Error connecting to Subsonic. Check Settings"))}.bind(this)))}.bind(this)):(this.isLoading=!1,this.$.globals.makeToast("Valid URL, Username & Password Required"))},_isValidData:function(){return this.inValidAddress||this.inValidName||this.inValidPassword?!1:!0},_cancelEdit:function(){this.isLoading=!0,this._setFormDisabledState(!0),this.isLoading=!1,this.editing=!1,this.validateInputs(),this._defaultConfigs()},_checkKeyup:function(a){this.validateInputs(),"Enter"===a.keyIdentifier&&(this.editing&&!this.newConfig?this._saveEdits():!this.editing&&this.newConfig&&this._submit())},_select:function(){var a=this.post.config,b=this.app.configs[this.post.config];b&&(this.post=b,this.post.config=a)},_selectAction:function(){this.async(this._select)},_deleteConfig:function(){simpleStorage.getSync("configs").then(function(a){var b=a[this.app.currentConfig].name;a.splice(this.post.config,1);for(var c=0;c<a.length;c++)a[c].name===b&&(this.app.currentConfig=c,this.post.config=c);simpleStorage.setSync({configs:a}),simpleStorage.setLocal({currentConfig:this.app.currentConfig}),this.app.configs=a,this.async(this._select)}.bind(this))},_testUrl:function(a){var b=a.target;if(this.$.url.isInvalid=!this.$.url.querySelector("input").validity.valid,!this.$.url.isInvalid){this.testingURL=!0;var c=new XMLHttpRequest,d=b.value.substr(-1);"/"===d&&(b.value=b.value.substring(0,b.value.length-1)),c.open("GET",b.value+"/rest/ping.view?f=json",!0),c.responseType="json",c.onload=function(a){var b=a.target.response["subsonic-response"];this.post.version=b.version,this._53orGreater(b.version)&&(this.$.editorMD5.hidden=!1,this.post.md5Auth=!0),this.testingURL=!1,this.attempt=!1}.bind(this),c.onerror=function(a){this.testingURL=!1,this.attempt=!1}.bind(this),this.attempt&&this.attempt.abort(),c.send(),this.attempt=c}},_newConfig:function(){this.post={};var b=a.configs.length;this.post.config=b,this.post.version="1.11.0",this.post.name="Config"+Math.abs(b+1),this.$.editorMD5.hidden=!0},configChanged:function(){this.async(this._defaultConfigs)},querySizeChanged:function(){this.post.querySize=this.querySize},queryMethodChanged:function(){this.post.queryMethod=this.queryMethod},_showQuota:function(){a.calculateStorageSize(),this.$.quota.toggle()},linkGo:function(a,b,c){var d=c.attributes.link.value;window.open(d,"_blank")},_analisticsToggle:function(){simpleStorage.setSync({analistics:a.analisticsEnabled})},_getLicense:function(b,c,d){var e=this.$.globals.attachAnimation(d);e.play(),a.getLicense(function(){e.cancel()})},_toggleAutobookmark:function(){simpleStorage.setSync({autoBookmark:a.autoBookmark})},_toggleGapless:function(){simpleStorage.setSync({gapless:a.gapless})}})}(),Polymer("paper-fab",{publish:{src:"",icon:"",mini:!1,raised:!0,recenteringTouch:!0,fill:!1},iconChanged:function(a){var b=this.getAttribute("aria-label");b&&b!==a||this.setAttribute("aria-label",this.icon)}}),Polymer("animated-fab",{created:function(){this.state=this.state||"off",this.page=this.page||0,this.timer=0},ready:function(){this.setPos()},setPos:function(){this.$.mid.style.top=Math.floor(window.innerHeight/2+23)+"px",this.$.mid.style.right=Math.floor(window.innerWidth/2-250)+"px"},domReady:function(){this.app=document.getElementById("tmpl"),this.bottomPos=16,this.ready=!0},resize:function(){1===this.app.page&&(!this.app.$.player.small&&this.app.narrow?(this.state="large",this.$.large.style.top=Math.floor(window.innerHeight/2-291)+"px",this.$.large.style.right=Math.floor(window.innerWidth/2-276)+"px"):this.app.narrow||this.app.$.player.small?this.state="top":(this.state="large",this.$.large.style.top=Math.floor(window.innerHeight/2-291)+"px",this.$.large.style.right=Math.floor(window.innerWidth/2-406)+"px"))},pageChanged:function(){var a;1===this.page?(a="Player",this.resize()):0===this.page?(a="Album Wall",this.state="off"):2===this.page?(a="Settings",this.state="off"):3===this.page?(a="Artist Details",this.state="off"):this.state="off",0===this.page&&"podcast"===this.showing&&(this.state="podcast"),document.getElementById("tmpl").tracker.sendAppView(a)},isNowPlayingChanged:function(a,b){a?this.bottomPos=105:this.ready&&this.app&&(this.app.playlist[0]||(this.bottomPos=16))}}),function(){var a=document.getElementById("tmpl");Polymer("artist-details",{domReady:function(){this.app=a,this.scrollTarget=a.appScroller(),this.sortBy=0,this.loadingBio=!1},queryData:function(b){this.async(function(){this.headerIndex&&delete this.headerIndex,this.headerImgURL="",this.artistId=b;var c=this.$.globals.buildUrl(function(){return"ID3"===a.queryMethod?"getArtistInfo2":"getArtistInfo"}(),{id:b});this.$.bg.style.backgroundImage="none",this.$.bioImage.style.backgroundImage="none",this.$.globals.doXhr(c,"json").then(function(c){var d=c.target.response["subsonic-response"];this.artistBio=function(){return"ID3"===a.queryMethod?d.artistInfo2:d.artistInfo}(),this.artistBio&&this.artistBio.hasOwnProperty("biography")&&(this.$.bio.innerHTML=this.artistBio.biography),this.artistBio&&this.artistBio.hasOwnProperty("largeImageUrl")?(this.loadingBio=!0,this.$.globals._fetchArtistHeaderImage(this.artistBio.largeImageUrl,b).then(function(c){this.fabBgColor=c.fabBgColor,this.fabColor=c.fabColor,this.$.bg.style.backgroundImage="url('"+c.url+"')",this.headerImgURL=c.url,this.$.globals.getDbItem("artist-"+b+"-headerIndex").then(function(b){this.headerIndex=b.target.result,a._animating||this._cropIt()}.bind(this))}.bind(this))):this.loadingBio=!1;var e=this.$.globals.buildUrl(function(){return"ID3"===a.queryMethod?"getArtist":"getMusicDirectory"}(),{id:b});this.$.globals.doXhr(e,"json").then(function(b){var c=b.target.response["subsonic-response"],d=function(){return"ID3"===a.queryMethod?{response:c.artist.album,artistName:c.artist.album[0].artist}:{response:c.directory.child,artistName:c.directory.name}}();this.data=d.response,this.artistName=d.artistName;for(var e=0;e<this.data.length;e++)this.data[e].listMode=this.listMode;this.async(function(){a.dataLoading=!1,this.sortByChanged(),a.page=3})}.bind(this))}.bind(this))})},_nextIndex:function(){this.loadingBio=!0,this.headerIndex?this.headerIndex=this.headerIndex+1:this.headerIndex=1,this.$.globals._putInDb(this.headerIndex,"artist-"+this.artistId+"-headerIndex").then(this._cropIt.bind(this))},_lastIndex:function(){this.loadingBio=!0,this.headerIndex?this.headerIndex=this.headerIndex-1:this.headerIndex=1,this.$.globals._putInDb(this.headerIndex,"artist-"+this.artistId+"-headerIndex").then(this._cropIt.bind(this))},_cropIt:function(){this.headerImgURL?this.$.globals._cropImage(this.headerImgURL,this.headerIndex||5).then(function(a){this.$.bioImage.style.backgroundImage="url('"+a+"')",this.async(function(){this.loadingBio=!1},null,250)}.bind(this)):this.loadingBio=!1},_animationEnd:function(){this._cropIt()},sortByChanged:function(){this.async(function(){if(void 0!==this.data)switch(this.sortBy){case 0:this.data.sort(function(a,b){return a.name<b.name?-1:a.name>b.name?1:0});break;case 1:this.data.sort(function(a,b){return a.year-b.year});break;case 2:this.data.sort(function(a,b){return a.year-b.year}),this.data.reverse()}})},resize:function(){return new Promise(function(a,b){var c=this.$.artistCard.offsetWidth,d=Math.abs(c/21),e=Math.abs(9*d);this.$.bioImage.style.height=e+"px",this.$.fab.style.top=Math.abs(e-29)+"px",a()}.bind(this))},playSomething:function(a,b){var c=this.$.all.querySelector("#"+a);c.doPlayback(),this.async(b)},changeArtist:function(b,c,d){a.dataLoading=!0,this.queryData(d.dataset.id)},playAllAlbums:function(){this.app.dataLoading=!0;var b=this.$.all.querySelectorAll("album-art"),c=(b.length,!1);a.playlist=[],"audio"in a.$.player&&!a.$.player.audio.paused&&a.$.player.audio.pause();for(var d=0;d<b.length;d++)(function(d){b[d].doQuery().then(function(){a.playlist=a.playlist.concat(b[d].playlist),a.shufflePlaylist(),c||(c=!0,void 0===a.playlist[0]&&a.playlist.splice(0,1),this.$.globals.playListIndex(0),this.app.dataLoading=!1)}.bind(this))}).bind(this)(d)},mouseIn:function(a,b,c){c.setZ(2)},mouseOut:function(a,b,c){c.setZ(1)}})}(),function(){"use strict";function a(a){console.error(a)}Polymer("download-manager",{_app:document.querySelector("#tmpl"),_isDownloading:!1,hasSaved:!1,_removeThis:function(){this.parentNode.removeChild(this),this.async(function(){0===this._app.$.downloads.childElementCount&&(this._app.isDownloading=!1)},null,100)},_doXhr:function(b,c){return new Promise(function(d,e){var f=new XMLHttpRequest;f.open("GET",b,!0),f.responseType=c,f.onload=d,f.onerror=a,f.onprogress=this._xhrProgress.bind(this),f.send(),this._request=f}.bind(this))},_xhrProgress:function(a){this._progress=Math.floor(a.loaded/this._downloadSize*100);var b=(new Date).getTime(),c=8*a.loaded,d=Math.abs((b-this._start)/1e3),e=Math.abs(c/d),f=Math.abs(e/1024).toFixed(2),g=Math.abs(f/1024).toFixed(2);this._rate=function(){return 1>g?f+" Kbps":g+" Mbps"}(),this._output=this.$.globals.formatBytes(a.loaded)+" of "+this._downloadSizeReadable+" Downloaded"},_downloadFile:function(a,b){return new Promise(function(c,d){var e=this.$.globals.buildUrl("download",{id:a});this._downloadSize=b.size,this._isDownloading=!0,this._downloadSizeReadable=this.$.globals.formatBytes(this._downloadSize),this._start=(new Date).getTime(),c(),this._progress=0,this._doXhr(e,"blob").then(function(a){this._blob=a.target.response,this._progress=100,this.$.globals.makeToast(chrome.i18n.getMessage("downloadFinished")),this._downloadSizeReadable=this.$.globals.formatBytes(this._blob.size),this._output="File Downloaded "+this._downloadSizeReadable,this._isDownloading=!1}.bind(this))}.bind(this))},downloadTrack:function(a){var b=this.$.globals.buildUrl("getSong",{id:a});this._doXhr(b,"json").then(function(b){var c=b.target.response["subsonic-response"].song;this._fileName=c.artist+" - "+c.title+"."+c.suffix,this._downloadFile(a,c).then(function(){this.$.globals.makeToast(chrome.i18n.getMessage("downloadStarted"))}.bind(this))}.bind(this))},downloadAlbum:function(a){this._fileName=a.artist+" - "+a.album+".zip",this._downloadFile(a.id,a).then(function(){this.$.globals.makeToast(chrome.i18n.getMessage("downloadStarted"))}.bind(this))},downloadSinglePodcast:function(a){this._fileName=a.title.replace(":","-")+"."+a.suffix,this._downloadFile(a.id,a).then(function(){this.$.globals.makeToast(chrome.i18n.getMessage("downloadStarted"))}.bind(this))},_doSave:function(){this._output="Saving.. "+this._downloadSizeReadable,chrome.fileSystem.chooseEntry({type:"saveFile",suggestedName:this._fileName},function(a){a?this.$.globals._writeFileEntry(a,this._blob).then(function(){this._output="File Saved "+this._downloadSizeReadable,this.hasSaved=!0}.bind(this)):console.error("Error Downloading",e)}.bind(this))},_abortDownload:function(){this._request.abort(),this._removeThis()}})}(),function(){var a=document.getElementById("tmpl");
Polymer("mini-player",{time:0,app:a,setPlaying:function(a){this._img=a.cover,this._artist=a.artist,this._track=a.title},waitingToPlayChanged:function(){this.waitingToPlay?this.$.spinner.hidden=!1:this.$.spinner.hidden=!0},toggleVolume:function(){a.toggleVolume()},isNowPlayingChanged:function(b,c){b?this.page=1:a&&!a.playlist[0]&&(this.page=0),a&&"$"in a&&(a.$.player.audio.paused?this.$.playButton.icon="av:play-arrow":this.$.playButton.icon="av:pause")},_toPlayer:function(){a.nowPlaying()},_playPause:function(){a.$.player.audio.paused?this.$.playButton.icon="av:pause":this.$.playButton.icon="av:play-arrow",a.$.player.playPause()},_openPlaylist:function(){a.showPlaylist("bottom")},_progressClick:function(b,c){this.async(function(){var b=a.$.player.audio,c=this.progress/100;b.currentTime=b.duration-(b.duration-b.duration*c)})}})}(),Polymer("music-player",{count:0,bookmarkDeleted:!1,ready:function(){this.page=0},applyAudioListeners:function(a){a.onprogress=this.buffering.bind(this),a.onwaiting=this.playerProgress.bind(this),a.ontimeupdate=this.playerProgress.bind(this),a.onended=this.nextTrack.bind(this),a.onerror=this.audioError.bind(this),a.volume=this.app.volume/100},removeListeners:function(a){a.onprogress=null,a.onwaiting=null,a.ontimeupdate=null,a.onended=null,a.onerror=null},resize:function(){this.app&&(this.app.repeatPlaylist?0===this.page?this.$.rButton.style.color="white":this.$.rButton2.style.color="black":(this.$.rButton.style.color="rgb(158, 158, 158)",this.$.rButton2.style.color="rgb(158, 158, 158)")),this.$.wrap.style.height=Math.floor(window.innerHeight-128)+"px"},domReady:function(){this.app=document.getElementById("tmpl"),this.note=this.$.playNotify},playingChanged:function(a,b){this.isCued&&b!==a+1&&delete this.isCued,this.app.alreadyPlaying?this.app.alreadyPlaying=!1:(this.$.cover2.style.backgroundImage="url('"+this.app.playlist[b].cover+"')",this.$.coverArt.style.backgroundImage="url('"+this.app.playlist[b].cover+"')",this.$.bg.style.backgroundImage="url('"+this.app.playlist[b].cover+"')",this.playAudio(this.app.playlist[b])),this.app.activeUser&&simpleStorage.setSync({lastPlaying:this.playing})},_savePlaylist:function(){this.app.activeUser&&this.$.globals._putInDb(this.playlist,"playlist")},playlistChanged:function(){this.async(this._savePlaylist)},playAudio:function(a){this.audio&&!this.audio.paused&&(this.audio.pause(),this.removeListeners(this.audio),delete this.audio),this.app.gapless&&this.isCued?(this.audio=this.isCued,this.app.currentPlaying=a.artist+" - "+a.title,this.note.title=a.artist+" - "+a.title,delete this.isCued):(this.isCued&&delete this.isCued,this.audio=new Audio,this.audio.preload="auto",""===a.artist?(this.app.currentPlaying=a.title,this.note.title=a.title,this.audio.src=this.$.globals.buildUrl("stream",{format:"raw",estimateContentLength:!0,id:a.id})):(this.app.currentPlaying=a.artist+" - "+a.title,this.note.title=a.artist+" - "+a.title,this.isCued||(this.audio.src=this.$.globals.buildUrl("stream",{maxBitRate:this.app.bitRate,id:a.id})))),a.bookmarkPosition?this.audio.currentTime=a.bookmarkPosition/1e3:this.audio.currentTime=0,a.palette&&(this.app.colorThiefFab=a.palette[0],this.app.colorThiefFabOff=a.palette[1],this.app.colorThiefBuffered=a.palette[2],this.app.colorThiefProgBg=a.palette[3]),this.$.cover2.style.backgroundImage="url('"+a.cover+"')",this.$.coverArt.style.backgroundImage="url('"+a.cover+"')",this.$.bg.style.backgroundImage="url('"+a.cover+"')",this.scrobbled=!1;for(var b=document.querySelectorAll("mini-player"),c=b.length,d=0;c>d;d++)b[d].setPlaying(a);this.applyAudioListeners(this.audio),this.audio.play(),this.app.isNowPlaying=!0,this.note.icon=a.cover,this.note.show(),this.app.tracker.sendEvent("Playback Started",new Date)},playPause:function(){this.audio.paused?this.audio.play():this.audio.pause()},playNext:function(a){this.app.repeatPlaylist&&!this.app.playlist[a]?0===this.app.playing?this.playAudio(this.app.playlist[0]):this.app.playing=0:this.app.playlist[a]?this.app.playing=a:(this.audio.pause(),app.page=0,this.app.isNowPlaying=!1)},nextTrack:function(){if(this.app.autoBookmark&&this.audio.duration>1200){var a=this.$.globals.buildUrl("deleteBookmark",{id:this.app.playlist[this.app.playing].id});this.$.globals.doXhr(a,"json").then(function(a){delete this.app.playlist[this.app.playing].bookmarkPosition,this._savePlaylist(),"failed"===a.target.response["subsonic-response"].status&&console.error(a.target.response["subsonic-response"].error.message)})}this.playNext(this.app.playing+1)},lastTrack:function(){this.app.playlist[this.app.playing-1]?this.playNext(this.app.playing-1):this.audio.currentTime=0},audioError:function(a){for(var b=document.querySelectorAll("mini-player"),c=b.length,d=0;c>d;d++)b[d].page=0;this.app.page=0,this.$.globals.makeToast("Audio Playback Error")},buffering:function(a){var b=a.srcElement;b.duration&&b.buffered.end(0)?this.buffer=Math.floor(b.buffered.end(0)/b.duration*100):this.buffer=0,b=null},playerProgress:function(a){var b=a.srcElement;if(this.app.gapless&&b.currentTime>=Math.abs(b.duration-60)&&!this.isCued&&this.app.playlist[this.app.playing+1]&&(this.isCued=new Audio,this.isCued.preload="auto",""===this.app.playlist[this.app.playing+1].artist?this.isCued.src=this.$.globals.buildUrl("stream",{format:"raw",estimateContentLength:!0,id:this.app.playlist[this.app.playing+1].id}):this.isCued.src=this.$.globals.buildUrl("stream",{maxBitRate:this.app.bitRate,id:this.app.playlist[this.app.playing+1].id})),a&&("waiting"===a.type?this.app.waitingToPlay=!0:"timeupdate"===a.type&&(this.app.waitingToPlay=!1)),1===this.app.page&&(this.currentMins=Math.floor(b.currentTime/60),this.currentSecs=Math.floor(b.currentTime-60*this.currentMins),this.totalMins=Math.floor(b.duration/60),this.totalSecs=Math.floor(b.duration-60*this.totalMins)),this.app.activeUser.scrobblingEnabled&&Math.abs(b.currentTime/b.duration*100)>50&&!this.scrobbled&&""!==this.app.playlist[this.app.playing].artist&&(this.scrobbled=!0,this.$.globals.doXhr(this.$.globals.buildUrl("scrobble",{id:this.app.playlist[this.app.playing].id,time:(new Date).getTime()}),"json").then(function(a){"failed"===a.target.response["subsonic-response"].status&&(console.log("Last FM submission: "+a.target.response["subsonic-response"].status),this.app.tracker.sendEvent("Last FM submission","Failed"))}.bind(this))),this.app.autoBookmark&&b.duration>1200&&b.currentTime>60&&!this.app.waitingToPlay&&Math.abs(b.currentTime/b.duration*100)<98&&(this.count=this.count+1,this.count>=250)){this.count=0;var c=Math.floor(1e3*b.currentTime),d=this.$.globals.buildUrl("createBookmark",{id:this.app.playlist[this.app.playing].id,position:c,comment:this.app.playlist[this.app.playing].title+" at "+this.$.globals.secondsToMins(b.currentTime)});this.$.globals.doXhr(d,"json").then(function(a){this.app.playlist[this.app.playing].bookmarkPosition=c,this._savePlaylist(),"failed"===a.target.response["subsonic-response"].status&&console.error(a.target.response["subsonic-response"].error.message)}.bind(this))}b.paused?(this.app.isNowPlaying=!1,this.$.avIcon.icon="av:play-arrow"):(this.app.isNowPlaying=!0,this.$.avIcon.icon="av:pause",b.duration?(1===this.app.page&&(this.playTime=this.currentMins+":"+("0"+this.currentSecs).slice(-2)+" / "+this.totalMins+":"+("0"+this.totalSecs).slice(-2)),this.progress=Math.floor(b.currentTime/b.duration*100)):(1===this.app.page&&(this.playTime=this.currentMins+":"+("0"+this.currentSecs).slice(-2)+" / ?:??"),this.progress=0))},toggleVolume:function(){this.app.toggleVolume()},progressClick:function(a){var b,c;1!==this.page||this.app.narrow?0===this.page?(b=window.innerWidth,c=a.x):(b=500,c=a.x-(window.innerWidth-b)/2):(b=500,c=a.x-(window.innerWidth-b)/2-128);var d=this.audio.duration,e=c/b;this.progress=100*e,this.audio.currentTime=d-(d-d*e)},toggleRepeat:function(){this.app.repeatPlaylist?(this.app.repeatPlaylist=!1,this.app.repeatState=chrome.i18n.getMessage("disabled"),this.app.repeatText=chrome.i18n.getMessage("playlistRepeatOff"),this.$.rButton.style.color="rgb(158, 158, 158)",this.$.rButton2.style.color="rgb(158, 158, 158)",this.app.$.repeatButton.style.color="#db4437"):(this.app.repeatState=chrome.i18n.getMessage("enabled"),0===this.page?this.$.rButton.style.color="white":this.$.rButton2.style.color="black",this.app.$.repeatButton.style.color="#57BA67",this.app.repeatPlaylist=!0,this.app.repeatText=chrome.i18n.getMessage("playlistRepeatOn"))},smallChanged:function(a,b){this.async(function(){b?this.page=0:this.page=1})},createBookmark:function(){this.app.playlist[this.app.playing].artist,this.app.playlist[this.app.playing].title;this.app.$.playlistDialog.close(),this.app.$.bookmarkDialog.open(),this.app.bookmarkComment=this.app.playlist[this.app.playing].title+" at "+this.$.globals.secondsToMins(this.audio.currentTime)},submitBookmark:function(){this.app.submittingBookmark=!0;var a=Math.floor(1e3*this.audio.currentTime),b=this.$.globals.buildUrl("createBookmark",{id:this.app.playlist[this.app.playing].id,position:a,comment:this.app.bookmarkComment});this.$.globals.doXhr(b,"json").then(function(a){this.app.submittingBookmark=!1,"ok"===a.target.response["subsonic-response"].status?(this.$.globals.makeToast(this.$.globals.texts.markCreated),this.app.$.bookmarkDialog.close()):this.$.globals.makeToast(a.target.response["subsonic-response"].error.message)}.bind(this))},shufflePlaylist:function(){this.app.shufflePlaylist()}}),function(){"use strict";var a=document.querySelector("#tmpl");Polymer("album-details",{ready:function(){this.app=a},add2Playlist:function(){this.app.playlist=this.app.playlist.concat(this.playlist),this.$.globals.makeToast(this.$.globals.texts.added2Queue),this.app.dataLoading=!1,"audio"in this.app.$.player&&this.app.$.player.audio.paused?this.$.globals.playListIndex(0):this.app.$.player.audio||this.$.globals.playListIndex(0)},downloadAlbum:function(a,b,c){this.app.isDownloading=!0;var d=new DownloadManager;d.downloadAlbum({id:this.albumID,artist:this.artist,album:this.album,size:this.albumSize}),this.app.$.downloads.appendChild(d)},downloadTrack:function(a,b,c){var d=new DownloadManager;this.app.isDownloading=!0;var e=c.attributes.ident.value;d.downloadTrack(e),this.app.$.downloads.appendChild(d)},close:function(){this.app.tracker.sendAppView("Album Wall"),this.opened=!1,this.app.$.fab.state="off"},playSingle:function(a,b,c){this.app.playlist=[{id:c.attributes.ident.value,artist:c.attributes.artist.value,title:c.attributes.trackTitle.value,duration:c.attributes.duration.value,cover:this.imgURL,palette:this.palette,disk:0,track:0}],c.attributes.bookmark&&(this.app.playlist[0].bookmarkPosition=c.attributes.bookmark.value),this.$.globals.playListIndex(0)},addSingle2Playlist:function(a,b,c){this.app.playlist.push({id:c.attributes.ident.value,artist:c.attributes.artist.value,title:c.attributes.trackTitle.value,duration:c.attributes.duration.value,cover:this.imgURL,palette:this.palette,disk:0,track:0}),"audio"in this.app.$.player&&this.app.$.player.audio.paused?this.$.globals.playListIndex(0):this.app.$.player.audio||this.$.globals.playListIndex(0),this.$.globals.makeToast(this.$.globals.texts.added2Queue)},addFavorite:function(a,b,c){var d=this.$.globals.buildUrl("star",function(){return"ID3"===this.app.queryMethod?{albumId:this.albumID}:{id:this.albumID}}.bind(this)()),e=this.$.globals.attachAnimation(c);e.play(),this.$.globals.doXhr(d,"json").then(function(a){"ok"===a.target.response["subsonic-response"].status&&(this.isFavorite=!0,e.cancel())}.bind(this))},removeFavorite:function(a,b,c){var d=this.$.globals.buildUrl("unstar",function(){return"ID3"===this.app.queryMethod?{albumId:this.albumID}:{id:this.albumID}}.bind(this)()),e=this.$.globals.attachAnimation(c);e.play(),this.$.globals.doXhr(d,"json").then(function(a){"ok"===a.target.response["subsonic-response"].status&&(this.isFavorite=!1,e.cancel())}.bind(this))},conBookDel:function(a,b,c){this.delID=c.attributes.ident.value,this.close(),this.$.bookmarkConfirm.open()},_artist:function(){var a=document.getElementById("aDetails");this.app.dataLoading=!0,a.queryData(this.details.artistId),this.close()},deleteBookmark:function(a){var b=this.$.globals.buildUrl("deleteBookmark",{id:this.delID});this.$.globals.doXhr(b,"json").then(function(a){if("ok"!==a.target.response["subsonic-response"].status)this.$.globals.makeToast(a.target.response["subsonic-response"].error.message);else{var b=this.app.$.wall.$.all.querySelector("#ac"+this.details.id);b.doQuery()}}.bind(this))},playChoice:function(a,b,c){this.close(),this.$.playbackConfirm.open(),this.bookMark={id:c.attributes.ident.value,artist:c.attributes.artist.value,title:c.attributes.trackTitle.value,duration:c.attributes.duration.value,bookmarkPosition:c.attributes.bookmark.value,cover:c.attributes.cover.value},this.bookmarkTime=this.$.globals.secondsToMins(c.attributes.bookmark.value/1e3)},_dialogOpened:function(){this.app.$.fab.state="mid"},moreLike:function(){var a=this.details.artistId;this.close();var b=!1;this.app.dataLoading=!0;var c=this.$.globals.buildUrl("getSimilarSongs2",{count:50,id:a});this.$.globals.doXhr(c,"json").then(function(a){var c=a.target.response["subsonic-response"].similarSongs2.song;c.length?("audio"in this.app.$.player&&!this.app.$.player.audio.pause&&this.app.$.player.audio.pause(),this.app.playlist=[],c.forEach(function(a,c){var d={id:a.id,artist:a.artist,title:a.title,duration:this.$.globals.secondsToMins(a.duration)},e="al-"+a.albumId;this.$.globals.fetchImage(e).then(function(a){d.cover=a,this.$.globals.getDbItem(e+"-palette").then(function(a){d.palette=a.target.result,this.app.playlist.push(d),b||(b=!0,this.app.dataLoading=!1,this.$.globals.playListIndex(0))}.bind(this))}.bind(this))}.bind(this))):(this.app.dataLoading=!1,this.$.globals.makeToast(this.$.globals.texts.noResults))}.bind(this))},detailsChanged:function(){this.artist=this.details.artist,this.album=this.details.album,this.item=this.details.id,this.playlist=this.details.tracks,this.albumSize=this.details.size,this.imgURL=this.details.cover,this.palette=this.details.palette,this.albumID=this.details.id,this.isFavorite=this.details.isFavorite||!1,this.$.topper.style.backgroundImage="url('"+this.details.cover+"')";var a=this.artist+" / "+this.album;switch(!0){case a.length>120:this.$.nameTitle.style.fontSize="12pt";break;case a.length>100&&a.length<120:this.$.nameTitle.style.fontSize="13pt";break;default:this.$.nameTitle.style.fontSize="14pt"}this.$.nameTitle.textContent=a},_resized:function(a){this.$.detailsDialog.opened&&this.$.detailsDialog.resizeHandler()}})}(),window.simpleStorage=function(){var a={isChromeApp:"chrome"in window&&"storage"in chrome,hasLocalStorage:"localStorage"in window,getSync:function(a){return new Promise(function(b,c){if(this.isChromeApp)chrome.storage.sync.get(function(c){var d;a&&a in c?d=c[a]:a?d=void 0:a||(d=c),b(d)});else if(this.hasLocalStorage)if(a)try{var d=JSON.parse(localStorage[a]);d.type===typeof d.value&&b(d.value)}catch(e){b(localStorage[a])}else{var f={};for(var g in localStorage)try{var h=JSON.parse(localStorage[g]);h.type===typeof h.value&&(f[g]=h.value)}catch(e){f[g]=localStorage[g]}b(f)}else console.warn("localStorage is not supported in your browser")}.bind(this))},getLocal:function(a){return new Promise(function(b,c){if(this.isChromeApp)chrome.storage.local.get(function(c){var d;a&&a in c?d=c[a]:a?d=void 0:a||(d=c),b(d)});else if(this.hasLocalStorage)if(a)try{var d=JSON.parse(localStorage[a]);d.type===typeof d.value&&b(d.value)}catch(e){b(localStorage[a])}else{var f={};for(var g in localStorage)try{var h=JSON.parse(localStorage[g]);h.type===typeof h.value&&(f[g]=h.value)}catch(e){f[g]=localStorage[g]}b(f)}else console.warn("localStorage is not supported in your browser")}.bind(this))},setSync:function(a){if(!a||"object"!=typeof a)throw new Error("data must be an object");if(this.isChromeApp)chrome.storage.sync.set(a);else if(this.hasLocalStorage)for(var b in a)localStorage[b]=JSON.stringify({value:a[b],type:typeof a[b]});else console.warn("localStorage is not supported in your browser")},setLocal:function(a){if(!a||"object"!=typeof a)throw new Error("data must be an object");if(this.isChromeApp)chrome.storage.local.set(a);else if(this.hasLocalStorage)for(var b in a)localStorage[b]=JSON.stringify({value:a[b],type:typeof a[b]});else console.warn("localStorage is not supported in your browser")}};return a}(),function(){var a,b=b||{},c=this,d=function(){},e=function(a){var b=typeof a;if("object"==b){if(!a)return"null";if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else if("function"==b&&"undefined"==typeof a.call)return"object";return b},f=function(a){return"array"==e(a)},g=function(a){var b=e(a);return"array"==b||"object"==b&&"number"==typeof a.length},h=function(a){return"string"==typeof a},i=function(a){return"number"==typeof a},j=function(a){return"function"==e(a)},k=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b},l=function(a,b,c){return a.call.apply(a.bind,arguments)},m=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,d),a.apply(b,c)}}return function(){return a.apply(b,arguments)}},n=function(a,b,c){return n=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?l:m,n.apply(null,arguments)},o=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();return b.push.apply(b,arguments),a.apply(this,b)}},p=Date.now||function(){return+new Date},q=function(a,b){var d=a.split("."),e=c;d[0]in e||!e.execScript||e.execScript("var "+d[0]);for(var f;d.length&&(f=d.shift());)d.length||void 0===b?e=e[f]?e[f]:e[f]={}:e[f]=b},r=function(a,b){function c(){}c.prototype=b.prototype,a.L=b.prototype,a.prototype=new c,a.Pc=function(a,c,d){return b.prototype[c].apply(a,Array.prototype.slice.call(arguments,2))}};Function.prototype.bind=Function.prototype.bind||function(a,b){if(1<arguments.length){var c=Array.prototype.slice.call(arguments,1);return c.unshift(this,a),n.apply(null,c)}return n(this,a)};var s=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,s);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};r(s,Error),s.prototype.name="CustomError";var t=function(a,b){return b>a?-1:a>b?1:0},u=Array.prototype,v=u.indexOf?function(a,b,c){return u.indexOf.call(a,b,c)}:function(a,b,c){if(c=null==c?0:0>c?Math.max(0,a.length+c):c,h(a))return h(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},w=u.forEach?function(a,b,c){u.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=h(a)?a.split(""):a,f=0;d>f;f++)f in e&&b.call(c,e[f],f,a)},x=u.some?function(a,b,c){return u.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=h(a)?a.split(""):a,f=0;d>f;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1},y=u.every?function(a,b,c){return u.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=h(a)?a.split(""):a,f=0;d>f;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0},z=function(a){var b;a:{b=ed;for(var c=a.length,d=h(a)?a.split(""):a,e=0;c>e;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:h(a)?a.charAt(b):a[b]},A=function(a,b){var c,d=v(a,b);return(c=d>=0)&&u.splice.call(a,d,1),c},B=function(a){return u.concat.apply(u,arguments)},C=function(a,b,c){return 2>=arguments.length?u.slice.call(a,b):u.slice.call(a,b,c)},D="StopIteration"in c?c.StopIteration:Error("StopIteration"),E=function(){};E.prototype.next=function(){throw D},E.prototype.vc=function(){return this};var F=function(a,b,c){for(var d in a)b.call(c,a[d],d,a)},G=function(a){var b,c=[],d=0;for(b in a)c[d++]=a[b];return c},H=function(a){var b,c=[],d=0;for(b in a)c[d++]=b;return c},I=function(a,b){var c;a:{for(c in a)if(b.call(void 0,a[c],c,a))break a;c=void 0}return c&&a[c]},J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),K=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<J.length;f++)c=J[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}},L=function(a,b){this.p={},this.b=[],this.oa=this.h=0;var c=arguments.length;if(c>1){if(c%2)throw Error("Uneven number of arguments");for(var d=0;c>d;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.ia(a)};L.prototype.t=function(){M(this);for(var a=[],b=0;b<this.b.length;b++)a.push(this.p[this.b[b]]);return a},L.prototype.F=function(){return M(this),this.b.concat()},L.prototype.Q=function(a){return P(this.p,a)},L.prototype.remove=function(a){return P(this.p,a)?(delete this.p[a],this.h--,this.oa++,this.b.length>2*this.h&&M(this),!0):!1};var M=function(a){if(a.h!=a.b.length){for(var b=0,c=0;b<a.b.length;){var d=a.b[b];P(a.p,d)&&(a.b[c++]=d),b++}a.b.length=c}if(a.h!=a.b.length){for(var e={},c=b=0;b<a.b.length;)d=a.b[b],P(e,d)||(a.b[c++]=d,e[d]=1),b++;a.b.length=c}};a=L.prototype,a.get=function(a,b){return P(this.p,a)?this.p[a]:b},a.set=function(a,b){P(this.p,a)||(this.h++,this.b.push(a),this.oa++),this.p[a]=b},a.ia=function(a){var b;a instanceof L?(b=a.F(),a=a.t()):(b=H(a),a=G(a));for(var c=0;c<b.length;c++)this.set(b[c],a[c])},a.forEach=function(a,b){for(var c=this.F(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}},a.clone=function(){return new L(this)},a.Jb=function(){M(this);for(var a={},b=0;b<this.b.length;b++){var c=this.b[b];a[c]=this.p[c]}return a},a.vc=function(a){M(this);var b=0,c=this.b,d=this.p,e=this.oa,f=this,g=new E;return g.next=function(){for(;;){if(e!=f.oa)throw Error("The map has changed since the iterator was created");if(b>=c.length)throw D;var g=c[b++];return a?g:d[g]}},g};var N,O,P=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},Q={id:"hitType",name:"t",valueType:"text",maxLength:void 0,defaultValue:void 0},R={id:"sessionControl",name:"sc",valueType:"text",maxLength:void 0,defaultValue:void 0},S={id:"description",name:"cd",valueType:"text",maxLength:2048,defaultValue:void 0},T={id:"eventCategory",name:"ec",valueType:"text",maxLength:150,defaultValue:void 0},U={id:"eventAction",name:"ea",valueType:"text",maxLength:500,defaultValue:void 0},V={id:"eventLabel",name:"el",valueType:"text",maxLength:500,defaultValue:void 0},W={id:"eventValue",name:"ev",valueType:"integer",maxLength:void 0,defaultValue:void 0},X={pd:Q,Qc:{id:"anonymizeIp",name:"aip",valueType:"boolean",maxLength:void 0,defaultValue:void 0},Ad:{id:"queueTime",name:"qt",valueType:"integer",maxLength:void 0,defaultValue:void 0},Wc:{id:"cacheBuster",name:"z",valueType:"text",maxLength:void 0,defaultValue:void 0},Gd:R,Wd:{id:"userId",name:"uid",valueType:"text",maxLength:void 0,defaultValue:void 0},xd:{id:"nonInteraction",name:"ni",valueType:"boolean",maxLength:void 0,defaultValue:void 0},fd:S,Pd:{id:"title",name:"dt",valueType:"text",maxLength:1500,defaultValue:void 0},Sc:{id:"appId",name:"aid",valueType:"text",maxLength:150,defaultValue:void 0},Tc:{id:"appInstallerId",name:"aiid",valueType:"text",maxLength:150,defaultValue:void 0},jd:T,hd:U,kd:V,ld:W,Id:{id:"socialNetwork",name:"sn",valueType:"text",maxLength:50,defaultValue:void 0},Hd:{id:"socialAction",name:"sa",valueType:"text",maxLength:50,defaultValue:void 0},Jd:{id:"socialTarget",name:"st",valueType:"text",maxLength:2048,defaultValue:void 0},Sd:{id:"transactionId",name:"ti",valueType:"text",maxLength:500,defaultValue:void 0},Rd:{id:"transactionAffiliation",name:"ta",valueType:"text",maxLength:500,defaultValue:void 0},Td:{id:"transactionRevenue",name:"tr",valueType:"currency",maxLength:void 0,defaultValue:void 0},Ud:{id:"transactionShipping",name:"ts",valueType:"currency",maxLength:void 0,defaultValue:void 0},Vd:{id:"transactionTax",name:"tt",valueType:"currency",maxLength:void 0,defaultValue:void 0},dd:{id:"currencyCode",name:"cu",valueType:"text",maxLength:10,defaultValue:void 0},td:{id:"itemPrice",name:"ip",valueType:"currency",maxLength:void 0,defaultValue:void 0},ud:{id:"itemQuantity",name:"iq",valueType:"integer",maxLength:void 0,defaultValue:void 0},rd:{id:"itemCode",name:"ic",valueType:"text",maxLength:500,defaultValue:void 0},sd:{id:"itemName",name:"in",valueType:"text",maxLength:500,defaultValue:void 0},qd:{id:"itemCategory",name:"iv",valueType:"text",maxLength:500,defaultValue:void 0},bd:{id:"campaignSource",name:"cs",valueType:"text",maxLength:100,defaultValue:void 0},$c:{id:"campaignMedium",name:"cm",valueType:"text",maxLength:50,defaultValue:void 0},ad:{id:"campaignName",name:"cn",valueType:"text",maxLength:100,defaultValue:void 0},Zc:{id:"campaignKeyword",name:"ck",valueType:"text",maxLength:500,defaultValue:void 0},Xc:{id:"campaignContent",name:"cc",valueType:"text",maxLength:500,defaultValue:void 0},Yc:{id:"campaignId",name:"ci",valueType:"text",maxLength:100,defaultValue:void 0},od:{id:"gclid",name:"gclid",valueType:"text",maxLength:void 0,defaultValue:void 0},ed:{id:"dclid",name:"dclid",valueType:"text",maxLength:void 0,defaultValue:void 0},zd:{id:"pageLoadTime",name:"plt",valueType:"integer",maxLength:void 0,defaultValue:void 0},gd:{id:"dnsTime",name:"dns",valueType:"integer",maxLength:void 0,defaultValue:void 0},Kd:{id:"tcpConnectTime",name:"tcp",valueType:"integer",maxLength:void 0,defaultValue:void 0},Fd:{id:"serverResponseTime",name:"srt",valueType:"integer",maxLength:void 0,defaultValue:void 0},yd:{id:"pageDownloadTime",name:"pdt",valueType:"integer",maxLength:void 0,defaultValue:void 0},Bd:{id:"redirectResponseTime",name:"rrt",valueType:"integer",maxLength:void 0,defaultValue:void 0},Ld:{id:"timingCategory",name:"utc",valueType:"text",maxLength:150,defaultValue:void 0},Od:{id:"timingVar",name:"utv",valueType:"text",maxLength:500,defaultValue:void 0},Nd:{id:"timingValue",name:"utt",valueType:"integer",maxLength:void 0,defaultValue:void 0},Md:{id:"timingLabel",name:"utl",valueType:"text",maxLength:500,defaultValue:void 0},md:{id:"exDescription",name:"exd",valueType:"text",maxLength:150,defaultValue:void 0},nd:{id:"exFatal",name:"exf",valueType:"boolean",maxLength:void 0,defaultValue:"1"}},Y=function(a){if(1>a||a>200)throw Error("Expected dimension index range 1-200, but was : "+a);return{id:"dimension"+a,name:"cd"+a,valueType:"text",maxLength:150,defaultValue:void 0}},Z=function(a){if(1>a||a>200)throw Error("Expected metric index range 1-200, but was : "+a);return{id:"metric"+a,name:"cm"+a,valueType:"integer",maxLength:void 0,defaultValue:void 0}},$=function(a){return 1>a?"0":3>a?"1-2":(a=Math.floor(Math.log(a-1)/Math.log(2)),Math.pow(2,a)+1+"-"+Math.pow(2,a+1))},_=function(a,b){for(var c=0,d=a.length-1,e=0;d>=c;){var f=Math.floor((c+d)/2),e=a[f];if(e>=b){if(d=0==f?0:a[f-1],b>d)return(d+1).toString()+"-"+e.toString();d=f-1}else if(b>e){if(f>=a.length-1)return(a[a.length-1]+1).toString()+"+";c=f+1}}return"<= 0"},aa=function(){this.ab=[]},ba=function(){return new aa};a=aa.prototype,a.when=function(a){return this.ab.push(a),this},a.zb=function(a){var b=arguments;return this.when(function(a){return 0<=v(b,a.Gb())}),this},a.Oc=function(a,b){var c=C(arguments,1);return this.when(function(b){return b=b.T().get(a),0<=v(c,b)}),this},a.xb=function(a,b){if(k(this.e))throw Error("Filter has already been set.");return this.e=k(b)?n(a,b):a,this},a.Ca=function(){if(0==this.ab.length)throw Error("Must specify at least one predicate using #when or a helper method.");if(!k(this.e))throw Error("Must specify a delegate filter using #applyFilter.");return n(function(a){y(this.ab,function(b){return b(a)})&&this.e(a)},this)};var ca=function(){this.Ab=!1,this.Bb="",this.qb=!1,this.za=null};ca.prototype.wc=function(a){return this.Ab=!0,this.Bb=a||" - ",this},ca.prototype.Nc=function(){return this.qb=!0,this},ca.prototype.Ec=function(){return da(this,$)},ca.prototype.Fc=function(a){return da(this,o(_,a))};var da=function(a,b){if(null!=a.za)throw Error("LabelerBuilder: Only one labeling strategy may be used.");return a.za=n(function(a){var c=a.T().get(W),d=a.T().get(V);i(c)&&(c=b(c),null!=d&&this.Ab&&(c=d+this.Bb+c),a.T().set(V,c))},a),a};ca.prototype.Ca=function(){if(null==this.za)throw Error("LabelerBuilder: a labeling strategy must be specified prior to calling build().");return ba().zb("event").xb(n(function(a){this.za(a),this.qb&&a.T().remove(W)},this)).Ca()};var ea=function(a,b){var c=Array.prototype.slice.call(arguments),d=c.shift();if("undefined"==typeof d)throw Error("[goog.string.format] Template required");return d.replace(/%([0\-\ \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(a,b,d,e,f,g,h,i){if("%"==g)return"%";var j=c.shift();if("undefined"==typeof j)throw Error("[goog.string.format] Not enough arguments");return arguments[0]=j,fa[g].apply(null,arguments)})},fa={s:function(a,b,c){return isNaN(c)||""==c||a.length>=c?a:a=-1<b.indexOf("-",0)?a+Array(c-a.length+1).join(" "):Array(c-a.length+1).join(" ")+a},f:function(a,b,c,d,e){d=a.toString(),isNaN(e)||""==e||(d=a.toFixed(e));var f;return f=0>a?"-":0<=b.indexOf("+")?"+":0<=b.indexOf(" ")?" ":"",a>=0&&(d=f+d),isNaN(c)||d.length>=c?d:(d=isNaN(e)?Math.abs(a).toString():Math.abs(a).toFixed(e),a=c-d.length-f.length,d=0<=b.indexOf("-",0)?f+d+Array(a+1).join(" "):f+Array(a+1).join(0<=b.indexOf("0",0)?"0":" ")+d)},d:function(a,b,c,d,e,f,g,h){return fa.f(parseInt(a,10),b,c,d,0,f,g,h)}};fa.i=fa.d,fa.u=fa.d;var ga=function(a){if("function"==typeof a.t)return a.t();if(h(a))return a.split("");if(g(a)){for(var b=[],c=a.length,d=0;c>d;d++)b.push(a[d]);return b}return G(a)},ha=function(a,b){if("function"==typeof a.forEach)a.forEach(b,void 0);else if(g(a)||h(a))w(a,b,void 0);else{var c;if("function"==typeof a.F)c=a.F();else if("function"!=typeof a.t)if(g(a)||h(a)){c=[];for(var d=a.length,e=0;d>e;e++)c.push(e)}else c=H(a);else c=void 0;for(var d=ga(a),e=d.length,f=0;e>f;f++)b.call(void 0,d[f],c&&c[f],a)}},ia=function(a){this.B=new L;for(var b=arguments,c=0;c<b.length;c+=2)this.set(b[c],b[c+1])};ia.prototype.set=function(a,b){this.B.set(a.name,{key:a,value:b})},ia.prototype.remove=function(a){this.B.remove(a.name)},ia.prototype.get=function(a){return a=this.B.get(a.name,null),null===a?null:a.value},ia.prototype.ia=function(a){this.B.ia(a.B)};var ja=function(a,b){w(a.B.t(),function(a){b(a.key,a.value)})};ia.prototype.Jb=function(){var a={};return ja(this,function(b,c){a[b.id]=c}),a},ia.prototype.clone=function(){var a=new ia;return a.B=this.B.clone(),a},ia.prototype.toString=function(){var a={};return ja(this,function(b,c){a[b.id]=c}),JSON.stringify(a)};var ka=function(a){this.e=a};a=ka.prototype,a.xc=function(a){var b=new ka(n(this.P,this));return b.I=T,b.N=a,b},a.action=function(a){var b=new ka(n(this.P,this));return b.I=U,b.N=a,b},a.label=function(a){var b=new ka(n(this.P,this));return b.I=V,b.N=a,b},a.value=function(a){var b=new ka(n(this.P,this));return b.I=W,b.N=a,b},a.yc=function(a,b){var c=new ka(n(this.P,this));return c.I=Y(a),c.N=b,c},a.Dc=function(a,b){var c=new ka(n(this.P,this));return c.I=Z(a),c.N=b,c},a.send=function(a){var b=new ia;return this.P(b),a.send("event",b)},a.P=function(a){null!=this.I&&null!=this.N&&!a.B.Q(this.I.name)&&a.set(this.I,this.N),k(this.e)&&this.e(a)};var la=new ka(d),ma=function(){this.Y=this.Y,this.Da=this.Da};ma.prototype.Y=!1,ma.prototype.xa=function(){this.Y||(this.Y=!0,this.l())},ma.prototype.l=function(){if(this.Da)for(;this.Da.length;)this.Da.shift()()};var na=function(a,b){this.type=a,this.currentTarget=this.target=b,this.defaultPrevented=this.U=!1,this.kb=!0};na.prototype.l=function(){},na.prototype.xa=function(){},na.prototype.preventDefault=function(){this.defaultPrevented=!0,this.kb=!1};var oa=function(a){return oa[" "](a),
a};oa[" "]=d;var pa;a:{var qa=c.navigator;if(qa){var ra=qa.userAgent;if(ra){pa=ra;break a}}pa=""}var sa=function(a){return-1!=pa.indexOf(a)},ta=sa("Opera")||sa("OPR"),ua=sa("Trident")||sa("MSIE"),va=sa("Gecko")&&-1==pa.toLowerCase().indexOf("webkit")&&!(sa("Trident")||sa("MSIE")),wa=-1!=pa.toLowerCase().indexOf("webkit"),xa=function(){var a=c.document;return a?a.documentMode:void 0},ya=function(){var a,b="";return ta&&c.opera?(b=c.opera.version,j(b)?b():b):(va?a=/rv\:([^\);]+)(\)|;)/:ua?a=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:wa&&(a=/WebKit\/(\S+)/),a&&(b=(b=a.exec(pa))?b[1]:""),ua&&(a=xa(),a>parseFloat(b))?String(a):b)}(),za={},Aa=function(a){var b;if(!(b=za[a])){b=0;for(var c=String(ya).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=Math.max(c.length,d.length),f=0;0==b&&e>f;f++){var g=c[f]||"",h=d[f]||"",i=RegExp("(\\d*)(\\D*)","g"),j=RegExp("(\\d*)(\\D*)","g");do{var k=i.exec(g)||["","",""],l=j.exec(h)||["","",""];if(0==k[0].length&&0==l[0].length)break;b=t(0==k[1].length?0:parseInt(k[1],10),0==l[1].length?0:parseInt(l[1],10))||t(0==k[2].length,0==l[2].length)||t(k[2],l[2])}while(0==b)}b=za[a]=b>=0}return b},Ba=c.document,Ca=Ba&&ua?xa()||("CSS1Compat"==Ba.compatMode?parseInt(ya,10):5):void 0,Da=!ua||ua&&Ca>=9,Ea=ua&&!Aa("9"),Fa=!wa||Aa("528"),Ga=va&&Aa("1.9b")||ua&&Aa("8")||ta&&Aa("9.5")||wa&&Aa("528"),Ha=va&&!Aa("8")||ua&&!Aa("9"),Ia=function(a,b){if(na.call(this,a?a.type:""),this.relatedTarget=this.currentTarget=this.target=null,this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.Db=this.state=null,a){var c=this.type=a.type;this.target=a.target||a.srcElement,this.currentTarget=b;var d=a.relatedTarget;if(d){if(va){var e;a:{try{oa(d.nodeName),e=!0;break a}catch(f){}e=!1}e||(d=null)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d,this.offsetX=wa||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=wa||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0,this.button=a.button,this.keyCode=a.keyCode||0,this.charCode=a.charCode||("keypress"==c?a.keyCode:0),this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.state=a.state,this.Db=a,a.defaultPrevented&&this.preventDefault()}};r(Ia,na),Ia.prototype.preventDefault=function(){Ia.L.preventDefault.call(this);var a=this.Db;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Ea)try{(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)&&(a.keyCode=-1)}catch(b){}},Ia.prototype.l=function(){};var Ja="closure_listenable_"+(1e6*Math.random()|0),Ka=function(a){return!(!a||!a[Ja])},La=0,Ma=function(a,b,c,d,e){this.O=a,this.proxy=null,this.src=b,this.type=c,this.pa=!!d,this.sa=e,this.key=++La,this.removed=this.qa=!1},Na=function(a){a.removed=!0,a.O=null,a.proxy=null,a.src=null,a.sa=null},Oa=function(a){this.src=a,this.j={},this.Z=0};Oa.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.j[f],a||(a=this.j[f]=[],this.Z++);var g=Qa(a,b,d,e);return g>-1?(b=a[g],c||(b.qa=!1)):(b=new Ma(b,this.src,f,!!d,e),b.qa=c,a.push(b)),b},Oa.prototype.remove=function(a,b,c,d){if(a=a.toString(),!(a in this.j))return!1;var e=this.j[a];return b=Qa(e,b,c,d),b>-1?(Na(e[b]),u.splice.call(e,b,1),0==e.length&&(delete this.j[a],this.Z--),!0):!1};var Pa=function(a,b){var c=b.type;if(!(c in a.j))return!1;var d=A(a.j[c],b);return d&&(Na(b),0==a.j[c].length&&(delete a.j[c],a.Z--)),d};Oa.prototype.removeAll=function(a){a=a&&a.toString();var b,c=0;for(b in this.j)if(!a||b==a){for(var d=this.j[b],e=0;e<d.length;e++)++c,Na(d[e]);delete this.j[b],this.Z--}return c},Oa.prototype.X=function(a,b,c,d){a=this.j[a.toString()];var e=-1;return a&&(e=Qa(a,b,c,d)),e>-1?a[e]:null};var Qa=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.removed&&f.O==b&&f.pa==!!c&&f.sa==d)return e}return-1},Ra="closure_lm_"+(1e6*Math.random()|0),Sa={},Ta=0,Ua=function(a,b,c,d,e){if(f(b)){for(var g=0;g<b.length;g++)Ua(a,b[g],c,d,e);return null}return c=eb(c),Ka(a)?a.listen(b,c,d,e):Va(a,b,c,!1,d,e)},Va=function(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=!!e,h=cb(a);return h||(a[Ra]=h=new Oa(a)),c=h.add(b,c,d,e,f),c.proxy?c:(d=Wa(),c.proxy=d,d.src=a,d.O=c,a.addEventListener?a.addEventListener(b.toString(),d,g):a.attachEvent($a(b.toString()),d),Ta++,c)},Wa=function(){var a=bb,b=Da?function(c){return a.call(b.src,b.O,c)}:function(c){return c=a.call(b.src,b.O,c),c?void 0:c};return b},Xa=function(a,b,c,d,e){if(f(b)){for(var g=0;g<b.length;g++)Xa(a,b[g],c,d,e);return null}return c=eb(c),Ka(a)?a.bb(b,c,d,e):Va(a,b,c,!0,d,e)},Ya=function(a,b,c,d,e){if(f(b))for(var g=0;g<b.length;g++)Ya(a,b[g],c,d,e);else c=eb(c),Ka(a)?a.Va(b,c,d,e):a&&(a=cb(a))&&(b=a.X(b,c,!!d,e))&&Za(b)},Za=function(a){if(i(a)||!a||a.removed)return!1;var b=a.src;if(Ka(b))return Pa(b.A,a);var c=a.type,d=a.proxy;return b.removeEventListener?b.removeEventListener(c,d,a.pa):b.detachEvent&&b.detachEvent($a(c),d),Ta--,(c=cb(b))?(Pa(c,a),0==c.Z&&(c.src=null,b[Ra]=null)):Na(a),!0},$a=function(a){return a in Sa?Sa[a]:Sa[a]="on"+a},_a=function(a,b,c,d){var e=1;if((a=cb(a))&&(b=a.j[b.toString()]))for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.pa==c&&!f.removed&&(e&=!1!==ab(f,d))}return Boolean(e)},ab=function(a,b){var c=a.O,d=a.sa||a.src;return a.qa&&Za(a),c.call(d,b)},bb=function(a,b){if(a.removed)return!0;if(!Da){var d;if(!(d=b))a:{d=["window","event"];for(var e,f=c;e=d.shift();){if(null==f[e]){d=null;break a}f=f[e]}d=f}if(e=d,d=new Ia(e,this),f=!0,!(0>e.keyCode||void 0!=e.returnValue)){a:{var g=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(h){g=!0}(g||void 0==e.returnValue)&&(e.returnValue=!0)}for(e=[],g=d.currentTarget;g;g=g.parentNode)e.push(g);for(var g=a.type,i=e.length-1;!d.U&&i>=0;i--)d.currentTarget=e[i],f&=_a(e[i],g,!0,d);for(i=0;!d.U&&i<e.length;i++)d.currentTarget=e[i],f&=_a(e[i],g,!1,d)}return f}return ab(a,new Ia(b,this))},cb=function(a){return a=a[Ra],a instanceof Oa?a:null},db="__closure_events_fn_"+(1e9*Math.random()>>>0),eb=function(a){return j(a)?a:(a[db]||(a[db]=function(b){return a.handleEvent(b)}),a[db])},fb=function(){ma.call(this),this.A=new Oa(this),this.kc=this,this.Qa=null};r(fb,ma),fb.prototype[Ja]=!0,a=fb.prototype,a.addEventListener=function(a,b,c,d){Ua(this,a,b,c,d)},a.removeEventListener=function(a,b,c,d){Ya(this,a,b,c,d)},a.dispatchEvent=function(a){var b,c=this.Qa;if(c){b=[];for(var d=1;c;c=c.Qa)b.push(c),++d}if(c=this.kc,d=a.type||a,h(a))a=new na(a,c);else if(a instanceof na)a.target=a.target||c;else{var e=a;a=new na(d,c),K(a,e)}var f,e=!0;if(b)for(var g=b.length-1;!a.U&&g>=0;g--)f=a.currentTarget=b[g],e=gb(f,d,!0,a)&&e;if(a.U||(f=a.currentTarget=c,e=gb(f,d,!0,a)&&e,a.U||(e=gb(f,d,!1,a)&&e)),b)for(g=0;!a.U&&g<b.length;g++)f=a.currentTarget=b[g],e=gb(f,d,!1,a)&&e;return e},a.l=function(){fb.L.l.call(this),this.A&&this.A.removeAll(void 0),this.Qa=null},a.listen=function(a,b,c,d){return this.A.add(String(a),b,!1,c,d)},a.bb=function(a,b,c,d){return this.A.add(String(a),b,!0,c,d)},a.Va=function(a,b,c,d){return this.A.remove(String(a),b,c,d)};var gb=function(a,b,c,d){if(b=a.A.j[String(b)],!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.removed&&g.pa==c){var h=g.O,i=g.sa||g.src;g.qa&&Pa(a.A,g),e=!1!==h.call(i,d)&&e}}return e&&0!=d.kb};fb.prototype.X=function(a,b,c,d){return this.A.X(String(a),b,c,d)};var hb,ib,jb=function(a){c.setTimeout(function(){throw a},0)},kb=function(){var a=c.MessageChannel;if("undefined"==typeof a&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&(a=function(){var a=document.createElement("iframe");a.style.display="none",a.src="",document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open(),a.write(""),a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=n(function(a){(a.origin==d||a.data==c)&&this.port1.onmessage()},this);b.addEventListener("message",a,!1),this.port1={},this.port2={postMessage:function(){b.postMessage(c,d)}}}),"undefined"!=typeof a&&!sa("Trident")&&!sa("MSIE")){var b=new a,d={},e=d;return b.port1.onmessage=function(){d=d.next;var a=d.Fb;d.Fb=null,a()},function(a){e.next={Fb:a},e=e.next,b.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("script")?function(a){var b=document.createElement("script");b.onreadystatechange=function(){b.onreadystatechange=null,b.parentNode.removeChild(b),b=null,a(),a=null},document.documentElement.appendChild(b)}:function(a){c.setTimeout(a,0)}},lb=function(a,b){ib||mb(),nb||(ib(),nb=!0),ob.push(new qb(a,b))},mb=function(){if(c.Promise&&c.Promise.resolve){var a=c.Promise.resolve();ib=function(){a.then(pb)}}else ib=function(){var a=pb;!j(c.setImmediate)||c.Window&&c.Window.prototype.setImmediate==c.setImmediate?(hb||(hb=kb()),hb(a)):c.setImmediate(a)}},nb=!1,ob=[],pb=function(){for(;ob.length;){var a=ob;ob=[];for(var b=0;b<a.length;b++){var c=a[b];try{c.zc.call(c.scope)}catch(d){jb(d)}}}nb=!1},qb=function(a,b){this.zc=a,this.scope=b},rb=function(a){a.prototype.then=a.prototype.then,a.prototype.$goog_Thenable=!0},sb=function(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}},tb=function(a,b){this.m=0,this.v=void 0,this.n=this.o=null,this.ua=this.La=!1;try{var c=this;a.call(b,function(a){xb(c,2,a)},function(a){xb(c,3,a)})}catch(d){xb(this,3,d)}};tb.prototype.then=function(a,b,c){return wb(this,j(a)?a:null,j(b)?b:null,c)},rb(tb),tb.prototype.cancel=function(a){0==this.m&&lb(function(){var b=new Db(a);ub(this,b)},this)};var ub=function(a,b){if(0==a.m)if(a.o){var c=a.o;if(c.n){for(var d,e=0,f=-1,g=0;(d=c.n[g])&&!((d=d.wa)&&(e++,d==a&&(f=g),f>=0&&e>1));g++);f>=0&&(0==c.m&&1==e?ub(c,b):(e=c.n.splice(f,1)[0],Ab(c),e.Ma(b)))}}else xb(a,3,b)},vb=function(a,b){a.n&&a.n.length||2!=a.m&&3!=a.m||zb(a),a.n||(a.n=[]),a.n.push(b)},wb=function(a,b,c,d){var e={wa:null,jb:null,Ma:null};return e.wa=new tb(function(a,f){e.jb=b?function(c){try{var e=b.call(d,c);a(e)}catch(g){f(g)}}:a,e.Ma=c?function(b){try{var e=c.call(d,b);void 0===e&&b instanceof Db?f(b):a(e)}catch(g){f(g)}}:f}),e.wa.o=a,vb(a,e),e.wa};tb.prototype.vb=function(a){this.m=0,xb(this,2,a)},tb.prototype.wb=function(a){this.m=0,xb(this,3,a)};var xb=function(a,b,c){if(0==a.m){if(a==c)b=3,c=new TypeError("Promise cannot resolve to itself");else{if(sb(c))return a.m=1,void c.then(a.vb,a.wb,a);if(k(c))try{var d=c.then;if(j(d))return void yb(a,c,d)}catch(e){b=3,c=e}}a.v=c,a.m=b,zb(a),3!=b||c instanceof Db||Bb(a,c)}},yb=function(a,b,c){a.m=1;var d=!1,e=function(b){d||(d=!0,a.vb(b))},f=function(b){d||(d=!0,a.wb(b))};try{c.call(b,e,f)}catch(g){f(g)}},zb=function(a){a.La||(a.La=!0,lb(a.uc,a))};tb.prototype.uc=function(){for(;this.n&&this.n.length;){var a=this.n;this.n=[];for(var b=0;b<a.length;b++){var c=a[b],d=this.v;2==this.m?c.jb(d):(Ab(this),c.Ma(d))}}this.La=!1};var Ab=function(a){for(;a&&a.ua;a=a.o)a.ua=!1},Bb=function(a,b){a.ua=!0,lb(function(){a.ua&&Cb.call(null,b)})},Cb=jb,Db=function(a){s.call(this,a)};r(Db,s),Db.prototype.name="cancel";var Eb=function(a,b){this.ja=[],this.hb=a,this.gb=b||null,this.W=this.C=!1,this.v=void 0,this.Ka=this.Lb=this.Ja=!1,this.ka=0,this.o=null,this.Ia=0};Eb.prototype.cancel=function(a){if(this.C)this.v instanceof Eb&&this.v.cancel();else{if(this.o){var b=this.o;delete this.o,a?b.cancel(a):(b.Ia--,0>=b.Ia&&b.cancel())}this.hb?this.hb.call(this.gb,this):this.Ka=!0,this.C||this.w(new Ob)}},Eb.prototype.ib=function(a,b){this.Ja=!1,Fb(this,a,b)};var Fb=function(a,b,c){a.C=!0,a.v=c,a.W=!b,Kb(a)},Gb=function(a){if(a.C){if(!a.Ka)throw new Nb;a.Ka=!1}};Eb.prototype.G=function(a){Gb(this),Fb(this,!0,a)},Eb.prototype.w=function(a){Gb(this),Fb(this,!1,a)},Eb.prototype.J=function(a,b){return Hb(this,a,null,b)};var Hb=function(a,b,c,d){return a.ja.push([b,c,d]),a.C&&Kb(a),a};Eb.prototype.then=function(a,b,c){var d,e,f=new tb(function(a,b){d=a,e=b});return Hb(this,d,function(a){a instanceof Ob?f.cancel():e(a)}),f.then(a,b,c)},rb(Eb);var Ib=function(a){var b=new Eb;return Hb(a,b.G,b.w,b),b},Jb=function(a){return x(a.ja,function(a){return j(a[1])})},Kb=function(a){if(a.ka&&a.C&&Jb(a)){var b=a.ka,d=Qb[b];d&&(c.clearTimeout(d.ma),delete Qb[b]),a.ka=0}a.o&&(a.o.Ia--,delete a.o);for(var b=a.v,e=d=!1;a.ja.length&&!a.Ja;){var f=a.ja.shift(),g=f[0],h=f[1],f=f[2];if(g=a.W?h:g)try{var i=g.call(f||a.gb,b);void 0!==i&&(a.W=a.W&&(i==b||i instanceof Error),a.v=b=i),sb(b)&&(e=!0,a.Ja=!0)}catch(j){b=j,a.W=!0,Jb(a)||(d=!0)}}a.v=b,e&&(i=n(a.ib,a,!0),e=n(a.ib,a,!1),b instanceof Eb?(Hb(b,i,e),b.Lb=!0):b.then(i,e)),d&&(b=new Pb(b),Qb[b.ma]=b,a.ka=b.ma)},Lb=function(a){var b=new Eb;return b.G(a),b},Mb=function(){var a=Kc,b=new Eb;return b.w(a),b},Nb=function(){s.call(this)};r(Nb,s),Nb.prototype.message="Deferred has already fired",Nb.prototype.name="AlreadyCalledError";var Ob=function(){s.call(this)};r(Ob,s),Ob.prototype.message="Deferred was canceled",Ob.prototype.name="CanceledError";var Pb=function(a){this.ma=c.setTimeout(n(this.pc,this),0),this.ga=a};Pb.prototype.pc=function(){throw delete Qb[this.ma],this.ga};var Qb={},Rb=function(a){this.$a=[],this.e=a};Rb.prototype.S=function(a){if(!j(a))throw Error("Invalid filter. Must be a function.");this.$a.push(a)},Rb.prototype.send=function(a,b){for(var c=new Sb(a,b),d=0;d<this.$a.length&&(this.$a[d](c),!c.Za);d++);return c.Za?Lb():this.e.send(a,b)};var Sb=function(a,b){this.rc=a,this.qc=b,this.Za=!1};Sb.prototype.Gb=function(){return this.rc},Sb.prototype.T=function(){return this.qc},Sb.prototype.cancel=function(){this.Za=!0};var Tb=function(a,b){this.width=a,this.height=b};Tb.prototype.clone=function(){return new Tb(this.width,this.height)},Tb.prototype.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},!va&&!ua||ua&&ua&&Ca>=9||va&&Aa("1.9.1"),ua&&Aa("9");var Ub={id:"apiVersion",name:"v",valueType:"text",maxLength:void 0,defaultValue:void 0},Vb={id:"appName",name:"an",valueType:"text",maxLength:100,defaultValue:void 0},Wb={id:"appVersion",name:"av",valueType:"text",maxLength:100,defaultValue:void 0},Xb={id:"clientId",name:"cid",valueType:"text",maxLength:void 0,defaultValue:void 0},Yb={id:"language",name:"ul",valueType:"text",maxLength:20,defaultValue:void 0},Zb={id:"libVersion",name:"_v",valueType:"text",maxLength:void 0,defaultValue:void 0},$b={id:"sampleRateOverride",name:"usro",valueType:"integer",maxLength:void 0,defaultValue:void 0},_b={id:"screenColors",name:"sd",valueType:"text",maxLength:20,defaultValue:void 0},ac={id:"screenResolution",name:"sr",valueType:"text",maxLength:20,defaultValue:void 0},bc={id:"trackingId",name:"tid",valueType:"text",maxLength:void 0,defaultValue:void 0},cc={id:"viewportSize",name:"vp",valueType:"text",maxLength:20,defaultValue:void 0},dc={Rc:Ub,Uc:Vb,Vc:Wb,cd:Xb,vd:Yb,wd:Zb,Cd:$b,Dd:_b,Ed:ac,Qd:bc,Xd:cc},ec=function(a){if(!h(a))return a;var b=fc(a,X);if(k(b))return b;if(b=fc(a,dc),k(b))return b;if(b=/^dimension(\d+)$/.exec(a),null!==b)return Y(parseInt(b[1],10));if(b=/^metric(\d+)$/.exec(a),null!==b)return Z(parseInt(b[1],10));throw Error(a+" is not a valid parameter name.")},fc=function(a,b){var c=I(b,function(b){return b.id==a&&"metric"!=a&&"dimension"!=a});return k(c)?c:null},gc=function(a,b){this.Zb=b,this.q=b.Sa(),this.sb=new ia,this.Ya=!1};a=gc.prototype,a.set=function(a,b){var c=ec(a);this.sb.set(c,b)},a.S=function(a){this.Zb.S(a)},a.send=function(a,b){if(a instanceof ka)return a.send(this);var c=this.sb.clone();return b instanceof ia?c.ia(b):k(b)&&F(b,function(a,b){null!=a&&c.set(ec(b),a)},this),this.Ya&&(this.Ya=!1,c.set(R,"start")),this.q.send(a,c)},a.Gc=function(a){var b={description:a};return this.set(S,a),this.send("appview",b)},a.Hc=function(a,b,c,d){return this.send("event",{eventCategory:a,eventAction:b,eventLabel:c,eventValue:d})},a.Jc=function(a,b,c){return this.send("social",{socialNetwork:a,socialAction:b,socialTarget:c})},a.Ic=function(a,b){return this.send("exception",{exDescription:a,exFatal:b})},a.Cb=function(a,b,c,d,e){return this.send("timing",{timingCategory:a,timingVar:b,timingLabel:d,timingValue:c,sampleRateOverride:e})},a.Ac=function(){this.Ya=!0},a.Mc=function(a,b,c,d){return new hc(this,a,b,c,d)};var hc=function(a,b,c,d,e){this.yb=a,this.bc=b,this.ec=c,this.cc=d,this.V=e,this.dc=p()};hc.prototype.send=function(){var a=this.yb.Cb(this.bc,this.ec,p()-this.dc,this.cc,this.V);return this.yb=null,a};var ic=function(a,b,c,d,e){this.ic=a,this.fc=b,this.gc=c,this.k=d,this.hc=e};ic.prototype.Cc=function(a){var b=new gc(0,this.hc.create());return b.set(Zb,this.ic),b.set(Ub,1),b.set(Vb,this.fc),b.set(Wb,this.gc),b.set(bc,a),a=window.navigator.language,b.set(Yb,a),a=screen.colorDepth+"-bit",b.set(_b,a),a=[screen.width,screen.height].join("x"),b.set(ac,a),a=window.document,a="CSS1Compat"==a.compatMode?a.documentElement:a.body,a=new Tb(a.clientWidth,a.clientHeight),a=[a.width,a.height].join("x"),b.set(cc,a),b},ic.prototype.Bc=function(){return Ib(this.k.ha)};var jc=function(a){this.sc=a};jc.prototype.send=function(a,b){return this.sc.push({Ub:a,Vb:b}),Lb()};var kc=function(a,b,c){this.k=a,this.ra=[],this.M={enabled:new jc(this.ra),disabled:c},this.q=this.M.enabled,Hb(Ib(this.k.ha),o(this.Pb,b),this.Ob,this)};kc.prototype.Pb=function(a){this.M.enabled=a(),lc(this),w(this.ra,function(a){this.send(a.Ub,a.Vb)},this),this.ra=null,rc(this.k,n(this.Xb,this))},kc.prototype.Ob=function(){this.q=this.M.enabled=this.M.disabled,this.ra=null},kc.prototype.send=function(a,b){return this.q.send(a,b)};var lc=function(a){a.q=a.k.va()?a.M.enabled:a.M.disabled};kc.prototype.Xb=function(a){switch(a){case"analytics.tracking-permitted":lc(this)}};var mc=function(a,b,c,d,e,f){for(Eb.call(this,e,f),this.Na=a,this.Oa=[],this.lb=!!b,this.Nb=!!c,this.Mb=!!d,b=this.mb=0;b<a.length;b++)Hb(a[b],n(this.rb,this,b,!0),n(this.rb,this,b,!1));0!=a.length||this.lb||this.G(this.Oa)};r(mc,Eb),mc.prototype.rb=function(a,b,c){return this.mb++,this.Oa[a]=[b,c],this.C||(this.lb&&b?this.G([a,c]):this.Nb&&!b?this.w(c):this.mb==this.Na.length&&this.G(this.Oa)),this.Mb&&!b&&(c=null),c},mc.prototype.w=function(a){for(mc.L.w.call(this,a),a=0;a<this.Na.length;a++)this.Na[a].cancel()};var nc=function(a){return new mc(a,!1,!0).J(function(a){for(var b=[],c=0;c<a.length;c++)b[c]=a[c][1];return b})},oc=function(a){this.H=a,this.V=100,this.nb=[],this.Pa=this.la=null,this.ha=pc(this),this.ha.J(function(){Ua(this.H,"a",n(this.Rb,this))},this)},pc=function(a){return qc(a).J(function(){return this},a)},qc=function(a){return nc([sc(a),tc(a)])};oc.prototype.Rb=function(){var a=this.la,b=this.va();qc(this).J(function(){if(a!=this.la)throw Error("User ID changed unexpectedly!");b!=this.va()&&uc(this)},this)};var rc=function(a,b){a.nb.push(b)};oc.prototype.Lc=function(a){this.H.set("analytics.tracking-permitted",a).J(function(){this.Pa=a},this)},oc.prototype.va=function(){var a;return(a=this.Pa)&&(a=c._gaUserPrefs,a=!(a&&a.ioo&&a.ioo())),a};var sc=function(a){return a.H.get("analytics.tracking-permitted").J(function(a){this.Pa=void 0!==a?a:!0},a)},tc=function(a){return a.H.get("analytics.user-id").J(function(a){if(!a){a="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".split("");for(var b=0,c=a.length;c>b;b++)switch(a[b]){case"x":a[b]=Math.floor(16*Math.random()).toString(16);break;case"y":a[b]=(Math.floor(4*Math.random())+8).toString(16)}a=a.join(""),this.H.set("analytics.user-id",a)}this.la=a},a)};oc.prototype.Kc=function(a){this.V=a};var uc=function(a){w(a.nb,function(a){a("analytics.tracking-permitted")})},vc=function(a){fb.call(this),this.Wa=a,this.H=chrome.storage.local,chrome.storage.onChanged.addListener(n(this.nc,this))};r(vc,fb),vc.prototype.nc=function(a){wc(this,a)&&this.dispatchEvent("a")};var wc=function(a,b){return x(H(b),function(a){return 0==a.lastIndexOf(this.Wa,0)},a)};vc.prototype.get=function(a){var b=new Eb,c=this.Wa+"."+a;return this.H.get(c,function(a){var d=chrome.runtime.lastError;d?b.w(d):b.G(a[c])}),b},vc.prototype.set=function(a,b){var c=new Eb,d={};return d[this.Wa+"."+a]=b,this.H.set(d,function(){var a=chrome.runtime.lastError;a?c.w(a):c.G()}),c};var xc=function(){};xc.Yb=function(){return xc.Ib?xc.Ib:xc.Ib=new xc},xc.prototype.send=function(){return Lb()};var yc=function(a,b){this.Xa=[];var c=n(function(){return this.Aa=new Rb(b.Sa()),w(this.Xa,function(a){this.Aa.S(a)},this),this.Xa=null,this.Aa},this);this.q=new kc(a,c,xc.Yb())};yc.prototype.Sa=function(){return this.q},yc.prototype.S=function(a){this.Aa?this.Aa.S(a):this.Xa.push(a)};var zc=function(a,b){this.k=a,this.mc=b};zc.prototype.create=function(){return new yc(this.k,this.mc)};var Ac=function(a,b){fb.call(this),this.ya=a||1,this.R=b||c,this.Ra=n(this.lc,this),this.Ta=p()};r(Ac,fb),a=Ac.prototype,a.enabled=!1,a.g=null,a.lc=function(){if(this.enabled){var a=p()-this.Ta;a>0&&a<.8*this.ya?this.g=this.R.setTimeout(this.Ra,this.ya-a):(this.g&&(this.R.clearTimeout(this.g),this.g=null),this.dispatchEvent("tick"),this.enabled&&(this.g=this.R.setTimeout(this.Ra,this.ya),this.Ta=p()))}},a.start=function(){this.enabled=!0,this.g||(this.g=this.R.setTimeout(this.Ra,this.ya),this.Ta=p())},a.stop=function(){this.enabled=!1,this.g&&(this.R.clearTimeout(this.g),this.g=null)},a.l=function(){Ac.L.l.call(this),this.stop(),delete this.R};var Bc=function(a,b,d){if(j(a))d&&(a=n(a,d));else{if(!a||"function"!=typeof a.handleEvent)throw Error("Invalid listener argument");a=n(a.handleEvent,a)}return b>2147483647?-1:c.setTimeout(a,b||0)},Cc=function(a){ma.call(this),this.Ua=a,this.b={}};r(Cc,ma);var Dc=[];Cc.prototype.listen=function(a,b,c,d){f(b)||(b&&(Dc[0]=b.toString()),b=Dc);for(var e=0;e<b.length;e++){var g=Ua(a,b[e],c||this.handleEvent,d||!1,this.Ua||this);if(!g)break;this.b[g.key]=g}return this},Cc.prototype.bb=function(a,b,c,d){return Ec(this,a,b,c,d)};var Ec=function(a,b,c,d,e,g){if(f(c))for(var h=0;h<c.length;h++)Ec(a,b,c[h],d,e,g);else{if(b=Xa(b,c,d||a.handleEvent,e,g||a.Ua||a),!b)return a;a.b[b.key]=b}return a};Cc.prototype.Va=function(a,b,c,d,e){if(f(b))for(var g=0;g<b.length;g++)this.Va(a,b[g],c,d,e);else c=c||this.handleEvent,e=e||this.Ua||this,c=eb(c),d=!!d,b=Ka(a)?a.X(b,c,d,e):a&&(a=cb(a))?a.X(b,c,d,e):null,b&&(Za(b),delete this.b[b.key]);return this},Cc.prototype.removeAll=function(){F(this.b,Za),this.b={}},Cc.prototype.l=function(){Cc.L.l.call(this),this.removeAll()},Cc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fc=function(){fb.call(this),this.ta=new Cc(this),Fa&&(Ga?this.ta.listen(Ha?document.body:window,["online","offline"],this.tb):(this.ub=Fa?navigator.onLine:!0,this.g=new Ac(250),this.ta.listen(this.g,"tick",this.ac),this.g.start()))};r(Fc,fb),Fc.prototype.ac=function(){var a=Fa?navigator.onLine:!0;a!=this.ub&&(this.ub=a,this.tb())},Fc.prototype.tb=function(){this.dispatchEvent((Fa?navigator.onLine:1)?"online":"offline")},Fc.prototype.l=function(){Fc.L.l.call(this),this.ta.xa(),this.ta=null,this.g&&(this.g.xa(),this.g=null)};var Gc=function(a,b){this.k=a,this.e=b};Gc.prototype.send=function(a,b){return b.set(Xb,this.k.la),this.e.send(a,b)};var Hc=function(a){this.e=a};Hc.prototype.send=function(a,b){return Ic(b),Jc(b),this.e.send(a,b)};var Ic=function(a){ja(a,function(b,c){void 0!==b.maxLength&&"text"==b.valueType&&0<b.maxLength&&c.length>b.maxLength&&a.set(b,c.substring(0,b.maxLength))})},Jc=function(a){ja(a,function(b,c){void 0!==b.defaultValue&&c==b.defaultValue&&a.remove(b)})},Kc={status:"device-offline",Ba:void 0},Lc={status:"rate-limited",Ba:void 0},Mc={status:"sampled-out",Ba:void 0},Nc={status:"sent",Ba:void 0},Oc=function(a,b){this.Wb=a,this.e=b};Oc.prototype.send=function(a,b){var c;c=this.Wb;var d=c.pb(),e=Math.floor((d-c.ob)*c.Sb);return e>0&&(c.$=Math.min(c.$+e,c.Tb),c.ob=d),1>c.$?c=!1:(c.$-=1,c=!0),c||"item"==a||"transaction"==a?this.e.send(a,b):Lb(Lc)};var Pc=function(){this.$=60,this.Tb=500,this.Sb=5e-4,this.pb=function(){return(new Date).getTime()},this.ob=this.pb()},Qc=function(a,b){this.k=a,this.e=b};Qc.prototype.send=function(a,b){var c,d=b.get(Xb),d=parseInt(d.split("-")[1],16);return"timing"!=a?c=this.k.V:((c=b.get($b))&&b.remove($b),c||(c=this.k.V)),655.36*c>d?this.e.send(a,b):Lb(Mc)};var Rc=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/,Sc=wa,Tc=function(a,b){if(Sc){Sc=!1;var d=c.location;if(d){var e=d.href;if(e&&(e=(e=Tc(3,e))?decodeURI(e):e)&&e!=d.hostname)throw Sc=!0,Error()}}return b.match(Rc)[a]||null},Uc=function(){};Uc.prototype.Eb=null;var Vc,Wc=function(a){var b;return(b=a.Eb)||(b={},Zc(a)&&(b[0]=!0,b[1]=!0),b=a.Eb=b),b},Xc=function(){};r(Xc,Uc);var Yc=function(a){return(a=Zc(a))?new ActiveXObject(a):new XMLHttpRequest},Zc=function(a){if(!a.Hb&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.Hb=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return a.Hb};Vc=new Xc;var $c=function(a){fb.call(this),this.headers=new L,this.fa=a||null,this.D=!1,this.ca=this.a=null,this.ba=this.Fa="",this.K=this.Ea=this.aa=this.Ha=!1,this.ea=0,this.da=null,this.cb="",this.Ga=this.Kb=!1};r($c,fb);var _c=/^https?$/i,ad=["POST","PUT"],bd=[],cd=function(a,b,c){var d=new $c;bd.push(d),b&&d.listen("complete",b),d.bb("ready",d.tc),d.send(a,"POST",c,void 0)};$c.prototype.tc=function(){this.xa(),A(bd,this)},$c.prototype.send=function(a,b,d,e){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.Fa+"; newUri="+a);b=b?b.toUpperCase():"GET",this.Fa=a,this.ba="",this.Ha=!1,this.D=!0,this.a=Yc(this.fa?this.fa:Vc),this.ca=Wc(this.fa?this.fa:Vc),this.a.onreadystatechange=n(this.eb,this);try{this.Ea=!0,this.a.open(b,String(a),!0),this.Ea=!1}catch(f){return void this.ga(5,f)}a=d||"";var g=this.headers.clone();e&&ha(e,function(a,b){g.set(b,a)}),e=z(g.F()),d=c.FormData&&a instanceof c.FormData,!(0<=v(ad,b))||e||d||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),g.forEach(function(a,b){this.a.setRequestHeader(b,a)},this),this.cb&&(this.a.responseType=this.cb),"withCredentials"in this.a&&(this.a.withCredentials=this.Kb);try{id(this),0<this.ea&&((this.Ga=dd(this.a))?(this.a.timeout=this.ea,this.a.ontimeout=n(this.fb,this)):this.da=Bc(this.fb,this.ea,this)),this.aa=!0,this.a.send(a),this.aa=!1}catch(h){this.ga(5,h)}};var dd=function(a){return ua&&Aa(9)&&i(a.timeout)&&void 0!==a.ontimeout},ed=function(a){return"content-type"==a.toLowerCase()};$c.prototype.fb=function(){"undefined"!=typeof b&&this.a&&(this.ba="Timed out after "+this.ea+"ms, aborting",this.dispatchEvent("timeout"),this.abort(8))},$c.prototype.ga=function(a,b){this.D=!1,this.a&&(this.K=!0,this.a.abort(),this.K=!1),this.ba=b,fd(this),hd(this)};var fd=function(a){a.Ha||(a.Ha=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))};$c.prototype.abort=function(){this.a&&this.D&&(this.D=!1,this.K=!0,this.a.abort(),this.K=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),hd(this))},$c.prototype.l=function(){this.a&&(this.D&&(this.D=!1,this.K=!0,this.a.abort(),this.K=!1),hd(this,!0)),$c.L.l.call(this)},$c.prototype.eb=function(){this.Y||(this.Ea||this.aa||this.K?gd(this):this.jc())},$c.prototype.jc=function(){gd(this)};var gd=function(a){if(a.D&&"undefined"!=typeof b&&(!a.ca[1]||4!=jd(a)||2!=kd(a)))if(a.aa&&4==jd(a))Bc(a.eb,0,a);else if(a.dispatchEvent("readystatechange"),4==jd(a)){a.D=!1;try{var c,d,e=kd(a);a:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:d=!0;break a;default:d=!1}if(!(c=d)){var f;if(f=0===e){var g=Tc(1,String(a.Fa));if(!g&&self.location)var h=self.location.protocol,g=h.substr(0,h.length-1);f=!_c.test(g?g.toLowerCase():"")}c=f}if(c)a.dispatchEvent("complete"),a.dispatchEvent("success");else{var i;try{i=2<jd(a)?a.a.statusText:""}catch(j){i=""}a.ba=i+" ["+kd(a)+"]",fd(a)}}finally{hd(a)}}},hd=function(a,b){if(a.a){id(a);var c=a.a,e=a.ca[0]?d:null;a.a=null,a.ca=null,b||a.dispatchEvent("ready");try{c.onreadystatechange=e}catch(f){}}},id=function(a){a.a&&a.Ga&&(a.a.ontimeout=null),i(a.da)&&(c.clearTimeout(a.da),a.da=null)},jd=function(a){return a.a?a.a.readyState:0},kd=function(a){try{return 2<jd(a)?a.a.status:-1}catch(b){return-1}},ld=function(a,b,c){this.r=a||null,this.oc=!!c},md=function(a){if(!a.c&&(a.c=new L,a.h=0,a.r))for(var b=a.r.split("&"),c=0;c<b.length;c++){var d=b[c].indexOf("="),e=null,f=null;d>=0?(e=b[c].substring(0,d),f=b[c].substring(d+1)):e=b[c],e=decodeURIComponent(e.replace(/\+/g," ")),e=nd(a,e),a.add(e,f?decodeURIComponent(f.replace(/\+/g," ")):"")}};a=ld.prototype,a.c=null,a.h=null,a.add=function(a,b){md(this),this.r=null,a=nd(this,a);var c=this.c.get(a);return c||this.c.set(a,c=[]),c.push(b),this.h++,this},a.remove=function(a){return md(this),a=nd(this,a),this.c.Q(a)?(this.r=null,this.h-=this.c.get(a).length,this.c.remove(a)):!1},a.Q=function(a){return md(this),a=nd(this,a),this.c.Q(a)},a.F=function(){md(this);for(var a=this.c.t(),b=this.c.F(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c},a.t=function(a){md(this);var b=[];if(h(a))this.Q(a)&&(b=B(b,this.c.get(nd(this,a))));else{a=this.c.t();for(var c=0;c<a.length;c++)b=B(b,a[c])}return b},a.set=function(a,b){return md(this),this.r=null,a=nd(this,a),this.Q(a)&&(this.h-=this.c.get(a).length),this.c.set(a,[b]),this.h++,this},a.get=function(a,b){var c=a?this.t(a):[];return 0<c.length?String(c[0]):b},a.toString=function(){if(this.r)return this.r;if(!this.c)return"";for(var a=[],b=this.c.F(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.t(d),f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="="+encodeURIComponent(String(d[f]))),a.push(g)}return this.r=a.join("&")},a.clone=function(){var a=new ld;return a.r=this.r,this.c&&(a.c=this.c.clone(),a.h=this.h),a};var nd=function(a,b){var c=String(b);return a.oc&&(c=c.toLowerCase()),c},od=function(a,b){this.$b=a,this.na=b};od.prototype.send=function(a,b){if(Fa&&!navigator.onLine)return Mb();var c=new Eb,d=pd(a,b);return d.length>this.na?c.w({status:"payload-too-big",Ba:ea("Encoded hit length == %s, but should be <= %s.",d.length,this.na)}):cd(this.$b,function(){c.G(Nc)},d),c};var pd=function(a,b){var c=new ld;return c.add(Q.name,a),ja(b,function(a,b){c.add(a.name,b.toString())}),c.toString()},qd=function(a,b,c){this.k=a,this.Qb=b,this.na=c};qd.prototype.Sa=function(){if(!this.q){var a=this.k;if(!Ib(a.ha).C)throw Error("Cannot construct shared channel prior to settings being ready.");new Fc;var b=new Hc(new od(this.Qb,this.na)),c=new Pc;this.q=new Gc(a,new Qc(a,new Oc(c,b)))}return this.q};var rd=new L,sd=function(){if(!N){var a=new vc("google-analytics");N=new oc(a)}return N};q("goog.async.Deferred",Eb),q("goog.async.Deferred.prototype.addCallback",Eb.prototype.J),q("goog.events.EventTarget",fb),q("goog.events.EventTarget.prototype.listen",fb.prototype.listen),q("analytics.getService",function(a){var b=rd.get(a,null);if(null===b){var b=chrome.runtime.getManifest().version,c=sd();if(!O){var d=sd();O=new zc(d,new qd(d,"https://www.google-analytics.com/collect",8192))}b=new ic("ca1.5.2",a,b,c,O),rd.set(a,b)}return b}),q("analytics.internal.GoogleAnalyticsService",ic),q("analytics.internal.GoogleAnalyticsService.prototype.getTracker",ic.prototype.Cc),q("analytics.internal.GoogleAnalyticsService.prototype.getConfig",ic.prototype.Bc),q("analytics.internal.ServiceSettings",oc),q("analytics.internal.ServiceSettings.prototype.setTrackingPermitted",oc.prototype.Lc),q("analytics.internal.ServiceSettings.prototype.isTrackingPermitted",oc.prototype.va),q("analytics.internal.ServiceSettings.prototype.setSampleRate",oc.prototype.Kc),q("analytics.internal.ServiceTracker",gc),q("analytics.internal.ServiceTracker.prototype.send",gc.prototype.send),q("analytics.internal.ServiceTracker.prototype.sendAppView",gc.prototype.Gc),
q("analytics.internal.ServiceTracker.prototype.sendEvent",gc.prototype.Hc),q("analytics.internal.ServiceTracker.prototype.sendSocial",gc.prototype.Jc),q("analytics.internal.ServiceTracker.prototype.sendException",gc.prototype.Ic),q("analytics.internal.ServiceTracker.prototype.sendTiming",gc.prototype.Cb),q("analytics.internal.ServiceTracker.prototype.startTiming",gc.prototype.Mc),q("analytics.internal.ServiceTracker.Timing",hc),q("analytics.internal.ServiceTracker.Timing.prototype.send",hc.prototype.send),q("analytics.internal.ServiceTracker.prototype.forceSessionStart",gc.prototype.Ac),q("analytics.internal.ServiceTracker.prototype.addFilter",gc.prototype.S),q("analytics.internal.FilterChannel.Hit",Sb),q("analytics.internal.FilterChannel.Hit.prototype.getHitType",Sb.prototype.Gb),q("analytics.internal.FilterChannel.Hit.prototype.getParameters",Sb.prototype.T),q("analytics.internal.FilterChannel.Hit.prototype.cancel",Sb.prototype.cancel),q("analytics.ParameterMap",ia),q("analytics.ParameterMap.Entry",ia.Entry),q("analytics.ParameterMap.prototype.set",ia.prototype.set),q("analytics.ParameterMap.prototype.get",ia.prototype.get),q("analytics.ParameterMap.prototype.remove",ia.prototype.remove),q("analytics.ParameterMap.prototype.toObject",ia.prototype.Jb),q("analytics.HitTypes.APPVIEW","appview"),q("analytics.HitTypes.EVENT","event"),q("analytics.HitTypes.SOCIAL","social"),q("analytics.HitTypes.TRANSACTION","transaction"),q("analytics.HitTypes.ITEM","item"),q("analytics.HitTypes.TIMING","timing"),q("analytics.HitTypes.EXCEPTION","exception"),F(X,function(a){var b=a.id.replace(/[A-Z]/,"_$&").toUpperCase();q("analytics.Parameters."+b,a)}),q("analytics.filters.EventLabelerBuilder",ca),q("analytics.filters.EventLabelerBuilder.prototype.appendToExistingLabel",ca.prototype.wc),q("analytics.filters.EventLabelerBuilder.prototype.stripValue",ca.prototype.Nc),q("analytics.filters.EventLabelerBuilder.prototype.powersOfTwo",ca.prototype.Ec),q("analytics.filters.EventLabelerBuilder.prototype.rangeBounds",ca.prototype.Fc),q("analytics.filters.EventLabelerBuilder.prototype.build",ca.prototype.Ca),q("analytics.filters.FilterBuilder",aa),q("analytics.filters.FilterBuilder.builder",ba),q("analytics.filters.FilterBuilder.prototype.when",aa.prototype.when),q("analytics.filters.FilterBuilder.prototype.whenHitType",aa.prototype.zb),q("analytics.filters.FilterBuilder.prototype.whenValue",aa.prototype.Oc),q("analytics.filters.FilterBuilder.prototype.applyFilter",aa.prototype.xb),q("analytics.filters.FilterBuilder.prototype.build",aa.prototype.Ca),q("analytics.EventBuilder",ka),q("analytics.EventBuilder.builder",function(){return la}),q("analytics.EventBuilder.prototype.category",ka.prototype.xc),q("analytics.EventBuilder.prototype.action",ka.prototype.action),q("analytics.EventBuilder.prototype.label",ka.prototype.label),q("analytics.EventBuilder.prototype.value",ka.prototype.value),q("analytics.EventBuilder.prototype.dimension",ka.prototype.yc),q("analytics.EventBuilder.prototype.metric",ka.prototype.Dc),q("analytics.EventBuilder.prototype.send",ka.prototype.send)}();var hex_chr="0123456789abcdef".split("");"5d41402abc4b2a76b9719d911017c592"!=md5("hello");var CanvasImage=function(a){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),document.body.appendChild(this.canvas),this.width=this.canvas.width=a.width,this.height=this.canvas.height=a.height,this.context.drawImage(a,0,0,this.width,this.height)};CanvasImage.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},CanvasImage.prototype.update=function(a){this.context.putImageData(a,0,0)},CanvasImage.prototype.getPixelCount=function(){return this.width*this.height},CanvasImage.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)},CanvasImage.prototype.removeCanvas=function(){this.canvas.parentNode.removeChild(this.canvas)};var ColorThief=function(){};if(ColorThief.prototype.getColor=function(a,b){var c=this.getPalette(a,5,b),d=c[0];return d},ColorThief.prototype.getPalette=function(a,b,c){"undefined"==typeof b&&(b=10),"undefined"==typeof c&&(c=10);for(var d,e,f,g,h,i=new CanvasImage(a),j=i.getImageData(),k=j.data,l=i.getPixelCount(),m=[],n=0;l>n;n+=c)d=4*n,e=k[d+0],f=k[d+1],g=k[d+2],h=k[d+3],h>=125&&(e>250&&f>250&&g>250||m.push([e,f,g]));var o=MMCQ.quantize(m,b),p=o.palette();return i.removeCanvas(),p},!pv)var pv={map:function(a,b){var c={};return b?a.map(function(a,d){return c.index=d,b.call(c,a)}):a.slice()},naturalOrder:function(a,b){return b>a?-1:a>b?1:0},sum:function(a,b){var c={};return a.reduce(b?function(a,d,e){return c.index=e,a+b.call(c,d)}:function(a,b){return a+b},0)},max:function(a,b){return Math.max.apply(null,b?pv.map(a,b):a)}};var MMCQ=function(){function a(a,b,c){return(a<<2*i)+(b<<i)+c}function b(a){function b(){c.sort(a),d=!0}var c=[],d=!1;return{push:function(a){c.push(a),d=!1},peek:function(a){return d||b(),void 0===a&&(a=c.length-1),c[a]},pop:function(){return d||b(),c.pop()},size:function(){return c.length},map:function(a){return c.map(a)},debug:function(){return d||b(),c}}}function c(a,b,c,d,e,f,g){var h=this;h.r1=a,h.r2=b,h.g1=c,h.g2=d,h.b1=e,h.b2=f,h.histo=g}function d(){this.vboxes=new b(function(a,b){return pv.naturalOrder(a.vbox.count()*a.vbox.volume(),b.vbox.count()*b.vbox.volume())})}function e(b){var c,d,e,f,g=1<<3*i,h=new Array(g);return b.forEach(function(b){d=b[0]>>j,e=b[1]>>j,f=b[2]>>j,c=a(d,e,f),h[c]=(h[c]||0)+1}),h}function f(a,b){var d,e,f,g=1e6,h=0,i=1e6,k=0,l=1e6,m=0;return a.forEach(function(a){d=a[0]>>j,e=a[1]>>j,f=a[2]>>j,g>d?g=d:d>h&&(h=d),i>e?i=e:e>k&&(k=e),l>f?l=f:f>m&&(m=f)}),new c(g,h,i,k,l,m,b)}function g(b,c){function d(a){var b,d,e,f,g,h=a+"1",j=a+"2",k=0;for(i=c[h];i<=c[j];i++)if(o[i]>n/2){for(e=c.copy(),f=c.copy(),b=i-c[h],d=c[j]-i,g=d>=b?Math.min(c[j]-1,~~(i+d/2)):Math.max(c[h],~~(i-1-b/2));!o[g];)g++;for(k=p[g];!k&&o[g-1];)k=p[--g];return e[j]=g,f[h]=e[j]+1,[e,f]}}if(c.count()){var e=c.r2-c.r1+1,f=c.g2-c.g1+1,g=c.b2-c.b1+1,h=pv.max([e,f,g]);if(1==c.count())return[c.copy()];var i,j,k,l,m,n=0,o=[],p=[];if(h==e)for(i=c.r1;i<=c.r2;i++){for(l=0,j=c.g1;j<=c.g2;j++)for(k=c.b1;k<=c.b2;k++)m=a(i,j,k),l+=b[m]||0;n+=l,o[i]=n}else if(h==f)for(i=c.g1;i<=c.g2;i++){for(l=0,j=c.r1;j<=c.r2;j++)for(k=c.b1;k<=c.b2;k++)m=a(j,i,k),l+=b[m]||0;n+=l,o[i]=n}else for(i=c.b1;i<=c.b2;i++){for(l=0,j=c.r1;j<=c.r2;j++)for(k=c.g1;k<=c.g2;k++)m=a(j,k,i),l+=b[m]||0;n+=l,o[i]=n}return o.forEach(function(a,b){p[b]=n-a}),d(h==e?"r":h==f?"g":"b")}}function h(a,c){function h(a,b){for(var c,d=1,e=0;k>e;)if(c=a.pop(),c.count()){var f=g(i,c),h=f[0],j=f[1];if(!h)return;if(a.push(h),j&&(a.push(j),d++),d>=b)return;if(e++>k)return}else a.push(c),e++}if(!a.length||2>c||c>256)return!1;var i=e(a),j=0;i.forEach(function(){j++});var m=f(a,i),n=new b(function(a,b){return pv.naturalOrder(a.count(),b.count())});n.push(m),h(n,l*c);for(var o=new b(function(a,b){return pv.naturalOrder(a.count()*a.volume(),b.count()*b.volume())});n.size();)o.push(n.pop());h(o,c-o.size());for(var p=new d;o.size();)p.push(o.pop());return p}var i=5,j=8-i,k=1e3,l=.75;return c.prototype={volume:function(a){var b=this;return(!b._volume||a)&&(b._volume=(b.r2-b.r1+1)*(b.g2-b.g1+1)*(b.b2-b.b1+1)),b._volume},count:function(b){var c=this,d=c.histo;if(!c._count_set||b){var e,f,g,h=0;for(e=c.r1;e<=c.r2;e++)for(f=c.g1;f<=c.g2;f++)for(g=c.b1;g<=c.b2;g++)index=a(e,f,g),h+=d[index]||0;c._count=h,c._count_set=!0}return c._count},copy:function(){var a=this;return new c(a.r1,a.r2,a.g1,a.g2,a.b1,a.b2,a.histo)},avg:function(b){var c=this,d=c.histo;if(!c._avg||b){var e,f,g,h,j,k=0,l=1<<8-i,m=0,n=0,o=0;for(f=c.r1;f<=c.r2;f++)for(g=c.g1;g<=c.g2;g++)for(h=c.b1;h<=c.b2;h++)j=a(f,g,h),e=d[j]||0,k+=e,m+=e*(f+.5)*l,n+=e*(g+.5)*l,o+=e*(h+.5)*l;c._avg=k?[~~(m/k),~~(n/k),~~(o/k)]:[~~(l*(c.r1+c.r2+1)/2),~~(l*(c.g1+c.g2+1)/2),~~(l*(c.b1+c.b2+1)/2)]}return c._avg},contains:function(a){var b=this,c=a[0]>>j;return gval=a[1]>>j,bval=a[2]>>j,c>=b.r1&&c<=b.r2&&gval>=b.g1&&gval<=b.g2&&bval>=b.b1&&bval<=b.b2}},d.prototype={push:function(a){this.vboxes.push({vbox:a,color:a.avg()})},palette:function(){return this.vboxes.map(function(a){return a.color})},size:function(){return this.vboxes.size()},map:function(a){for(var b=this.vboxes,c=0;c<b.size();c++)if(b.peek(c).vbox.contains(a))return b.peek(c).color;return this.nearest(a)},nearest:function(a){for(var b,c,d,e=this.vboxes,f=0;f<e.size();f++)c=Math.sqrt(Math.pow(a[0]-e.peek(f).color[0],2)+Math.pow(a[1]-e.peek(f).color[1],2)+Math.pow(a[2]-e.peek(f).color[2],2)),(b>c||void 0===b)&&(b=c,d=e.peek(f).color);return d},forcebw:function(){var a=this.vboxes;a.sort(function(a,b){return pv.naturalOrder(pv.sum(a.color),pv.sum(b.color))});var b=a[0].color;b[0]<5&&b[1]<5&&b[2]<5&&(a[0].color=[0,0,0]);var c=a.length-1,d=a[c].color;d[0]>251&&d[1]>251&&d[2]>251&&(a[c].color=[255,255,255])}},{quantize:h}}();window.XNotification=function(){"use strict";var a=window.Notification||window.webkitNotification||window.mozNotification,b=Object.create(HTMLElement.prototype);return Object.defineProperty(b,"tag",{configurable:!1,enumerable:!1,get:function(){return this.hasAttribute("tag")?this.getAttribute("tag"):null},set:function(a){this.setAttribute("tag",a)}}),Object.defineProperty(b,"icon",{configurable:!1,enumerable:!1,get:function(){return this.hasAttribute("icon")?this.getAttribute("icon"):null},set:function(a){this.setAttribute("icon",a)}}),Object.defineProperty(b,"autoshow",{configurable:!1,enumerable:!1,get:function(){return this.hasAttribute("autoshow")}}),Object.defineProperty(b,"delay",{configurable:!1,enumerable:!1,get:function(){return this.hasAttribute("delay")?Number(this.getAttribute("delay"))||0:null},set:function(a){this.setAttribute("delay",a)}}),Object.defineProperty(b,"timeout",{configurable:!1,enumerable:!1,get:function(){return this.hasAttribute("timeout")?Number(this.getAttribute("timeout"))||0:null},set:function(a){this.setAttribute("timeout",a)}}),b.createdCallback=function(){this.style.display="none","granted"!==a.permission&&a.requestPermission(function(b){a.permission!==b&&(a.permission=b)})},b.attachedCallback=function(){this.autoshow&&this.show()},b.detachedCallback=function(){this.notification&&this.notification.close()},b.attributeChangedCallback=function(a,b,c){},b.show=function(){var b=this;this.delayTimerId=setTimeout(function(){b.notification=new a(b.title,{dir:b.dir||"auto",lang:b.lang,body:b.textContent,tag:b.tag,icon:b.icon}),0!==b.timeout&&(b.timeoutTimerId=window.setTimeout(function(){b.close()},b.timeout))},b.delay)},b.addEventListener=function(a,b,c){this.notification.addEventListener(a,b,c)},b.removeEventListener=function(a,b,c){this.notification.removeEventListener(a,b,c)},b.close=function(){this.notification&&this.notification.close(),this.disposeTimer()},b.disposeTimer=function(){this.delayTimerId&&window.clearTimeout(this.delayTimerId),this.timeoutTimerId&&window.clearTimeout(this.timeoutTimerId)},document.registerElement("x-notification",{prototype:b})}(),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.moment=b()}(this,function(){"use strict";function a(){return Uc.apply(null,arguments)}function b(a){Uc=a}function c(a){return"[object Array]"===Object.prototype.toString.call(a)}function d(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function e(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function f(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function g(a,b){for(var c in b)f(b,c)&&(a[c]=b[c]);return f(b,"toString")&&(a.toString=b.toString),f(b,"valueOf")&&(a.valueOf=b.valueOf),a}function h(a,b,c,d){return Da(a,b,c,d,!0).utc()}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function j(a){return null==a._pf&&(a._pf=i()),a._pf}function k(a){if(null==a._isValid){var b=j(a);a._isValid=!(isNaN(a._d.getTime())||!(b.overflow<0)||b.empty||b.invalidMonth||b.invalidWeekday||b.nullInput||b.invalidFormat||b.userInvalidated),a._strict&&(a._isValid=a._isValid&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour)}return a._isValid}function l(a){var b=h(NaN);return null!=a?g(j(b),a):j(b).userInvalidated=!0,b}function m(a){return void 0===a}function n(a,b){var c,d,e;if(m(b._isAMomentObject)||(a._isAMomentObject=b._isAMomentObject),m(b._i)||(a._i=b._i),m(b._f)||(a._f=b._f),m(b._l)||(a._l=b._l),m(b._strict)||(a._strict=b._strict),m(b._tzm)||(a._tzm=b._tzm),m(b._isUTC)||(a._isUTC=b._isUTC),m(b._offset)||(a._offset=b._offset),m(b._pf)||(a._pf=j(b)),m(b._locale)||(a._locale=b._locale),Wc.length>0)for(c in Wc)d=Wc[c],e=b[d],m(e)||(a[d]=e);return a}function o(b){n(this,b),this._d=new Date(null!=b._d?b._d.getTime():NaN),Xc===!1&&(Xc=!0,a.updateOffset(this),Xc=!1)}function p(a){return a instanceof o||null!=a&&null!=a._isAMomentObject}function q(a){return 0>a?Math.ceil(a):Math.floor(a)}function r(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=q(b)),c}function s(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&r(a[d])!==r(b[d]))&&g++;return g+f}function t(){}function u(a){return a?a.toLowerCase().replace("_","-"):a}function v(a){for(var b,c,d,e,f=0;f<a.length;){for(e=u(a[f]).split("-"),b=e.length,c=u(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=w(e.slice(0,b).join("-")))return d;if(c&&c.length>=b&&s(e,c,!0)>=b-1)break;b--}f++}return null}function w(a){var b=null;if(!Yc[a]&&"undefined"!=typeof module&&module&&module.exports)try{b=Vc._abbr,require("./locale/"+a),x(b)}catch(c){}return Yc[a]}function x(a,b){var c;return a&&(c=m(b)?z(a):y(a,b),c&&(Vc=c)),Vc._abbr}function y(a,b){return null!==b?(b.abbr=a,Yc[a]=Yc[a]||new t,Yc[a].set(b),x(a),Yc[a]):(delete Yc[a],null)}function z(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return Vc;if(!c(a)){if(b=w(a))return b;a=[a]}return v(a)}function A(a,b){var c=a.toLowerCase();Zc[c]=Zc[c+"s"]=Zc[b]=a}function B(a){return"string"==typeof a?Zc[a]||Zc[a.toLowerCase()]:void 0}function C(a){var b,c,d={};for(c in a)f(a,c)&&(b=B(c),b&&(d[b]=a[c]));return d}function D(a){return a instanceof Function||"[object Function]"===Object.prototype.toString.call(a)}function E(b,c){return function(d){return null!=d?(G(this,b,d),a.updateOffset(this,c),this):F(this,b)}}function F(a,b){return a.isValid()?a._d["get"+(a._isUTC?"UTC":"")+b]():NaN}function G(a,b,c){a.isValid()&&a._d["set"+(a._isUTC?"UTC":"")+b](c)}function H(a,b){var c;if("object"==typeof a)for(c in a)this.set(c,a[c]);else if(a=B(a),D(this[a]))return this[a](b);return this}function I(a,b,c){var d=""+Math.abs(a),e=b-d.length,f=a>=0;return(f?c?"+":"":"-")+Math.pow(10,Math.max(0,e)).toString().substr(1)+d}function J(a,b,c,d){var e=d;"string"==typeof d&&(e=function(){return this[d]()}),a&&(bd[a]=e),b&&(bd[b[0]]=function(){return I(e.apply(this,arguments),b[1],b[2])}),c&&(bd[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function K(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function L(a){var b,c,d=a.match($c);for(b=0,c=d.length;c>b;b++)bd[d[b]]?d[b]=bd[d[b]]:d[b]=K(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function M(a,b){return a.isValid()?(b=N(b,a.localeData()),ad[b]=ad[b]||L(b),ad[b](a)):a.localeData().invalidDate()}function N(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(_c.lastIndex=0;d>=0&&_c.test(a);)a=a.replace(_c,c),_c.lastIndex=0,d-=1;return a}function O(a,b,c){td[a]=D(b)?b:function(a,d){return a&&c?c:b}}function P(a,b){return f(td,a)?td[a](b._strict,b._locale):new RegExp(Q(a))}function Q(a){return R(a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e}))}function R(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function S(a,b){var c,d=b;for("string"==typeof a&&(a=[a]),"number"==typeof b&&(d=function(a,c){c[b]=r(a)}),c=0;c<a.length;c++)ud[a[c]]=d}function T(a,b){S(a,function(a,c,d,e){d._w=d._w||{},b(a,d._w,d,e)})}function U(a,b,c){null!=b&&f(ud,a)&&ud[a](b,c._a,c,a)}function V(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function W(a,b){return c(this._months)?this._months[a.month()]:this._months[Ed.test(b)?"format":"standalone"][a.month()]}function X(a,b){return c(this._monthsShort)?this._monthsShort[a.month()]:this._monthsShort[Ed.test(b)?"format":"standalone"][a.month()]}function Y(a,b,c){var d,e,f;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;12>d;d++){if(e=h([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}}function Z(a,b){var c;return a.isValid()?"string"==typeof b&&(b=a.localeData().monthsParse(b),"number"!=typeof b)?a:(c=Math.min(a.date(),V(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a):a}function $(b){return null!=b?(Z(this,b),a.updateOffset(this,!0),this):F(this,"Month")}function _(){return V(this.year(),this.month())}function aa(a){return this._monthsParseExact?(f(this,"_monthsRegex")||ca.call(this),a?this._monthsShortStrictRegex:this._monthsShortRegex):this._monthsShortStrictRegex&&a?this._monthsShortStrictRegex:this._monthsShortRegex}function ba(a){return this._monthsParseExact?(f(this,"_monthsRegex")||ca.call(this),a?this._monthsStrictRegex:this._monthsRegex):this._monthsStrictRegex&&a?this._monthsStrictRegex:this._monthsRegex}function ca(){function a(a,b){return b.length-a.length}var b,c,d=[],e=[],f=[];for(b=0;12>b;b++)c=h([2e3,b]),d.push(this.monthsShort(c,"")),e.push(this.months(c,"")),f.push(this.months(c,"")),f.push(this.monthsShort(c,""));for(d.sort(a),e.sort(a),f.sort(a),b=0;12>b;b++)d[b]=R(d[b]),e[b]=R(e[b]),f[b]=R(f[b]);this._monthsRegex=new RegExp("^("+f.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+e.join("|")+")$","i"),this._monthsShortStrictRegex=new RegExp("^("+d.join("|")+")$","i")}function da(a){var b,c=a._a;return c&&-2===j(a).overflow&&(b=c[wd]<0||c[wd]>11?wd:c[xd]<1||c[xd]>V(c[vd],c[wd])?xd:c[yd]<0||c[yd]>24||24===c[yd]&&(0!==c[zd]||0!==c[Ad]||0!==c[Bd])?yd:c[zd]<0||c[zd]>59?zd:c[Ad]<0||c[Ad]>59?Ad:c[Bd]<0||c[Bd]>999?Bd:-1,j(a)._overflowDayOfYear&&(vd>b||b>xd)&&(b=xd),j(a)._overflowWeeks&&-1===b&&(b=Cd),j(a)._overflowWeekday&&-1===b&&(b=Dd),j(a).overflow=b),a}function ea(b){a.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+b)}function fa(a,b){var c=!0;return g(function(){return c&&(ea(a+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),c=!1),b.apply(this,arguments)},b)}function ga(a,b){Jd[a]||(ea(b),Jd[a]=!0)}function ha(a){var b,c,d,e,f,g,h=a._i,i=Kd.exec(h)||Ld.exec(h);if(i){for(j(a).iso=!0,b=0,c=Nd.length;c>b;b++)if(Nd[b][1].exec(i[1])){e=Nd[b][0],d=Nd[b][2]!==!1;break}if(null==e)return void(a._isValid=!1);if(i[3]){for(b=0,c=Od.length;c>b;b++)if(Od[b][1].exec(i[3])){f=(i[2]||" ")+Od[b][0];break}if(null==f)return void(a._isValid=!1)}if(!d&&null!=f)return void(a._isValid=!1);if(i[4]){if(!Md.exec(i[4]))return void(a._isValid=!1);g="Z"}a._f=e+(f||"")+(g||""),wa(a)}else a._isValid=!1}function ia(b){var c=Pd.exec(b._i);return null!==c?void(b._d=new Date(+c[1])):(ha(b),void(b._isValid===!1&&(delete b._isValid,a.createFromInputFallback(b))))}function ja(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 100>a&&a>=0&&isFinite(h.getFullYear())&&h.setFullYear(a),h}function ka(a){var b=new Date(Date.UTC.apply(null,arguments));return 100>a&&a>=0&&isFinite(b.getUTCFullYear())&&b.setUTCFullYear(a),b}function la(a){return ma(a)?366:365}function ma(a){return a%4===0&&a%100!==0||a%400===0}function na(){return ma(this.year())}function oa(a,b,c){var d=7+b-c,e=(7+ka(a,0,d).getUTCDay()-b)%7;return-e+d-1}function pa(a,b,c,d,e){var f,g,h=(7+c-d)%7,i=oa(a,d,e),j=1+7*(b-1)+h+i;return 0>=j?(f=a-1,g=la(f)+j):j>la(a)?(f=a+1,g=j-la(a)):(f=a,g=j),{year:f,dayOfYear:g}}function qa(a,b,c){var d,e,f=oa(a.year(),b,c),g=Math.floor((a.dayOfYear()-f-1)/7)+1;return 1>g?(e=a.year()-1,d=g+ra(e,b,c)):g>ra(a.year(),b,c)?(d=g-ra(a.year(),b,c),e=a.year()+1):(e=a.year(),d=g),{week:d,year:e}}function ra(a,b,c){var d=oa(a,b,c),e=oa(a+1,b,c);return(la(a)-d+e)/7}function sa(a,b,c){return null!=a?a:null!=b?b:c}function ta(b){var c=new Date(a.now());return b._useUTC?[c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()]:[c.getFullYear(),c.getMonth(),c.getDate()]}function ua(a){var b,c,d,e,f=[];if(!a._d){for(d=ta(a),a._w&&null==a._a[xd]&&null==a._a[wd]&&va(a),a._dayOfYear&&(e=sa(a._a[vd],d[vd]),a._dayOfYear>la(e)&&(j(a)._overflowDayOfYear=!0),c=ka(e,0,a._dayOfYear),a._a[wd]=c.getUTCMonth(),a._a[xd]=c.getUTCDate()),b=0;3>b&&null==a._a[b];++b)a._a[b]=f[b]=d[b];for(;7>b;b++)a._a[b]=f[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[yd]&&0===a._a[zd]&&0===a._a[Ad]&&0===a._a[Bd]&&(a._nextDay=!0,a._a[yd]=0),a._d=(a._useUTC?ka:ja).apply(null,f),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[yd]=24)}}function va(a){var b,c,d,e,f,g,h,i;b=a._w,null!=b.GG||null!=b.W||null!=b.E?(f=1,g=4,c=sa(b.GG,a._a[vd],qa(Ea(),1,4).year),d=sa(b.W,1),e=sa(b.E,1),(1>e||e>7)&&(i=!0)):(f=a._locale._week.dow,g=a._locale._week.doy,c=sa(b.gg,a._a[vd],qa(Ea(),f,g).year),d=sa(b.w,1),null!=b.d?(e=b.d,(0>e||e>6)&&(i=!0)):null!=b.e?(e=b.e+f,(b.e<0||b.e>6)&&(i=!0)):e=f),1>d||d>ra(c,f,g)?j(a)._overflowWeeks=!0:null!=i?j(a)._overflowWeekday=!0:(h=pa(c,d,e,f,g),a._a[vd]=h.year,a._dayOfYear=h.dayOfYear)}function wa(b){if(b._f===a.ISO_8601)return void ha(b);b._a=[],j(b).empty=!0;var c,d,e,f,g,h=""+b._i,i=h.length,k=0;for(e=N(b._f,b._locale).match($c)||[],c=0;c<e.length;c++)f=e[c],d=(h.match(P(f,b))||[])[0],d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&j(b).unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),k+=d.length),bd[f]?(d?j(b).empty=!1:j(b).unusedTokens.push(f),U(f,d,b)):b._strict&&!d&&j(b).unusedTokens.push(f);j(b).charsLeftOver=i-k,h.length>0&&j(b).unusedInput.push(h),j(b).bigHour===!0&&b._a[yd]<=12&&b._a[yd]>0&&(j(b).bigHour=void 0),b._a[yd]=xa(b._locale,b._a[yd],b._meridiem),ua(b),da(b)}function xa(a,b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,c):null!=a.isPM?(d=a.isPM(c),d&&12>b&&(b+=12),d||12!==b||(b=0),b):b}function ya(a){var b,c,d,e,f;if(0===a._f.length)return j(a).invalidFormat=!0,void(a._d=new Date(NaN));for(e=0;e<a._f.length;e++)f=0,b=n({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._f=a._f[e],wa(b),k(b)&&(f+=j(b).charsLeftOver,f+=10*j(b).unusedTokens.length,j(b).score=f,(null==d||d>f)&&(d=f,c=b));g(a,c||b)}function za(a){if(!a._d){var b=C(a._i);a._a=e([b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],function(a){return a&&parseInt(a,10)}),ua(a)}}function Aa(a){var b=new o(da(Ba(a)));return b._nextDay&&(b.add(1,"d"),b._nextDay=void 0),b}function Ba(a){var b=a._i,e=a._f;return a._locale=a._locale||z(a._l),null===b||void 0===e&&""===b?l({nullInput:!0}):("string"==typeof b&&(a._i=b=a._locale.preparse(b)),p(b)?new o(da(b)):(c(e)?ya(a):e?wa(a):d(b)?a._d=b:Ca(a),k(a)||(a._d=null),a))}function Ca(b){var f=b._i;void 0===f?b._d=new Date(a.now()):d(f)?b._d=new Date(+f):"string"==typeof f?ia(b):c(f)?(b._a=e(f.slice(0),function(a){return parseInt(a,10)}),ua(b)):"object"==typeof f?za(b):"number"==typeof f?b._d=new Date(f):a.createFromInputFallback(b)}function Da(a,b,c,d,e){var f={};return"boolean"==typeof c&&(d=c,c=void 0),f._isAMomentObject=!0,f._useUTC=f._isUTC=e,f._l=c,f._i=a,f._f=b,f._strict=d,Aa(f)}function Ea(a,b,c,d){return Da(a,b,c,d,!1)}function Fa(a,b){var d,e;if(1===b.length&&c(b[0])&&(b=b[0]),!b.length)return Ea();for(d=b[0],e=1;e<b.length;++e)(!b[e].isValid()||b[e][a](d))&&(d=b[e]);return d}function Ga(){var a=[].slice.call(arguments,0);return Fa("isBefore",a)}function Ha(){var a=[].slice.call(arguments,0);return Fa("isAfter",a)}function Ia(a){var b=C(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1e3*j+6e4*i+36e5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=z(),this._bubble()}function Ja(a){return a instanceof Ia}function Ka(a,b){J(a,0,0,function(){var a=this.utcOffset(),c="+";return 0>a&&(a=-a,c="-"),c+I(~~(a/60),2)+b+I(~~a%60,2)})}function La(a,b){var c=(b||"").match(a)||[],d=c[c.length-1]||[],e=(d+"").match(Ud)||["-",0,0],f=+(60*e[1])+r(e[2]);return"+"===e[0]?f:-f}function Ma(b,c){var e,f;return c._isUTC?(e=c.clone(),f=(p(b)||d(b)?+b:+Ea(b))-+e,e._d.setTime(+e._d+f),a.updateOffset(e,!1),e):Ea(b).local()}function Na(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function Oa(b,c){var d,e=this._offset||0;return this.isValid()?null!=b?("string"==typeof b?b=La(qd,b):Math.abs(b)<16&&(b=60*b),!this._isUTC&&c&&(d=Na(this)),this._offset=b,this._isUTC=!0,null!=d&&this.add(d,"m"),e!==b&&(!c||this._changeInProgress?cb(this,Za(b-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?e:Na(this):null!=b?this:NaN}function Pa(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}function Qa(a){return this.utcOffset(0,a)}function Ra(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(Na(this),"m")),this}function Sa(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(La(pd,this._i)),this}function Ta(a){return this.isValid()?(a=a?Ea(a).utcOffset():0,(this.utcOffset()-a)%60===0):!1}function Ua(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Va(){if(!m(this._isDSTShifted))return this._isDSTShifted;var a={};if(n(a,this),a=Ba(a),a._a){var b=a._isUTC?h(a._a):Ea(a._a);this._isDSTShifted=this.isValid()&&s(a._a,b.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Wa(){return this.isValid()?!this._isUTC:!1}function Xa(){return this.isValid()?this._isUTC:!1}function Ya(){return this.isValid()?this._isUTC&&0===this._offset:!1}function Za(a,b){var c,d,e,g=a,h=null;return Ja(a)?g={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(g={},b?g[b]=a:g.milliseconds=a):(h=Vd.exec(a))?(c="-"===h[1]?-1:1,g={y:0,d:r(h[xd])*c,h:r(h[yd])*c,m:r(h[zd])*c,s:r(h[Ad])*c,ms:r(h[Bd])*c}):(h=Wd.exec(a))?(c="-"===h[1]?-1:1,g={y:$a(h[2],c),M:$a(h[3],c),d:$a(h[4],c),h:$a(h[5],c),m:$a(h[6],c),s:$a(h[7],c),w:$a(h[8],c)}):null==g?g={}:"object"==typeof g&&("from"in g||"to"in g)&&(e=ab(Ea(g.from),Ea(g.to)),g={},g.ms=e.milliseconds,g.M=e.months),d=new Ia(g),Ja(a)&&f(a,"_locale")&&(d._locale=a._locale),d}function $a(a,b){var c=a&&parseFloat(a.replace(",","."));return(isNaN(c)?0:c)*b}function _a(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function ab(a,b){var c;return a.isValid()&&b.isValid()?(b=Ma(b,a),a.isBefore(b)?c=_a(a,b):(c=_a(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0}}function bb(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||(ga(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period)."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=Za(c,d),cb(this,e,a),this}}function cb(b,c,d,e){var f=c._milliseconds,g=c._days,h=c._months;b.isValid()&&(e=null==e?!0:e,f&&b._d.setTime(+b._d+f*d),g&&G(b,"Date",F(b,"Date")+g*d),h&&Z(b,F(b,"Month")+h*d),e&&a.updateOffset(b,g||h))}function db(a,b){var c=a||Ea(),d=Ma(c,this).startOf("day"),e=this.diff(d,"days",!0),f=-6>e?"sameElse":-1>e?"lastWeek":0>e?"lastDay":1>e?"sameDay":2>e?"nextDay":7>e?"nextWeek":"sameElse",g=b&&(D(b[f])?b[f]():b[f]);return this.format(g||this.localeData().calendar(f,this,Ea(c)))}function eb(){return new o(this)}function fb(a,b){var c=p(a)?a:Ea(a);return this.isValid()&&c.isValid()?(b=B(m(b)?"millisecond":b),"millisecond"===b?+this>+c:+c<+this.clone().startOf(b)):!1}function gb(a,b){var c=p(a)?a:Ea(a);return this.isValid()&&c.isValid()?(b=B(m(b)?"millisecond":b),"millisecond"===b?+c>+this:+this.clone().endOf(b)<+c):!1}function hb(a,b,c){return this.isAfter(a,c)&&this.isBefore(b,c)}function ib(a,b){var c,d=p(a)?a:Ea(a);return this.isValid()&&d.isValid()?(b=B(b||"millisecond"),"millisecond"===b?+this===+d:(c=+d,+this.clone().startOf(b)<=c&&c<=+this.clone().endOf(b))):!1}function jb(a,b){return this.isSame(a,b)||this.isAfter(a,b)}function kb(a,b){return this.isSame(a,b)||this.isBefore(a,b)}function lb(a,b,c){var d,e,f,g;return this.isValid()?(d=Ma(a,this),d.isValid()?(e=6e4*(d.utcOffset()-this.utcOffset()),b=B(b),"year"===b||"month"===b||"quarter"===b?(g=mb(this,d),"quarter"===b?g/=3:"year"===b&&(g/=12)):(f=this-d,g="second"===b?f/1e3:"minute"===b?f/6e4:"hour"===b?f/36e5:"day"===b?(f-e)/864e5:"week"===b?(f-e)/6048e5:f),c?g:q(g)):NaN):NaN}function mb(a,b){var c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,"months");return 0>b-f?(c=a.clone().add(e-1,"months"),d=(b-f)/(f-c)):(c=a.clone().add(e+1,"months"),d=(b-f)/(c-f)),-(e+d)}function nb(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ob(){var a=this.clone().utc();return 0<a.year()&&a.year()<=9999?D(Date.prototype.toISOString)?this.toDate().toISOString():M(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):M(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function pb(b){var c=M(this,b||a.defaultFormat);return this.localeData().postformat(c)}function qb(a,b){return this.isValid()&&(p(a)&&a.isValid()||Ea(a).isValid())?Za({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function rb(a){return this.from(Ea(),a)}function sb(a,b){return this.isValid()&&(p(a)&&a.isValid()||Ea(a).isValid())?Za({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function tb(a){return this.to(Ea(),a)}function ub(a){var b;return void 0===a?this._locale._abbr:(b=z(a),null!=b&&(this._locale=b),this)}function vb(){return this._locale}function wb(a){switch(a=B(a)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a&&this.weekday(0),"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this}function xb(a){return a=B(a),void 0===a||"millisecond"===a?this:this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms")}function yb(){return+this._d-6e4*(this._offset||0)}function zb(){return Math.floor(+this/1e3)}function Ab(){return this._offset?new Date(+this):this._d}function Bb(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function Cb(){var a=this;return{years:a.year(),months:a.month(),date:a.date(),hours:a.hours(),minutes:a.minutes(),seconds:a.seconds(),milliseconds:a.milliseconds()}}function Db(){return this.isValid()?this.toISOString():"null"}function Eb(){return k(this)}function Fb(){return g({},j(this))}function Gb(){return j(this).overflow}function Hb(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ib(a,b){J(0,[a,a.length],0,b)}function Jb(a){return Nb.call(this,a,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Kb(a){return Nb.call(this,a,this.isoWeek(),this.isoWeekday(),1,4)}function Lb(){return ra(this.year(),1,4)}function Mb(){
var a=this.localeData()._week;return ra(this.year(),a.dow,a.doy)}function Nb(a,b,c,d,e){var f;return null==a?qa(this,d,e).year:(f=ra(a,d,e),b>f&&(b=f),Ob.call(this,a,b,c,d,e))}function Ob(a,b,c,d,e){var f=pa(a,b,c,d,e),g=ka(f.year,0,f.dayOfYear);return this.year(g.getUTCFullYear()),this.month(g.getUTCMonth()),this.date(g.getUTCDate()),this}function Pb(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)}function Qb(a){return qa(a,this._week.dow,this._week.doy).week}function Rb(){return this._week.dow}function Sb(){return this._week.doy}function Tb(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")}function Ub(a){var b=qa(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")}function Vb(a,b){return"string"!=typeof a?a:isNaN(a)?(a=b.weekdaysParse(a),"number"==typeof a?a:null):parseInt(a,10)}function Wb(a,b){return c(this._weekdays)?this._weekdays[a.day()]:this._weekdays[this._weekdays.isFormat.test(b)?"format":"standalone"][a.day()]}function Xb(a){return this._weekdaysShort[a.day()]}function Yb(a){return this._weekdaysMin[a.day()]}function Zb(a,b,c){var d,e,f;for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),d=0;7>d;d++){if(e=Ea([2e3,1]).day(d),c&&!this._fullWeekdaysParse[d]&&(this._fullWeekdaysParse[d]=new RegExp("^"+this.weekdays(e,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[d]=new RegExp("^"+this.weekdaysShort(e,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[d]=new RegExp("^"+this.weekdaysMin(e,"").replace(".",".?")+"$","i")),this._weekdaysParse[d]||(f="^"+this.weekdays(e,"")+"|^"+this.weekdaysShort(e,"")+"|^"+this.weekdaysMin(e,""),this._weekdaysParse[d]=new RegExp(f.replace(".",""),"i")),c&&"dddd"===b&&this._fullWeekdaysParse[d].test(a))return d;if(c&&"ddd"===b&&this._shortWeekdaysParse[d].test(a))return d;if(c&&"dd"===b&&this._minWeekdaysParse[d].test(a))return d;if(!c&&this._weekdaysParse[d].test(a))return d}}function $b(a){if(!this.isValid())return null!=a?this:NaN;var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=Vb(a,this.localeData()),this.add(a-b,"d")):b}function _b(a){if(!this.isValid())return null!=a?this:NaN;var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")}function ac(a){return this.isValid()?null==a?this.day()||7:this.day(this.day()%7?a:a-7):null!=a?this:NaN}function bc(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==a?b:this.add(a-b,"d")}function cc(){return this.hours()%12||12}function dc(a,b){J(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function ec(a,b){return b._meridiemParse}function fc(a){return"p"===(a+"").toLowerCase().charAt(0)}function gc(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"}function hc(a,b){b[Bd]=r(1e3*("0."+a))}function ic(){return this._isUTC?"UTC":""}function jc(){return this._isUTC?"Coordinated Universal Time":""}function kc(a){return Ea(1e3*a)}function lc(){return Ea.apply(null,arguments).parseZone()}function mc(a,b,c){var d=this._calendar[a];return D(d)?d.call(b,c):d}function nc(a){var b=this._longDateFormat[a],c=this._longDateFormat[a.toUpperCase()];return b||!c?b:(this._longDateFormat[a]=c.replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a])}function oc(){return this._invalidDate}function pc(a){return this._ordinal.replace("%d",a)}function qc(a){return a}function rc(a,b,c,d){var e=this._relativeTime[c];return D(e)?e(a,b,c,d):e.replace(/%d/i,a)}function sc(a,b){var c=this._relativeTime[a>0?"future":"past"];return D(c)?c(b):c.replace(/%s/i,b)}function tc(a){var b,c;for(c in a)b=a[c],D(b)?this[c]=b:this["_"+c]=b;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function uc(a,b,c,d){var e=z(),f=h().set(d,b);return e[c](f,a)}function vc(a,b,c,d,e){if("number"==typeof a&&(b=a,a=void 0),a=a||"",null!=b)return uc(a,b,c,e);var f,g=[];for(f=0;d>f;f++)g[f]=uc(a,f,c,e);return g}function wc(a,b){return vc(a,b,"months",12,"month")}function xc(a,b){return vc(a,b,"monthsShort",12,"month")}function yc(a,b){return vc(a,b,"weekdays",7,"day")}function zc(a,b){return vc(a,b,"weekdaysShort",7,"day")}function Ac(a,b){return vc(a,b,"weekdaysMin",7,"day")}function Bc(){var a=this._data;return this._milliseconds=se(this._milliseconds),this._days=se(this._days),this._months=se(this._months),a.milliseconds=se(a.milliseconds),a.seconds=se(a.seconds),a.minutes=se(a.minutes),a.hours=se(a.hours),a.months=se(a.months),a.years=se(a.years),this}function Cc(a,b,c,d){var e=Za(b,c);return a._milliseconds+=d*e._milliseconds,a._days+=d*e._days,a._months+=d*e._months,a._bubble()}function Dc(a,b){return Cc(this,a,b,1)}function Ec(a,b){return Cc(this,a,b,-1)}function Fc(a){return 0>a?Math.floor(a):Math.ceil(a)}function Gc(){var a,b,c,d,e,f=this._milliseconds,g=this._days,h=this._months,i=this._data;return f>=0&&g>=0&&h>=0||0>=f&&0>=g&&0>=h||(f+=864e5*Fc(Ic(h)+g),g=0,h=0),i.milliseconds=f%1e3,a=q(f/1e3),i.seconds=a%60,b=q(a/60),i.minutes=b%60,c=q(b/60),i.hours=c%24,g+=q(c/24),e=q(Hc(g)),h+=e,g-=Fc(Ic(e)),d=q(h/12),h%=12,i.days=g,i.months=h,i.years=d,this}function Hc(a){return 4800*a/146097}function Ic(a){return 146097*a/4800}function Jc(a){var b,c,d=this._milliseconds;if(a=B(a),"month"===a||"year"===a)return b=this._days+d/864e5,c=this._months+Hc(b),"month"===a?c:c/12;switch(b=this._days+Math.round(Ic(this._months)),a){case"week":return b/7+d/6048e5;case"day":return b+d/864e5;case"hour":return 24*b+d/36e5;case"minute":return 1440*b+d/6e4;case"second":return 86400*b+d/1e3;case"millisecond":return Math.floor(864e5*b)+d;default:throw new Error("Unknown unit "+a)}}function Kc(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*r(this._months/12)}function Lc(a){return function(){return this.as(a)}}function Mc(a){return a=B(a),this[a+"s"]()}function Nc(a){return function(){return this._data[a]}}function Oc(){return q(this.days()/7)}function Pc(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function Qc(a,b,c){var d=Za(a).abs(),e=Ie(d.as("s")),f=Ie(d.as("m")),g=Ie(d.as("h")),h=Ie(d.as("d")),i=Ie(d.as("M")),j=Ie(d.as("y")),k=e<Je.s&&["s",e]||1>=f&&["m"]||f<Je.m&&["mm",f]||1>=g&&["h"]||g<Je.h&&["hh",g]||1>=h&&["d"]||h<Je.d&&["dd",h]||1>=i&&["M"]||i<Je.M&&["MM",i]||1>=j&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,Pc.apply(null,k)}function Rc(a,b){return void 0===Je[a]?!1:void 0===b?Je[a]:(Je[a]=b,!0)}function Sc(a){var b=this.localeData(),c=Qc(this,!a,b);return a&&(c=b.pastFuture(+this,c)),b.postformat(c)}function Tc(){var a,b,c,d=Ke(this._milliseconds)/1e3,e=Ke(this._days),f=Ke(this._months);a=q(d/60),b=q(a/60),d%=60,a%=60,c=q(f/12),f%=12;var g=c,h=f,i=e,j=b,k=a,l=d,m=this.asSeconds();return m?(0>m?"-":"")+"P"+(g?g+"Y":"")+(h?h+"M":"")+(i?i+"D":"")+(j||k||l?"T":"")+(j?j+"H":"")+(k?k+"M":"")+(l?l+"S":""):"P0D"}var Uc,Vc,Wc=a.momentProperties=[],Xc=!1,Yc={},Zc={},$c=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,_c=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ad={},bd={},cd=/\d/,dd=/\d\d/,ed=/\d{3}/,fd=/\d{4}/,gd=/[+-]?\d{6}/,hd=/\d\d?/,id=/\d\d\d\d?/,jd=/\d\d\d\d\d\d?/,kd=/\d{1,3}/,ld=/\d{1,4}/,md=/[+-]?\d{1,6}/,nd=/\d+/,od=/[+-]?\d+/,pd=/Z|[+-]\d\d:?\d\d/gi,qd=/Z|[+-]\d\d(?::?\d\d)?/gi,rd=/[+-]?\d+(\.\d{1,3})?/,sd=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,td={},ud={},vd=0,wd=1,xd=2,yd=3,zd=4,Ad=5,Bd=6,Cd=7,Dd=8;J("M",["MM",2],"Mo",function(){return this.month()+1}),J("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)}),J("MMMM",0,0,function(a){return this.localeData().months(this,a)}),A("month","M"),O("M",hd),O("MM",hd,dd),O("MMM",function(a,b){return b.monthsShortRegex(a)}),O("MMMM",function(a,b){return b.monthsRegex(a)}),S(["M","MM"],function(a,b){b[wd]=r(a)-1}),S(["MMM","MMMM"],function(a,b,c,d){var e=c._locale.monthsParse(a,d,c._strict);null!=e?b[wd]=e:j(c).invalidMonth=a});var Ed=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,Fd="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Gd="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Hd=sd,Id=sd,Jd={};a.suppressDeprecationWarnings=!1;var Kd=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Ld=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Md=/Z|[+-]\d\d(?::?\d\d)?/,Nd=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Od=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Pd=/^\/?Date\((\-?\d+)/i;a.createFromInputFallback=fa("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),J("Y",0,0,function(){var a=this.year();return 9999>=a?""+a:"+"+a}),J(0,["YY",2],0,function(){return this.year()%100}),J(0,["YYYY",4],0,"year"),J(0,["YYYYY",5],0,"year"),J(0,["YYYYYY",6,!0],0,"year"),A("year","y"),O("Y",od),O("YY",hd,dd),O("YYYY",ld,fd),O("YYYYY",md,gd),O("YYYYYY",md,gd),S(["YYYYY","YYYYYY"],vd),S("YYYY",function(b,c){c[vd]=2===b.length?a.parseTwoDigitYear(b):r(b)}),S("YY",function(b,c){c[vd]=a.parseTwoDigitYear(b)}),S("Y",function(a,b){b[vd]=parseInt(a,10)}),a.parseTwoDigitYear=function(a){return r(a)+(r(a)>68?1900:2e3)};var Qd=E("FullYear",!1);a.ISO_8601=function(){};var Rd=fa("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var a=Ea.apply(null,arguments);return this.isValid()&&a.isValid()?this>a?this:a:l()}),Sd=fa("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var a=Ea.apply(null,arguments);return this.isValid()&&a.isValid()?a>this?this:a:l()}),Td=function(){return Date.now?Date.now():+new Date};Ka("Z",":"),Ka("ZZ",""),O("Z",qd),O("ZZ",qd),S(["Z","ZZ"],function(a,b,c){c._useUTC=!0,c._tzm=La(qd,a)});var Ud=/([\+\-]|\d\d)/gi;a.updateOffset=function(){};var Vd=/(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Wd=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Za.fn=Ia.prototype;var Xd=bb(1,"add"),Yd=bb(-1,"subtract");a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Zd=fa("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});J(0,["gg",2],0,function(){return this.weekYear()%100}),J(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ib("gggg","weekYear"),Ib("ggggg","weekYear"),Ib("GGGG","isoWeekYear"),Ib("GGGGG","isoWeekYear"),A("weekYear","gg"),A("isoWeekYear","GG"),O("G",od),O("g",od),O("GG",hd,dd),O("gg",hd,dd),O("GGGG",ld,fd),O("gggg",ld,fd),O("GGGGG",md,gd),O("ggggg",md,gd),T(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=r(a)}),T(["gg","GG"],function(b,c,d,e){c[e]=a.parseTwoDigitYear(b)}),J("Q",0,"Qo","quarter"),A("quarter","Q"),O("Q",cd),S("Q",function(a,b){b[wd]=3*(r(a)-1)}),J("w",["ww",2],"wo","week"),J("W",["WW",2],"Wo","isoWeek"),A("week","w"),A("isoWeek","W"),O("w",hd),O("ww",hd,dd),O("W",hd),O("WW",hd,dd),T(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=r(a)});var $d={dow:0,doy:6};J("D",["DD",2],"Do","date"),A("date","D"),O("D",hd),O("DD",hd,dd),O("Do",function(a,b){return a?b._ordinalParse:b._ordinalParseLenient}),S(["D","DD"],xd),S("Do",function(a,b){b[xd]=r(a.match(hd)[0],10)});var _d=E("Date",!0);J("d",0,"do","day"),J("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),J("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),J("dddd",0,0,function(a){return this.localeData().weekdays(this,a)}),J("e",0,0,"weekday"),J("E",0,0,"isoWeekday"),A("day","d"),A("weekday","e"),A("isoWeekday","E"),O("d",hd),O("e",hd),O("E",hd),O("dd",sd),O("ddd",sd),O("dddd",sd),T(["dd","ddd","dddd"],function(a,b,c,d){var e=c._locale.weekdaysParse(a,d,c._strict);null!=e?b.d=e:j(c).invalidWeekday=a}),T(["d","e","E"],function(a,b,c,d){b[d]=r(a)});var ae="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),be="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ce="Su_Mo_Tu_We_Th_Fr_Sa".split("_");J("DDD",["DDDD",3],"DDDo","dayOfYear"),A("dayOfYear","DDD"),O("DDD",kd),O("DDDD",ed),S(["DDD","DDDD"],function(a,b,c){c._dayOfYear=r(a)}),J("H",["HH",2],0,"hour"),J("h",["hh",2],0,cc),J("hmm",0,0,function(){return""+cc.apply(this)+I(this.minutes(),2)}),J("hmmss",0,0,function(){return""+cc.apply(this)+I(this.minutes(),2)+I(this.seconds(),2)}),J("Hmm",0,0,function(){return""+this.hours()+I(this.minutes(),2)}),J("Hmmss",0,0,function(){return""+this.hours()+I(this.minutes(),2)+I(this.seconds(),2)}),dc("a",!0),dc("A",!1),A("hour","h"),O("a",ec),O("A",ec),O("H",hd),O("h",hd),O("HH",hd,dd),O("hh",hd,dd),O("hmm",id),O("hmmss",jd),O("Hmm",id),O("Hmmss",jd),S(["H","HH"],yd),S(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a),c._meridiem=a}),S(["h","hh"],function(a,b,c){b[yd]=r(a),j(c).bigHour=!0}),S("hmm",function(a,b,c){var d=a.length-2;b[yd]=r(a.substr(0,d)),b[zd]=r(a.substr(d)),j(c).bigHour=!0}),S("hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[yd]=r(a.substr(0,d)),b[zd]=r(a.substr(d,2)),b[Ad]=r(a.substr(e)),j(c).bigHour=!0}),S("Hmm",function(a,b,c){var d=a.length-2;b[yd]=r(a.substr(0,d)),b[zd]=r(a.substr(d))}),S("Hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[yd]=r(a.substr(0,d)),b[zd]=r(a.substr(d,2)),b[Ad]=r(a.substr(e))});var de=/[ap]\.?m?\.?/i,ee=E("Hours",!0);J("m",["mm",2],0,"minute"),A("minute","m"),O("m",hd),O("mm",hd,dd),S(["m","mm"],zd);var fe=E("Minutes",!1);J("s",["ss",2],0,"second"),A("second","s"),O("s",hd),O("ss",hd,dd),S(["s","ss"],Ad);var ge=E("Seconds",!1);J("S",0,0,function(){return~~(this.millisecond()/100)}),J(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),J(0,["SSS",3],0,"millisecond"),J(0,["SSSS",4],0,function(){return 10*this.millisecond()}),J(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),J(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),J(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),J(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),J(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),A("millisecond","ms"),O("S",kd,cd),O("SS",kd,dd),O("SSS",kd,ed);var he;for(he="SSSS";he.length<=9;he+="S")O(he,nd);for(he="S";he.length<=9;he+="S")S(he,hc);var ie=E("Milliseconds",!1);J("z",0,0,"zoneAbbr"),J("zz",0,0,"zoneName");var je=o.prototype;je.add=Xd,je.calendar=db,je.clone=eb,je.diff=lb,je.endOf=xb,je.format=pb,je.from=qb,je.fromNow=rb,je.to=sb,je.toNow=tb,je.get=H,je.invalidAt=Gb,je.isAfter=fb,je.isBefore=gb,je.isBetween=hb,je.isSame=ib,je.isSameOrAfter=jb,je.isSameOrBefore=kb,je.isValid=Eb,je.lang=Zd,je.locale=ub,je.localeData=vb,je.max=Sd,je.min=Rd,je.parsingFlags=Fb,je.set=H,je.startOf=wb,je.subtract=Yd,je.toArray=Bb,je.toObject=Cb,je.toDate=Ab,je.toISOString=ob,je.toJSON=Db,je.toString=nb,je.unix=zb,je.valueOf=yb,je.creationData=Hb,je.year=Qd,je.isLeapYear=na,je.weekYear=Jb,je.isoWeekYear=Kb,je.quarter=je.quarters=Pb,je.month=$,je.daysInMonth=_,je.week=je.weeks=Tb,je.isoWeek=je.isoWeeks=Ub,je.weeksInYear=Mb,je.isoWeeksInYear=Lb,je.date=_d,je.day=je.days=$b,je.weekday=_b,je.isoWeekday=ac,je.dayOfYear=bc,je.hour=je.hours=ee,je.minute=je.minutes=fe,je.second=je.seconds=ge,je.millisecond=je.milliseconds=ie,je.utcOffset=Oa,je.utc=Qa,je.local=Ra,je.parseZone=Sa,je.hasAlignedHourOffset=Ta,je.isDST=Ua,je.isDSTShifted=Va,je.isLocal=Wa,je.isUtcOffset=Xa,je.isUtc=Ya,je.isUTC=Ya,je.zoneAbbr=ic,je.zoneName=jc,je.dates=fa("dates accessor is deprecated. Use date instead.",_d),je.months=fa("months accessor is deprecated. Use month instead",$),je.years=fa("years accessor is deprecated. Use year instead",Qd),je.zone=fa("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Pa);var ke=je,le={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},me={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},ne="Invalid date",oe="%d",pe=/\d{1,2}/,qe={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},re=t.prototype;re._calendar=le,re.calendar=mc,re._longDateFormat=me,re.longDateFormat=nc,re._invalidDate=ne,re.invalidDate=oc,re._ordinal=oe,re.ordinal=pc,re._ordinalParse=pe,re.preparse=qc,re.postformat=qc,re._relativeTime=qe,re.relativeTime=rc,re.pastFuture=sc,re.set=tc,re.months=W,re._months=Fd,re.monthsShort=X,re._monthsShort=Gd,re.monthsParse=Y,re._monthsRegex=Id,re.monthsRegex=ba,re._monthsShortRegex=Hd,re.monthsShortRegex=aa,re.week=Qb,re._week=$d,re.firstDayOfYear=Sb,re.firstDayOfWeek=Rb,re.weekdays=Wb,re._weekdays=ae,re.weekdaysMin=Yb,re._weekdaysMin=ce,re.weekdaysShort=Xb,re._weekdaysShort=be,re.weekdaysParse=Zb,re.isPM=fc,re._meridiemParse=de,re.meridiem=gc,x("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,c=1===r(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),a.lang=fa("moment.lang is deprecated. Use moment.locale instead.",x),a.langData=fa("moment.langData is deprecated. Use moment.localeData instead.",z);var se=Math.abs,te=Lc("ms"),ue=Lc("s"),ve=Lc("m"),we=Lc("h"),xe=Lc("d"),ye=Lc("w"),ze=Lc("M"),Ae=Lc("y"),Be=Nc("milliseconds"),Ce=Nc("seconds"),De=Nc("minutes"),Ee=Nc("hours"),Fe=Nc("days"),Ge=Nc("months"),He=Nc("years"),Ie=Math.round,Je={s:45,m:45,h:22,d:26,M:11},Ke=Math.abs,Le=Ia.prototype;Le.abs=Bc,Le.add=Dc,Le.subtract=Ec,Le.as=Jc,Le.asMilliseconds=te,Le.asSeconds=ue,Le.asMinutes=ve,Le.asHours=we,Le.asDays=xe,Le.asWeeks=ye,Le.asMonths=ze,Le.asYears=Ae,Le.valueOf=Kc,Le._bubble=Gc,Le.get=Mc,Le.milliseconds=Be,Le.seconds=Ce,Le.minutes=De,Le.hours=Ee,Le.days=Fe,Le.weeks=Oc,Le.months=Ge,Le.years=He,Le.humanize=Sc,Le.toISOString=Tc,Le.toString=Tc,Le.toJSON=Tc,Le.locale=ub,Le.localeData=vb,Le.toIsoString=fa("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Tc),Le.lang=Zd,J("X",0,0,"unix"),J("x",0,0,"valueOf"),O("x",od),O("X",rd),S("X",function(a,b,c){c._d=new Date(1e3*parseFloat(a,10))}),S("x",function(a,b,c){c._d=new Date(r(a))}),a.version="2.11.1",b(Ea),a.fn=ke,a.min=Ga,a.max=Ha,a.now=Td,a.utc=h,a.unix=kc,a.months=wc,a.isDate=d,a.locale=x,a.invalid=l,a.duration=Za,a.isMoment=p,a.weekdays=yc,a.parseZone=lc,a.localeData=z,a.isDuration=Ja,a.monthsShort=xc,a.weekdaysMin=Ac,a.defineLocale=y,a.weekdaysShort=zc,a.normalizeUnits=B,a.relativeTimeThreshold=Rc,a.prototype=ke;var Me=a;return Me}),function(){"use strict";function a(c){this.options=b({},a.DEFAULTS,c)}function b(a){for(var b=1,c=arguments.length;c>b;b++){var d=arguments[b];if(d)for(var e in d)a[e]=d[e]}return a}function c(a){return a=16*((a-1/3+1)%2*.5-.5),Math.max(1-a*a,0)}function d(a,b,c){return.5126*c+.7152*b+.0722*a}function e(a,b){return d(a[b],a[b+1],a[b+2])}function f(a,b,c){var d=h(a/255,b/255,c/255),e=g(a/255,b/255,c/255);if(d===e)return 0;var f=(d+e)/2,i=d-e;return f>.5?i/(2-d-e):i/(d+e)}a.DEFAULTS={width:0,height:0,aspect:0,cropWidth:0,cropHeight:0,detailWeight:.2,skinColor:[.78,.57,.44],skinBias:.01,skinBrightnessMin:.2,skinBrightnessMax:1,skinThreshold:.8,skinWeight:1.8,saturationBrightnessMin:.05,saturationBrightnessMax:.9,saturationThreshold:.4,saturationBias:.2,saturationWeight:.3,scoreDownSample:8,step:8,scaleStep:.1,minScale:.9,maxScale:1,edgeRadius:.4,edgeWeight:-20,outsideImportance:-.5,ruleOfThirds:!0,prescale:!0,canvasFactory:null,debug:!1},a.crop=function(b,c,d){if(c.aspect&&(c.width=c.aspect,c.height=1),b.naturalWidth&&(b.naturalWidth!=b.width||b.naturalHeight!=b.height)){var e=new a(c).canvas(b.naturalWidth,b.naturalHeight),f=e.getContext("2d");e.width=b.naturalWidth,e.height=b.naturalHeight,f.drawImage(b,0,0),b=e}var i=1,j=1;c.width&&c.height&&(i=g(b.width/c.width,b.height/c.height),c.cropWidth=~~(c.width*i),c.cropHeight=~~(c.height*i),c.minScale=g(c.maxScale||a.DEFAULTS.maxScale,h(1/i,c.minScale||a.DEFAULTS.minScale)));var k=new a(c);if(c.width&&c.height&&c.prescale!==!1)if(j=1/i/c.minScale,1>j){var l=k.canvas(b.width*j,b.height*j),m=l.getContext("2d");m.drawImage(b,0,0,b.width,b.height,0,0,l.width,l.height),b=l,k.options.cropWidth=~~(c.cropWidth*j),k.options.cropHeight=~~(c.cropHeight*j)}else j=1;for(var n=k.analyse(b),o=0,p=n.crops.length;p>o;o++){var q=n.crops[o];q.x=~~(q.x/j),q.y=~~(q.y/j),q.width=~~(q.width/j),q.height=~~(q.height/j)}return d(n),n},a.isAvailable=function(a){try{var b=new this(a),c=b.canvas(16,16);return"function"==typeof c.getContext}catch(d){return!1}},a.prototype={canvas:function(a,b){if(null!==this.options.canvasFactory)return this.options.canvasFactory(a,b);var c=document.createElement("canvas");return c.width=a,c.height=b,c},edgeDetect:function(a,b){for(var c=a.data,d=b.data,f=a.width,g=a.height,h=0;g>h;h++)for(var i=0;f>i;i++){var j,k=4*(h*f+i);j=0===i||i>=f-1||0===h||h>=g-1?e(c,k):4*e(c,k)-e(c,k-4*f)-e(c,k-4)-e(c,k+4)-e(c,k+4*f),d[k+1]=j}},skinDetect:function(a,b){for(var c=a.data,e=b.data,f=a.width,g=a.height,h=this.options,i=0;g>i;i++)for(var j=0;f>j;j++){var k=4*(i*f+j),l=d(c[k],c[k+1],c[k+2])/255,m=this.skinColor(c[k],c[k+1],c[k+2]);m>h.skinThreshold&&l>=h.skinBrightnessMin&&l<=h.skinBrightnessMax?e[k]=(m-h.skinThreshold)*(255/(1-h.skinThreshold)):e[k]=0}},saturationDetect:function(a,b){for(var c=a.data,e=b.data,g=a.width,h=a.height,i=this.options,j=0;h>j;j++)for(var k=0;g>k;k++){var l=4*(j*g+k),m=d(c[l],c[l+1],c[l+2])/255,n=f(c[l],c[l+1],c[l+2]);n>i.saturationThreshold&&m>=i.saturationBrightnessMin&&m<=i.saturationBrightnessMax?e[l+2]=(n-i.saturationThreshold)*(255/(1-i.saturationThreshold)):e[l+2]=0}},crops:function(a){for(var b=[],c=a.width,d=a.height,e=this.options,f=g(c,d),h=e.cropWidth||f,i=e.cropHeight||f,j=e.maxScale;j>=e.minScale;j-=e.scaleStep)for(var k=0;d>=k+i*j;k+=e.step)for(var l=0;c>=l+h*j;l+=e.step)b.push({x:l,y:k,width:h*j,height:i*j});return b},score:function(a,b){for(var c={detail:0,saturation:0,skin:0,total:0},d=this.options,e=a.data,f=d.scoreDownSample,g=1/f,h=a.height*f,i=a.width*f,j=a.width,k=0;h>k;k+=f)for(var l=0;i>l;l+=f){var m=4*(~~(k*g)*j+~~(l*g)),n=this.importance(b,l,k),o=e[m+1]/255;c.skin+=e[m]/255*(o+d.skinBias)*n,c.detail+=o*n,c.saturation+=e[m+2]/255*(o+d.saturationBias)*n}return c.total=(c.detail*d.detailWeight+c.skin*d.skinWeight+c.saturation*d.saturationWeight)/b.width/b.height,c},importance:function(a,b,d){var e=this.options;if(a.x>b||b>=a.x+a.width||a.y>d||d>=a.y+a.height)return e.outsideImportance;b=(b-a.x)/a.width,d=(d-a.y)/a.height;var f=2*i(.5-b),g=2*i(.5-d),h=Math.max(f-1+e.edgeRadius,0),j=Math.max(g-1+e.edgeRadius,0),l=(h*h+j*j)*e.edgeWeight,m=1.41-k(f*f+g*g);return e.ruleOfThirds&&(m+=1.2*Math.max(0,m+l+.5)*(c(f)+c(g))),m+l},skinColor:function(a,b,c){var d=k(a*a+b*b+c*c),e=this.options,f=a/d-e.skinColor[0],g=b/d-e.skinColor[1],h=c/d-e.skinColor[2],i=k(f*f+g*g+h*h);return 1-i},analyse:function(a){var b={},c=this.options,d=this.canvas(a.width,a.height),e=d.getContext("2d");e.drawImage(a,0,0);var f=e.getImageData(0,0,d.width,d.height),g=e.getImageData(0,0,d.width,d.height);this.edgeDetect(f,g),this.skinDetect(f,g),this.saturationDetect(f,g);var h=this.canvas(j(a.width/c.scoreDownSample),j(a.height/c.scoreDownSample)),i=h.getContext("2d");e.putImageData(g,0,0),i.drawImage(d,0,0,d.width,d.height,0,0,h.width,h.height);for(var k=i.getImageData(0,0,h.width,h.height),l=-(1/0),m=null,n=this.crops(a),o=0,p=n.length;p>o;o++){var q=n[o];q.score=this.score(k,q),q.score.total>l&&(m=q,l=q.score.total)}if(b.crops=n,b.topCrop=m,c.debug&&m){e.fillStyle="rgba(255, 0, 0, 0.1)",e.fillRect(m.x,m.y,m.width,m.height);for(var r=0;r<g.height;r++)for(var s=0;s<g.width;s++){var t=4*(r*g.width+s),u=this.importance(m,s,r);u>0&&(g.data[t+1]+=32*u),0>u&&(g.data[t]+=-64*u),g.data[t+3]=255}e.putImageData(g,0,0),e.strokeStyle="rgba(255, 0, 0, 0.8)",e.strokeRect(m.x,m.y,m.width,m.height),b.debugCanvas=d}return b}};var g=Math.min,h=Math.max,i=Math.abs,j=Math.ceil,k=Math.sqrt;"undefined"!=typeof define&&define.amd&&define(function(){return a}),"undefined"!=typeof exports?exports.SmartCrop=a:"undefined"!=typeof navigator&&(window.SmartCrop=a),"undefined"!=typeof module&&(module.exports=a)}(),!function(a){"use strict";var b=a.HTMLCanvasElement&&a.HTMLCanvasElement.prototype,c=a.Blob&&function(){try{return Boolean(new Blob)}catch(a){return!1}}(),d=c&&a.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(a){return!1}}(),e=a.BlobBuilder||a.WebKitBlobBuilder||a.MozBlobBuilder||a.MSBlobBuilder,f=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,g=(c||e)&&a.atob&&a.ArrayBuffer&&a.Uint8Array&&function(a){var b,g,h,i,j,k,l,m,n;if(b=a.match(f),!b)throw new Error("invalid data URI");for(g=b[2]?b[1]:"text/plain"+(b[3]||";charset=US-ASCII"),h=!!b[4],i=a.slice(b[0].length),j=h?atob(i):decodeURIComponent(i),k=new ArrayBuffer(j.length),l=new Uint8Array(k),m=0;m<j.length;m+=1)l[m]=j.charCodeAt(m);return c?new Blob([d?l:k],{type:g}):(n=new e,n.append(k),n.getBlob(g))};a.HTMLCanvasElement&&!b.toBlob&&(b.mozGetAsFile?b.toBlob=function(a,c,d){a(d&&b.toDataURL&&g?g(this.toDataURL(c,d)):this.mozGetAsFile("blob",c))}:b.toDataURL&&g&&(b.toBlob=function(a,b,c){a(g(this.toDataURL(b,c)))})),"function"==typeof define&&define.amd?define(function(){return g}):"object"==typeof module&&module.exports?module.exports=g:a.dataURLtoBlob=g}(window),function(){"use strict";function a(a){return 1024>a?a+" Bytes":1048576>a?(a/1024).toFixed(2)+" KB":1073741824>a?(a/1048576).toFixed(2)+" MB":(a/1073741824).toFixed(2)+" GB"}function b(a){for(var b,c,d=a.length;0!==d;)c=Math.floor(Math.random()*d),d-=1,b=a[d],a[d]=a[c],a[c]=b;return a}var c=document.querySelector("#tmpl");c.scrolling=!1,c.shuffleSettings={},c.playlist=[],c.page=c.page||0,c.pageLimit=!1,c.shuffleSizes=[20,40,50,75,100,200],c.sortTypes=[{sort:"newest",name:chrome.i18n.getMessage("newButton")},{sort:"alphabeticalByArtist",name:chrome.i18n.getMessage("byArtistButton")},{sort:"alphabeticalByName",name:chrome.i18n.getMessage("titleButton")},{sort:"frequent",name:chrome.i18n.getMessage("frequentButton")},{sort:"recent",name:chrome.i18n.getMessage("recentButton")}],c.calculateStorageSize=function(){navigator.webkitPersistentStorage.queryUsageAndQuota(function(b,d){c.storageQuota=c.$.globals.texts.diskUsed+": "+a(b)+", "+c.$.globals.texts.diskRemaining+": "+a(d)},function(a){console.log("Error",a)})},c.reloadApp=function(){chrome.runtime.reload()},c.openDownloads=function(){c.$.downloadDialog.open()},c.closeDownloads=function(){c.$.downloadDialog.close()},c.openPanel=function(){c.$.panel.openDrawer()},c.appScroller=function(){return c.$.headerPanel.scroller},c.shufflePlaylist=function(){c.tracker.sendEvent("Playlist Shuffled",new Date);var a=c.playlist[c.playing];c.playlist.splice(c.playing,1),b(c.playlist),c.playlist.unshift(a),0!==c.playing&&(c.alreadyPlaying=!0,c.playing=0)},c.openBookmarks=function(){c.$.globals.closeDrawer().then(function(){c.$.globals.doXhr(c.$.globals.buildUrl("getBookmarks",""),"json").then(function(a){"ok"===a.target.response["subsonic-response"].status?(c.allBookmarks=a.target.response["subsonic-response"].bookmarks.bookmark,c.dataLoading=!1,c.$.showBookmarks.open()):(c.dataLoading=!1,c.$.globals.makeToast(a.target.response["subsonic-response"].error.message))})})},c.queBookmark=function(a){a.path[0].dataset.pos;c.dataLoading=!0;var b=c.$.globals.buildUrl("getSong",{id:a.path[0].dataset.id});c.$.globals.doXhr(b,"json").then(function(a){c.$.showBookmarks.close();var b,d=a.target.response["subsonic-response"].song,e={};"music"===d.type?(e.duration=c.$.globals.secondsToMins(d.duration),b="al-"+d.albumId):b=d.coverArt,e.id=d.id,e.album=d.album,e.title=decodeURIComponent(d.title),e.artist=function(){return"Podcast"===d.artist?"":d.artist}(),e.bookmarkPosition=d.bookmarkPosition,c.$.globals.fetchImage(b).then(function(a){e.cover=a,c.$.globals.getDbItem(b+"-palette").then(function(a){e.palette=a.target.result,c.dataLoading=!1,c.playlist=[e],c.$.globals.playListIndex(0)})})})},c.conBookDel=function(a){c.$.showBookmarks.close(),c.delID=a.path[0].dataset.id,c.$.bookmarkConfirm.open()},c.deleteBookmark=function(a){var b=c.$.globals.buildUrl("deleteBookmark",{id:c.delID});c.$.globals.doXhr(b,"json").then(function(a){if("ok"===a.target.response["subsonic-response"].status){c.dataLoading=!0;var b=c.$.globals.buildUrl("getBookmarks");c.$.globals.doXhr(b,"json").then(function(a){c.$.showBookmarks.open(),c.allBookmarks=a.target.response["subsonic-response"].bookmarks.bookmark,c.dataLoading=!1})}else console.log(a.target.response["subsonic-response"]),c.$.globals.makeToast(a.target.response["subsonic-response"].error.message)})},c.confirmDeleteAll=function(){c.allBookmarks&&c.allBookmarks.length&&(c.$.showBookmarks.close(),c.$.bookmarkConfirmAll.open())},c.deleteAllBookmarks=function(){for(var a=0;a<c.allBookmarks.length;a++)!function(a,b){var d=c.$.globals.buildUrl("deleteBookmark",{id:a});c.$.globals.doXhr(d,"json").then(function(a){if(b){c.dataLoading=!0;var d=c.$.globals.buildUrl("getBookmarks");c.$.globals.doXhr(d,"json").then(function(a){c.$.showBookmarks.open(),c.allBookmarks=a.target.response["subsonic-response"].bookmarks.bookmark,c.dataLoading=!1})}})}(c.allBookmarks[a].entry.id,Boolean(a===c.allBookmarks.length-1))},c.closeBookmarks=function(){c.$.showBookmarks.close()},c.closeBookmark=function(){c.$.bookmarkDialog.close()},c.createBookmark=function(){c.$.player.createBookmark()},c.submitBookmark=function(){c.$.player.submitBookmark()},c.playPlaylist=function(a,b,d){var e=d.attributes.ident.value;c.dataLoading=!0,c.playlist=null,c.playlist=[];var f=!1;c.$.player.audio&&c.$.player.audio.pause();var g=c.$.globals.buildUrl("getPlaylist",{id:e});c.$.globals.doXhr(g,"json").then(function(a){var b=a.target.response["subsonic-response"].playlist.entry;b.forEach(function(a){var b={id:a.id,artist:a.artist,title:a.title,duration:c.$.globals.secondsToMins(a.duration)},d="al-"+a.albumId;c.$.globals.fetchImage(d).then(function(a){b.cover=a,c.async(function(){c.$.globals.getDbItem(d+"-palette").then(function(a){b.palette=a.target.result,c.playlist.push(b),f||(f=!0,c.dataLoading=!1,c.closePlaylists(),c.dataLoading=!1,c.$.globals.playListIndex(0))})},null,200)})})})},c.shufflePlay=function(){c.tracker.sendEvent("Shuffle From Menu",new Date),c.dataLoading=!0,c.shuffleLoading=!0,c.playlist.length=0;var a=!1;if(c.startYearInvalid||c.endYearInvalid)c.shuffleLoading=!1,c.$.globals.makeToast(chrome.i18n.getMessage("invalidEntry"));else{c.$.player.audio&&!c.$.player.audio.paused&&c.$.player.audio.pause(),0===c.shuffleSettings.genre&&delete c.shuffleSettings.genre;var b=c.$.globals.buildUrl("getRandomSongs",c.shuffleSettings);c.$.globals.doXhr(b,"json").then(function(b){var d=b.target.response["subsonic-response"].randomSongs.song||[];d.length?d.forEach(function(b){var d={id:b.id,artist:b.artist,title:b.title,duration:c.$.globals.secondsToMins(b.duration)},e="al-"+b.albumId;c.$.globals.fetchImage(e).then(function(b){
d.cover=b,c.$.globals.getDbItem(e+"-palette").then(function(b){d.palette=b.target.result,c.playlist.push(d),a||(a=!0,console.count("shuffle play"),c.dataLoading=!1,c.shuffleLoading=!1,c.$.shuffleOptions.close(),c.$.globals.playListIndex(0))})})}):(c.$.globals.makeToast(chrome.i18n.getMessage("noMatch")),c.shuffleLoading=!1,c.dataLoading=!1)})}},c.clearPlaylist=function(){c.tracker.sendEvent("Clear Playlist",new Date),c.$.player.audio&&!c.$.player.audio.paused&&c.$.player.audio.pause(),c.$.playlistDialog.close(),c.page=0,c.playlist=null,c.playlist=[]},c.toggleVolume=function(){c.$.volumeDialog.open()},c.closeVolume=function(){c.$.volumeDialog.close()},c.toggleRepeat=function(){c.$.player.toggleRepeat()},c.showApp=function(){var a=document.getElementById("loader"),b=document.getElementById("box");a.classList.contains("hide")||(a.classList.add("hide"),b.classList.add("hide"),b.classList.add("hide"),c.askAnalistics())},c.askAnalistics=function(){simpleStorage.getSync().then(function(a){c.service.getConfig().addCallback(function(b){void 0===a.analistics?(c.$.analistics.open(),c.allowAnalistics=function(){c.analisticsEnabled=!0,b.setTrackingPermitted(!0),simpleStorage.setSync({analistics:!0})},c.disAllowAnalistics=function(){c.analisticsEnabled=!1,b.setTrackingPermitted(!1),simpleStorage.setSync({analistics:!1})}):(b.setTrackingPermitted(a.analistics),c.analisticsEnabled=a.analistics)})})},c.jumpTo=function(a,b,d){c.$.wall.jumpToLetter(d.attributes.it.value)},c.setFolder=function(a,b,d){c.folder=d.attributes.i.value,simpleStorage.setSync({mediaFolder:c.folder})},c.savePlayQueue=function(){c.$.playlistDialog.close(),c.$.createPlaylist.open(),c.defaultName=(new Date).toString()},c.savePlayQueue2Playlist=function(){var a=c.$.globals.buildUrl("createPlaylist",{name:c.defaultName}),b=c.playlist.length;c.savingPlaylist=!0;for(var d=0;b>d;d++)a=a+"&songId="+c.playlist[d].id;c.$.globals.doXhr(a,"json").then(function(a){"ok"===a.target.response["subsonic-response"].status?(c.$.globals.makeToast(chrome.i18n.getMessage("playlistCreated")),c.$.createPlaylist.close(),c.savingPlaylist=!1):(c.$.globals.makeToast(chrome.i18n.getMessage("playlistError")),c.savingPlaylist=!1)})},c.closePlaylistSaver=function(){c.$.createPlaylist.close()},c.doAction=function(a,b,d){var e=c.appScroller(),f=c.$.wall,g=c.$.globals.attachAnimation(d);0===c.page&&0!==e.scrollTop&&"podcast"!==f.showing&&"bottom"===c.$.fab.state&&(e.scrollTop=0),0===c.page&&"podcast"===f.showing&&c.$.addPodcast.open(),1===c.page&&c.showPlaylist(),0===c.page&&"mid"===c.$.fab.state&&(g.play(),f.playSomething(d.ident,function(){g.cancel()})),3===c.page&&(g.play(),c.$.aDetails.playSomething(d.ident,function(){g.cancel()}))},c.searchCheck=function(a){"Enter"===a.keyIdentifier&&(a.target.blur(),c.doSearch())},c.doSearch=function(){c.searchQuery?c.$.globals.closeDrawer().then(function(){var a=c.$.globals.buildUrl(function(){return"ID3"===c.queryMethod?"search3":"search2"}(),{query:encodeURIComponent(c.searchQuery),albumCount:200});c.$.globals.doXhr(a,"json").then(function(a){if(c.dataLoading=!0,"ok"===a.target.response["subsonic-response"].status){c.searchQuery="";var b=a.target.response,d=b["subsonic-response"];d.hasOwnProperty("searchResult3")&&d.searchResult3.album?(c.page=0,c.$.wall.response=b,c.showing="wall",c.pageLimit=!0):d.hasOwnProperty("searchResult2")&&d.searchResult2.album?(c.page=0,c.$.wall.response=b,c.showing="wall",c.pageLimit=!0):(c.dataLoading=!1,c.$.globals.makeToast(chrome.i18n.getMessage("noResults")))}})}):c.$.globals.makeToast(chrome.i18n.getMessage("noSearch"))},c.showPlaylist=function(a){c.$.playlistDialog.transition=function(){return a?"core-transition-bottom":"core-transition-top"}(),c.$.playlistDialog.toggle()},c.closePlaylist=function(){c.$.playlistDialog.close()},c.openPlaylists=function(){c.$.globals.closeDrawer().then(function(){c.dataLoading=!1,c.playlistsLoading=!0,c.$.globals.doXhr(c.$.globals.buildUrl("getPlaylists",""),"json").then(function(a){c.playlistsLoading=!1,c.playlists=a.target.response["subsonic-response"].playlists.playlist,c.$.playlistsDialog.open()})})},c.closePlaylists=function(){c.$.playlistsDialog.close()},c.reallyDelete=function(a,b,d){c.delID=d.attributes.ident.value,c.$.playlistsDialog.close(),c.$.playlistConfirm.open()},c.deletePlaylist=function(a,b,d){var e=c.$.globals.buildUrl("deletePlaylist",{id:d.attributes.ident.value});c.$.globals.doXhr(e,"json").then(function(a){"ok"===a.target.response["subsonic-response"].status?(c.playlistsLoading=!0,c.$.globals.doXhr(c.$.globals.buildUrl("getPlaylists",""),"json").then(function(a){c.playlistsLoading=!1,c.playlists=a.target.response["subsonic-response"].playlists.playlist,c.$.playlistsDialog.open()})):c.$.globals.makeToast(chrome.i18n.getMessage("deleteError"))})},c.closeShuffleOptions=function(){c.$.shuffleOptions.close()},c.shuffleOptions=function(){c.$.globals.closeDrawer().then(function(){var a=c.$.globals.buildUrl("getGenres","");c.$.globals.doXhr(a,"json").then(function(a){c.genres=a.target.response["subsonic-response"].genres.genre,c.genres.sort(function(a,b){return a.value<b.value?-1:a.value>b.value?1:0}),c.dataLoading=!1,c.$.shuffleOptions.open()})})},c.closePodcastDialog=function(){c.$.addPodcast.close()},c.toggleWall=function(a,b,d){if(c.listMode=function(){return"cover"===c.listMode?"list":"cover"}(),simpleStorage.setSync({listMode:c.listMode}),c.tracker.sendEvent("ListMode Changed",c.listMode),3===c.page){var e=c.$.aDetails.artistId;c.$.aDetails.queryData(e)}for(var f=document.querySelectorAll(".wallToggle"),g=0;g<f.length;g++)"cover"===c.listMode?f[g].icon="view-stream":f[g].icon="view-module"},c.back2List=function(){c.page=0},c.nowPlaying=function(){c.page=1},c.selectAction=function(a,b,d){var e=c.$.wall;c.tracker.sendEvent("Sorting By "+e.sort,new Date),c.$.globals.closeDrawer().then(function(){e.sort===d.attributes.i.value&&(c.pageLimit=!1,e.request=function(){return"ID3"===c.queryMethod?"getAlbumList2":"getAlbumList"}(),e.post.type=d.attributes.i.value,e.refreshContent(),e.showing=c.listMode,e.$.threshold.clearLower()),e.sort=d.attributes.i.value})},c.getPodcast=function(){c.tracker.sendEvent("Showing Podcast",new Date),c.page=0,c.$.globals.closeDrawer().then(c.$.wall.getPodcast())},c.getStarred=function(){c.tracker.sendEvent("Showing Favorites",new Date),c.page=0,c.$.globals.closeDrawer().then(c.$.wall.getStarred())},c.getArtist=function(){c.tracker.sendEvent("Showing Artist List",new Date),c.page=0,c.$.globals.closeDrawer().then(c.$.wall.getArtist())},c.gotoSettings=function(){c.tracker.sendEvent("Settings Page",new Date),c.$.panel.closeDrawer(),c.page=2},c.refreshPodcast=function(a,b,d){var e=c.$.globals.attachAnimation(d),f=c.$.globals.buildUrl("refreshPodcasts");e.play(),c.$.globals.doXhr(f,"json").then(function(a){e.cancel(),"ok"===a.target.response["subsonic-response"].status&&(c.$.wall.refreshContent(),c.$.globals.makeToast(chrome.i18n.getMessage("podcastCheck")))})},c.addChannel=function(){if(c.tracker.sendEvent("Adding Podcast",new Date),c.castURL||c.$.globals.makeToast(c.urlError),!c.invalidURL){c.addingChannel=!0;var a=c.$.globals.buildUrl("createPodcastChannel",{url:c.castURL});c.$.globals.doXhr(a,"json").then(function(a){"ok"===a.target.response["subsonic-response"].status?(c.addingChannel=!1,c.$.addPodcast.close(),c.$.wall.refreshContent(),c.$.globals.makeToast(chrome.i18n.getMessage("channelAdded")),c.castURL=""):c.$.globals.makeToast(chrome.i18n.getMessage("podcastError"))})}},c.doDelete=function(a,b,d){c.$.wall.deleteChannel(d.attributes.ident.value)},c.deleteEpisode=function(a,b,d){c.$.wall.deleteEpisode(d.attributes.ident.value)},c.getLicense=function(a){var b=c.$.globals.buildUrl("getLicense");c.$.globals.doXhr(b,"json").then(function(b){var d=b.target.response["subsonic-response"];if("ok"===d.status)if(versionCompare(c.version,"1.13.0")>=0)c.serverLicense=d.license,c.timeLeft=moment(d.license.licenseExpires,"YYYYMMDD").fromNow(),c.$.licenseDialog.open(),c.async(a);else{c.serverLicense=d.license;var e=moment(d.license.date,"YYYYMMDD").add(1,"years").calendar();c.timeLeft=moment(e,"YYYYMMDD").fromNow(),c.$.licenseDialog.open(),c.async(a)}})},c.licenseDialogClose=function(){c.$.licenseDialog.close()},c.userDetails=function(){return new Promise(function(a,b){var d=c.$.globals.buildUrl("getUser",{username:c.user});c.$.globals.doXhr(d,"json").then(function(b){var d=b.target.response["subsonic-response"];a(d),"ok"===d.status?c.activeUser=d.user:(c.async(c.userDetails,null,1e3),console.error("Error getting User details"))})})},c._animationPrapare=function(){c._animation=!0},c._animationEnd=function(a){c._animation=!1,3===c.page&&(c.$.aDetails.resize(),c.$.aDetails._animationEnd())},c._resumePlaylist=function(){c.$.resumePlaylist.open()},c.resumeLast=function(){c.playlist=c.lastPlaylist,c.playing=c.lastPlaying},c.clearLastPlaylist=function(){simpleStorage.setSync({lastPlaying:void 0}),c.$.globals._putInDb([],"playlist"),c.lastPlaylist=void 0,c.lastPlaying=void 0},chrome.commands.onCommand.addListener(function(a){var b=document.querySelector("music-player");"mediaPlay"===a?b.playPause():"mediaStop"===a?c.clearPlaylist():"mediaForward"===a?b.nextTrack():"mediaBack"===a?b.lastTrack():"volumeUp"===a&&100!==c.volume?c.volume=Math.abs(c.volume+1):"volumeDown"===a&&0!==c.volume&&(c.volume=Math.abs(c.volume-1))}),c.addEventListener("template-bound",function(){c.$.player.resize(),c.$.globals.openIndexedDB().then(function(){simpleStorage.getSync().then(function(a){c.dataLoading=!1,c.configs=a.configs||[],!c.configs.length&&"url"in a&&"user"in a&&"pass"in a&&(void 0===a.md5Auth&&(a.md5Auth=!0),c.configs.push({name:"Config1",url:a.url,user:a.user,pass:a.pass,md5Auth:a.md5Auth,version:a.version}),chrome.storage.sync.remove("url"),chrome.storage.sync.remove("user"),chrome.storage.sync.remove("pass"),chrome.storage.sync.remove("version"),chrome.storage.sync.remove("md5Auth"),simpleStorage.setSync({configs:c.configs}),simpleStorage.setLocal({currentConfig:0})),c.lastPlaying=a.lastPlaying,c.autoBookmark=a.autoBookmark,c.gapless=a.gapless,c.shuffleSettings.size=50,c.querySize=a.querySize||60,c.volume=a.volume||100,c.queryMethod=a.queryMethod||"ID3",c.repeatPlaylist=!1,c.$.wall.post={type:a.sortType||"newest",size:60,offset:0},c.$.wall.request=a.request||"getAlbumList2",c.repeatText=chrome.i18n.getMessage("playlistRepeatOff"),c.repeatState=chrome.i18n.getMessage("disabled"),c.$.repeatButton.style.color="#db4437",simpleStorage.getLocal().then(function(b){c.bitRate=b.bitRate||320,c.currentConfig=b.currentConfig||0;var d=c.configs[c.currentConfig];if(d)for(var e in d)c[e]=d[e];else c.version="1.11.0",c.md5Auth=a.md5Auth||!0;c.params={u:c.user,v:c.version,c:"PolySonic",f:"json"},c.listMode=a.listMode||"cover";for(var f=document.querySelectorAll(".wallToggle"),g=0;g<f.length;g++)"cover"===c.listMode?f[g].icon="view-stream":f[g].icon="view-module";c.url&&c.user&&c.pass?c.$.globals.initFS().then(function(){var b=c.$.globals.buildUrl("ping");c.$.globals.doXhr(b,"json").then(function(b){var d=b.target.response["subsonic-response"];200===b.target.status?(versionCompare(d.version,c.version)>0&&(c.version=d.version,simpleStorage.getSync("configs").then(function(a){a[c.currentConfig].version=c.version,simpleStorage.setSync({configs:a})})),"ok"===d.status?(console.log("Connected to Subconic loading data"),c.userDetails().then(function(){var b=c.$.globals.buildUrl("getMusicFolders");c.$.globals.doXhr(b,"json").then(function(b){c.mediaFolders=b.target.response["subsonic-response"].musicFolders.musicFolder,c.folder=a.mediaFolder||"none",void 0!==c.mediaFolders&&c.mediaFolders[1]||(c.$.sortBox.style.display="none"),c.tracker.sendAppView("Album Wall"),c.$.globals.getDbItem("playlist").then(function(a){c.lastPlaylist=a.target.result,c.lastPlaylist&&c.lastPlaylist.length&&c.async(c._resumePlaylist,null,1e3)})})})):(c.$.firstRun.open(),c.$.globals.makeToast(b.target.response["subsonic-response"].error.meessage))):(c.$.firstRun.open(),c.$.globals.makeToast("Error connection to Subsonic"))})["catch"](function(){c.$.firstRun.open()})}):c.$.firstRun.open()})})}),c.appScroller().onscroll=function(){var a=c.$.fab,b=c.$.wall,d=c.appScroller();0===c.page&&"off"!==a.state&&d.scrollTop<c.position&&"podcast"!==b.showing?a.state="off":0===c.page&&"bottom"!==a.state&&d.scrollTop>c.position&&"podcast"!==b.showing?a.state="bottom":3===c.page&&"off"!==a.state&&d.scrollTop<c.position?a.state="off":3===c.page&&"bottom"!==a.state&&d.scrollTop>c.position&&(a.state="bottom"),c.position=d.scrollTop,c.scrolling=!0,c.job("scroll",function(){c.scrolling=!1},100)},window.onresize=function(){c.$.aDetails.resize(),c.$.fab.setPos(),c.$.player.resize(),c.$.fab.resize(),c.$.albumDialog._resized(),chrome.app.window.current().innerBounds.width<571&&(chrome.app.window.current().innerBounds.height=761)},c.service=analytics.getService("PolySonic"),c.tracker=c.service.getTracker("UA-50154238-6")})}();