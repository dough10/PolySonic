<!DOCTYPE html>
<html>
  <head>

    <!-- meta data -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="theme-color" content="#4D4C4C">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!-- polyfill -->
    <script src="bower_components/webcomponentsjs/webcomponents-lite.js"></script>
    <link rel="stylesheet" href="app.min.css"/>
    <!-- imports -->
    <link href="imports.html" rel="import">
  </head>
  <body>
    <!-- loading screen -->
    <div id="loader">
      <div class="w128">
        <img src="../images/icon_128.png" height="128" width="128" alt="Icon">
        <div>
          <paper-spinner id="spinner" active=""></paper-spinner>
        </div>
      </div>
    </div>
    <template is="dom-bind" id="app">
      <paper-drawer-panel id="appDrawer" narrow="{{narrow}}">
        <paper-header-panel drawer>
          <paper-toolbar class="medium-tall whiteHeader"></paper-toolbar>
          <paper-item class="menu-item" on-tap="settings">
            <iron-icon icon="settings" class="mRight16"></iron-icon>
            Settings
          </paper-item>
        </paper-header-panel>
        <neon-animated-pages main on-iron-select="mainPageAnimationPrepare" on-neon-animation-finish="mainPageAnimationFinished" entry-animation="{{entryAnimation}}" exit-animation="{{exitAnimation}}" selected="{{page}}">
          <!-- album wall -->
          <neon-animated>
            <iron-scroll-threshold scroll-target="{{scrollTarget}}" on-lower-threshold="lazyLoadAlbums" lower-threshold="500"></iron-scroll-threshold>
            <paper-header-panel id="mainPageHeader">
              <paper-toolbar>
                <paper-icon-button hidden="{{!narrow}}" icon="menu" on-tap="openDrawer" class="mRight20"></paper-icon-button>
                PolySonic
              </paper-toolbar>
              <div hidden="{{!dataLoading}}" class="data-loader">
                <paper-spinner class="blackSpinner" active="{{dataLoading}}"></paper-spinner>
              </div>
              <div class="center">
                <neon-animated-pages entry-animation="fade-in-animation" exit-animation="fade-out-animation" selected="{{subPage}}">
                  <neon-animated>
                    <template is="dom-repeat" items="{{albums}}" as="album">
                      <div class="album js-album-hidden">{{album.artist}}</div>
                    </template>
                  </neon-animated>
                  <neon-animated></neon-animated>
                  <neon-animated></neon-animated>
                </neon-animated-pages>
              </div>
            </paper-header-panel>
          </neon-animated>

          <neon-animated></neon-animated>
          <!-- player -->
          <neon-animated></neon-animated>
          <!-- settings -->
          <neon-animated>
            <paper-header-panel>
              <paper-toolbar class="whiteHeader">
                <paper-icon-button hidden="{{!narrow}}" icon="close" on-tap="back" class="mRight20"></paper-icon-button>
                Settings
              </paper-toolbar>
            </paper-header-panel>
          </neon-animated>
        </neon-animated-pages>
      </paper-drawer-panel>
    </template>

    <!-- <script src="js/google-analytics-bundle.js"></script> -->
    <!-- <script src="js/md5.js"></script>-->
    <script src="js/color-thief.min.js"></script>
    <!-- <script src="js/version_compare.js"></script>-->
    <script src="js/subsonic-api.min.js"></script>
    <script src="js/simpleStorage.js"></script>
    <!-- <script src="js/annyang.min.js"></script> -->

    <script src="js/PolySonic.js"></script>
  </body>
</html>
